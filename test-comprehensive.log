
> rest-express@1.0.0 test:comprehensive
> npm run build && tsx scripts/comprehensive-test.ts


> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

vite v7.1.5 building for production...
transforming...
âœ“ 2431 modules transformed.
rendering chunks...
computing gzip size...
../dist/public/index.html                                         2.52 kB â”‚ gzip:   0.94 kB
../dist/public/assets/index-Dq4j78Nt.css                         97.42 kB â”‚ gzip:  16.71 kB
../dist/public/assets/progress-B4BJW3rm.js                        0.43 kB â”‚ gzip:   0.31 kB
../dist/public/assets/textarea-D6OMkRBu.js                        0.53 kB â”‚ gzip:   0.34 kB
../dist/public/assets/DataNormalization-DzdrLmkI.js               0.61 kB â”‚ gzip:   0.39 kB
../dist/public/assets/IntakeOnePagerDraft-DPpQyEGJ.js             0.62 kB â”‚ gzip:   0.39 kB
../dist/public/assets/DossierBusinessCanvas-BWy3weUH.js           0.62 kB â”‚ gzip:   0.39 kB
../dist/public/assets/PortfolioSizingWorkbench-BFKGz4CJ.js        1.92 kB â”‚ gzip:   0.98 kB
../dist/public/assets/RiskCatalystPlanner-DDDOmtXe.js             2.06 kB â”‚ gzip:   1.00 kB
../dist/public/assets/HomeDailyBrief-BVtL15G7.js                  3.44 kB â”‚ gzip:   1.10 kB
../dist/public/assets/ScenariosStressLab-CtX4snXr.js              3.59 kB â”‚ gzip:   1.19 kB
../dist/public/assets/useRedTeam-C605othw.js                      4.72 kB â”‚ gzip:   2.04 kB
../dist/public/assets/QualityGovernanceScorecard-CKS0CshW.js      6.51 kB â”‚ gzip:   2.68 kB
../dist/public/assets/NaturalLanguageScreener-CQE6p7s5.js         6.81 kB â”‚ gzip:   1.97 kB
../dist/public/assets/workbench-ui-CJKdGid0.js                    7.56 kB â”‚ gzip:   2.05 kB
../dist/public/assets/InsuranceRBCModel-BPXrR8Bd.js               7.72 kB â”‚ gzip:   1.64 kB
../dist/public/assets/FactorAnalysisWorkbench-BU-iwH31.js         9.35 kB â”‚ gzip:   2.02 kB
../dist/public/assets/PairAnalystOmniPrompt-Bhbsru8S.js          10.22 kB â”‚ gzip:   3.22 kB
../dist/public/assets/EPV10Model-Bwii1bZC.js                     10.79 kB â”‚ gzip:   1.88 kB
../dist/public/assets/BankCET1Model-C1IaWKrm.js                  10.85 kB â”‚ gzip:   2.26 kB
../dist/public/assets/FinancialsOwnerEarnings-DqSU9uPQ.js        11.15 kB â”‚ gzip:   3.07 kB
../dist/public/assets/REITNavModel-D01kHv1n.js                   11.88 kB â”‚ gzip:   2.55 kB
../dist/public/assets/ComparativeAnalysisWorkbench-DaS9eQxR.js   12.69 kB â”‚ gzip:   2.37 kB
../dist/public/assets/RedTeamMode-3rVQLjRA.js                    12.86 kB â”‚ gzip:   3.61 kB
../dist/public/assets/WatchlistsPortfolios-3aeLgyj0.js           13.10 kB â”‚ gzip:   4.13 kB
../dist/public/assets/AdvancedUniverseScreener-HBkYJwnX.js       13.80 kB â”‚ gzip:   4.11 kB
../dist/public/assets/MemoHistoryTimeline-D2ezNoCb.js            14.63 kB â”‚ gzip:   4.63 kB
../dist/public/assets/MemoComposer-BFEUTsbs.js                   14.89 kB â”‚ gzip:   3.69 kB
../dist/public/assets/HomeIdeaWorkspace-B2dqvDDd.js              15.55 kB â”‚ gzip:   4.36 kB
../dist/public/assets/MonitoringDashboard-CGHcNAJK.js            15.71 kB â”‚ gzip:   4.95 kB
../dist/public/assets/PostMortem-8zxlbp5q.js                     16.20 kB â”‚ gzip:   4.63 kB
../dist/public/assets/ExecutionPlannerPanel-B1nhLgQ9.js          21.71 kB â”‚ gzip:   6.59 kB
../dist/public/assets/icons-Df_Xs_iV.js                          22.01 kB â”‚ gzip:   4.28 kB
../dist/public/assets/ValuationWorkbench-H4Y6vE2F.js             22.80 kB â”‚ gzip:   4.68 kB
../dist/public/assets/query-lshHbDWQ.js                          31.38 kB â”‚ gzip:   9.44 kB
../dist/public/assets/charts-CjkAZWSL.js                        240.79 kB â”‚ gzip:  56.38 kB
../dist/public/assets/index-aC06ZbSB.js                         240.81 kB â”‚ gzip:  63.76 kB
../dist/public/assets/vendor-B4xQ1yR9.js                        473.20 kB â”‚ gzip: 156.46 kB
âœ“ built in 3.59s

  dist/index.js  304.5kb

âš¡ Done in 9ms
ðŸš€ Starting test execution...
Environment: local
ðŸ“¡ Starting test server...
[Server STDOUT]: Using null DB in test mode
[Server STDOUT]: OpenAI client initialized successfully
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.112Z","level":"info","message":"Workflow router operating in demo mode without database; returning stub responses"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.114Z","level":"info","message":"Request throttler running in permissive mode","context":{"nodeEnv":"test","skipRateLimit":true}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.115Z","level":"info","message":"Performance monitoring started","context":{"interval":15000,"alerting":true}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.115Z","level":"info","message":"Performance optimizer started","context":{"memoryLeakDetection":true,"performanceDegradation":true,"maintenanceTasks":true,"autoOptimization":true}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.117Z","level":"info","message":"Workflow router operating in demo mode without database; returning stub responses"}
[Server STDOUT]: 6:11:31 PM [express] Skipping demo data seeding in test mode
[Server STDOUT]: 6:11:31 PM [express] serving on port 55652 with enhanced connection handling
[Server STDOUT]: 6:11:31 PM [express] Server configuration: keepAlive=65000ms, maxConnections=1000
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.274Z","level":"info","message":"Scaling policy added","context":{"name":"high-cpu-scale-up","metric":"cpu","threshold":80,"action":"scale-up"}}
{"timestamp":"2025-10-01T00:11:31.274Z","level":"info","message":"Scaling policy added","context":{"name":"low-cpu-scale-down","metric":"cpu","threshold":30,"action":"scale-down"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.274Z","level":"info","message":"Scaling policy added","context":{"name":"high-memory-scale-up","metric":"memory","threshold":85,"action":"scale-up"}}
{"timestamp":"2025-10-01T00:11:31.274Z","level":"info","message":"Scaling policy added","context":{"name":"high-response-time-scale-up","metric":"response-time","threshold":2000,"action":"scale-up"}}
{"timestamp":"2025-10-01T00:11:31.274Z","level":"info","message":"Scaling policy added","context":{"name":"high-error-rate-scale-up","metric":"error-rate","threshold":5,"action":"scale-up"}}
âœ… Server started on http://127.0.0.1:55652
[Server STDOUT]: 6:11:31 PM [express] GET /api/health 200 in 4ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.284Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:31.284Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.284Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
âœ… Server health check passed
ðŸ“‹ Executing 4 test suite(s): smoke-tests, api-tests, e2e-tests, performance-tests

ðŸ§ª Running smoke-tests (functional)...
[Server STDOUT]: 6:11:31 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.288Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:31.288Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.288Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/demo/reset with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:11:31 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.297Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:31.297Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.297Z","level":"info","message":"Optional authentication successful","context":{"path":"/demo/reset","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/demo/reset (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.297Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:31.297Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/demo/reset
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.298Z","level":"info","message":"Authentication successful","context":{"path":"/api/demo/reset","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:31.298Z"}}
[Server STDOUT]: Demo data seeded successfully
[Server STDOUT]: 6:11:31 PM [express] POST /api/demo/reset 200 in 2ms :: {"ok":true,"scenario":"default","seed":12345â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.301Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:31.301Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.301Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:31 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.302Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:31.302Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.302Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:31 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.307Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:31.307Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.307Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:31 PM [express] GET /api/appointments 200 in 3ms :: [{"customerId":"ca7a762f-d84f-4fa6-b3a4-0f0â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.308Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:31.308Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:31.308Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics/export","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/chat with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:11:31 PM [express] GET /api/analytics/export 200 in 1ms
Generating business context for AI assistant...
[Server STDOUT]: Business context generated successfully
[Server STDOUT]: Attempting non-streaming with model: gpt-5
[Server STDOUT]: Attempting non-streaming with model: gpt-4o
[Server STDOUT]: Non-streaming successful with model: gpt-4o
[Server STDOUT]: 6:11:40 PM [express] POST /api/chat 200 in 9261ms :: {"message":"Here is the schedule for today at Aâ€¦
{"timestamp":"2025-10-01T00:11:40.572Z","level":"info","message":"Slow request detected","context":{"path":"/chat","method":"POST","duration":9261,"statusCode":200}}
[Server STDOUT]: Generating business context for AI assistant...
[Server STDOUT]: Business context generated successfully
[Server STDOUT]: Attempting streaming with model: gpt-5
[Server STDERR]: OpenAI streaming error with model gpt-5: BadRequestError: 400 Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.
    at APIError.generate (file:///Users/benjaminwilliams/madlab_v2/mad_vibe/node_modules/openai/core/error.mjs:41:20)
    at OpenAI.makeStatusError (file:///Users/benjaminwilliams/madlab_v2/mad_vibe/node_modules/openai/client.mjs:160:32)
    at OpenAI.makeRequest (file:///Users/benjaminwilliams/madlab_v2/mad_vibe/node_modules/openai/client.mjs:328:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async generateStreamingBusinessResponse (file:///Users/benjaminwilliams/madlab_v2/mad_vibe/dist/index.js:5838:22)
    at async file:///Users/benjaminwilliams/madlab_v2/mad_vibe/dist/index.js:6407:26 {
  status: 400,
  headers: Headers {
    date: 'Wed, 01 Oct 2025 00:11:40 GMT',
    'content-type': 'application/json',
    'content-length': '369',
    connection: 'keep-alive',
    'access-control-expose-headers': 'X-Request-ID',
    'openai-organization': 'personal-7ptota',
    'openai-processing-ms': '9',
    'openai-project': 'proj_F0IEeWMDIH1dBqrrRxTwa2bF',
    'openai-version': '2020-10-01',
    'x-envoy-upstream-service-time': '23',
    'x-ratelimit-limit-requests': '500',
    'x-ratelimit-limit-tokens': '500000',
    'x-ratelimit-remaining-requests': '499',
    'x-ratelimit-remaining-tokens': '499353',
    'x-ratelimit-reset-requests': '120ms',
    'x-ratelimit-reset-tokens': '77ms',
    'x-request-id': 'req_6ce16936c8e54c17b74b150271595e36',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=.xSoWXwJeBo3rbjmHZexnTgfR2_nUObb6NHO_ml0mkw-1759277500-1.0.1.1-.leR3ByzFrHhUG85wzLdsak00q7_eKdKYB7XNlzffIx9zY3Apq6t5iyK6vygj3pCykrPC5HCLHrG.5hNWFkFZqq8qthCs4Iw_uEP93WhHOQ; path=/; expires=Wed, 01-Oct-25 00:41:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=bs2r2y6AQ3h.L6.nvJerk.Zd_Y4wGZFE5GS1ICfLZbI-1759277500870-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '9877be7b9804becf-YYC',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_6ce16936c8e54c17b74b150271595e36',
  error: {
    message: 'Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.',
    type: 'invalid_request_error',
    param: 'stream',
    code: 'unsupported_value'
  },
  code: 'unsupported_value',
  param: 'stream',
  type: 'invalid_request_error'
}
[Server STDOUT]: Organization verification issue with gpt-5, trying next model...
Attempting streaming with model: gpt-4o
[TestHttpClient] Sending POST to /api/demo/seed?scenario=low_inventory&seed=123 with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.467Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.467Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.467Z","level":"info","message":"Optional authentication successful","context":{"path":"/demo/seed","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/demo/seed (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.467Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.467Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/demo/seed
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.467Z","level":"info","message":"Authentication successful","context":{"path":"/api/demo/seed","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:41.467Z"}}
[Server STDOUT]: Demo data seeded successfully
[Server STDOUT]: 6:11:41 PM [express] POST /api/demo/seed 200 in 2ms :: {"ok":true,"scenario":"low_inventory","seed":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.469Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.469Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.469Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/demo/seed?scenario=low_inventory&seed=123 with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:11:41 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.471Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.471Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.471Z","level":"info","message":"Optional authentication successful","context":{"path":"/demo/seed","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/demo/seed (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.471Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.471Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/demo/seed
{"timestamp":"2025-10-01T00:11:41.471Z","level":"info","message":"Authentication successful","context":{"path":"/api/demo/seed","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:41.471Z"}}
Demo data seeded successfully
[Server STDOUT]: 6:11:41 PM [express] POST /api/demo/seed 200 in 1ms :: {"ok":true,"scenario":"low_inventory","seed":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.473Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.474Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.474Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.474Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
âœ… smoke-tests: 9/9 passed (100.0%)

ðŸ§ª Running api-tests (functional)...
[Server STDOUT]: 6:11:41 PM [express] GET /api/appointments 400 in 0ms :: {"message":"Invalid date format"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.475Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.475Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.475Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.476Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.476Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.476Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.478Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.478Z"}}
{"timestamp":"2025-10-01T00:11:41.478Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.479Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.479Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.479Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/customers 200 in 0ms :: [{"id":"fc83ccd8-92c3-44d5-b884-63bb78ff2cd6",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.481Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.481Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.481Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"fc83ccd8-92c3-44d5-b884-63bâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.483Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.483Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.483Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.484Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.484Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.484Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.486Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.486Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.486Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.487Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.487Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.487Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.487Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.487Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.487Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
âœ… api-tests: 10/10 passed (100.0%)

ðŸ§ª Running e2e-tests (functional)...
[Server STDOUT]: 6:11:41 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
âœ… e2e-tests: 1/1 passed (100.0%)

ðŸ§ª Running performance-tests (performance)...
ðŸš€ Starting performance test suite...
[Server STDOUT]: Using null DB in test mode
[Server STDOUT]: OpenAI client initialized successfully
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.756Z","level":"info","message":"Workflow router operating in demo mode without database; returning stub responses"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.758Z","level":"info","message":"Request throttler running in permissive mode","context":{"nodeEnv":"test","skipRateLimit":true}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.758Z","level":"info","message":"Performance monitoring started","context":{"interval":15000,"alerting":true}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.758Z","level":"info","message":"Performance optimizer started","context":{"memoryLeakDetection":true,"performanceDegradation":true,"maintenanceTasks":true,"autoOptimization":true}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.760Z","level":"info","message":"Workflow router operating in demo mode without database; returning stub responses"}
[Server STDOUT]: 6:11:41 PM [express] Skipping demo data seeding in test mode
[Server STDOUT]: 6:11:41 PM [express] serving on port 55672 with enhanced connection handling
[Server STDOUT]: 6:11:41 PM [express] Server configuration: keepAlive=65000ms, maxConnections=1000
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.905Z","level":"info","message":"Scaling policy added","context":{"name":"high-cpu-scale-up","metric":"cpu","threshold":80,"action":"scale-up"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.905Z","level":"info","message":"Scaling policy added","context":{"name":"low-cpu-scale-down","metric":"cpu","threshold":30,"action":"scale-down"}}
{"timestamp":"2025-10-01T00:11:41.905Z","level":"info","message":"Scaling policy added","context":{"name":"high-memory-scale-up","metric":"memory","threshold":85,"action":"scale-up"}}
{"timestamp":"2025-10-01T00:11:41.905Z","level":"info","message":"Scaling policy added","context":{"name":"high-response-time-scale-up","metric":"response-time","threshold":2000,"action":"scale-up"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.905Z","level":"info","message":"Scaling policy added","context":{"name":"high-error-rate-scale-up","metric":"error-rate","threshold":5,"action":"scale-up"}}
âœ… Test server started on http://127.0.0.1:55672
[Server STDOUT]: 6:11:41 PM [express] GET /api/health 200 in 5ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.909Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.909Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.909Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/demo/reset with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:11:41 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.918Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.918Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.918Z","level":"info","message":"Optional authentication successful","context":{"path":"/demo/reset","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/demo/reset (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.918Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.918Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/demo/reset
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.918Z","level":"info","message":"Authentication successful","context":{"path":"/api/demo/reset","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:41.918Z"}}
[Server STDOUT]: Demo data seeded successfully

ðŸ“Š Executing load tests...
[Server STDOUT]: 6:11:41 PM [express] POST /api/demo/reset 200 in 3ms :: {"ok":true,"scenario":"default","seed":12345â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.921Z"}}
{"timestamp":"2025-10-01T00:11:41.921Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
âœ… Using service "Executive Cut" (8bce1775-dce5-43ad-aadf-2e7e9bab2e66) for load testing
ðŸš€ Starting load test...
Target: 50 concurrent users
Ramp-up: 30000ms
Sustained: 60000ms
ðŸ“ˆ Ramp-up phase starting...
  Active users: 5/50
[Server STDOUT]: 6:11:41 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
{"timestamp":"2025-10-01T00:11:41.922Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.922Z"}}
{"timestamp":"2025-10-01T00:11:41.922Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.927Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.927Z"}}
{"timestamp":"2025-10-01T00:11:41.927Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/appointments 200 in 3ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.928Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.928Z"}}
{"timestamp":"2025-10-01T00:11:41.928Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.929Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.929Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.929Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.930Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:41.930Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:41.930Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:41 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.210Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.210Z"}}
{"timestamp":"2025-10-01T00:11:42.210Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.318Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.318Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.318Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.331Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.331Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.331Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.380Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.380Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.380Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.420Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.420Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.420Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.528Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.528Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.528Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.634Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.634Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.685Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.721Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.721Z"}}
{"timestamp":"2025-10-01T00:11:42.721Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.812Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.812Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.812Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.893Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.893Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.894Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.900Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.900Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.900Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:42.968Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:42.968Z"}}
{"timestamp":"2025-10-01T00:11:42.968Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:42 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.048Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.048Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.048Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.206Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.206Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.206Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.244Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.244Z"}}
{"timestamp":"2025-10-01T00:11:43.244Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.374Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.374Z"}}
{"timestamp":"2025-10-01T00:11:43.374Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.457Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.457Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.457Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.458Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.458Z"}}
{"timestamp":"2025-10-01T00:11:43.458Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.516Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.516Z"}}
{"timestamp":"2025-10-01T00:11:43.516Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/staff 200 in 2ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.669Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.669Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.669Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.670Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.670Z"}}
{"timestamp":"2025-10-01T00:11:43.670Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.713Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.713Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.713Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.832Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.832Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.832Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.846Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:43.846Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:43.846Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:43 PM [express] GET /api/staff 200 in 2ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.041Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.041Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.041Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.104Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.104Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.104Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.121Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.121Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.121Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.134Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.134Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.134Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.222Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.222Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.223Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.301Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.301Z"}}
{"timestamp":"2025-10-01T00:11:44.301Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.328Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.328Z"}}
{"timestamp":"2025-10-01T00:11:44.329Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: Streaming successful with model: gpt-4o
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.434Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.434Z"}}
{"timestamp":"2025-10-01T00:11:44.434Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.630Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.630Z"}}
{"timestamp":"2025-10-01T00:11:44.630Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:44.630Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.630Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.630Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:44.630Z"}}
[Server STDOUT]: 6:11:44 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.633Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.633Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.633Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.633Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.633Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.633Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:44.633Z"}}
[Server STDOUT]: 6:11:44 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.667Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.667Z"}}
{"timestamp":"2025-10-01T00:11:44.667Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.680Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.680Z"}}
{"timestamp":"2025-10-01T00:11:44.680Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.765Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.765Z"}}
{"timestamp":"2025-10-01T00:11:44.765Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.766Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.766Z"}}
{"timestamp":"2025-10-01T00:11:44.766Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/pos/sales 200 in 0ms :: []
  Active users: 10/50
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.924Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.924Z"}}
{"timestamp":"2025-10-01T00:11:44.924Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.925Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.925Z"}}
{"timestamp":"2025-10-01T00:11:44.925Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.925Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.925Z"}}
{"timestamp":"2025-10-01T00:11:44.925Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.926Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.926Z"}}
{"timestamp":"2025-10-01T00:11:44.926Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.926Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.926Z"}}
{"timestamp":"2025-10-01T00:11:44.926Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.947Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.947Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.947Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.965Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:44.965Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:44.966Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:44 PM [express] GET /api/customers 200 in 2ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.008Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.008Z"}}
{"timestamp":"2025-10-01T00:11:45.008Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.069Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.069Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.069Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.131Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.131Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.131Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.142Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.142Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.142Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.142Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.142Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.142Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.219Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.219Z"}}
{"timestamp":"2025-10-01T00:11:45.219Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.255Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.255Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.255Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.281Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.281Z"}}
{"timestamp":"2025-10-01T00:11:45.281Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.283Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.283Z"}}
{"timestamp":"2025-10-01T00:11:45.283Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.285Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.285Z"}}
{"timestamp":"2025-10-01T00:11:45.285Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.349Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.349Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.349Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.365Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.365Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.366Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.412Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.412Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.412Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.425Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.425Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.425Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.426Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.426Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.426Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.449Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.449Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.449Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.518Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.518Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.518Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.592Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.592Z"}}
{"timestamp":"2025-10-01T00:11:45.592Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.598Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.598Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.598Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.613Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.613Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.655Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.655Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.655Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.682Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.682Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.683Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/profile 200 in 2ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.685Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.694Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.694Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.694Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.716Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.716Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.716Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.741Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.741Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.741Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.798Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.798Z"}}
{"timestamp":"2025-10-01T00:11:45.798Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.822Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.822Z"}}
{"timestamp":"2025-10-01T00:11:45.822Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.884Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.884Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.884Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.913Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.913Z"}}
{"timestamp":"2025-10-01T00:11:45.913Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.950Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.950Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.950Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.988Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.988Z"}}
{"timestamp":"2025-10-01T00:11:45.988Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.989Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.989Z"}}
{"timestamp":"2025-10-01T00:11:45.989Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:45.992Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:45.992Z"}}
{"timestamp":"2025-10-01T00:11:45.992Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:45 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.055Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.055Z"}}
{"timestamp":"2025-10-01T00:11:46.055Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.104Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.104Z"}}
{"timestamp":"2025-10-01T00:11:46.104Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.117Z","level":"info","message":"High heap utilization detected","context":{"heapUtilization":"81.27","heapUsed":22,"heapTotal":27}}
{"timestamp":"2025-10-01T00:11:46.117Z","level":"info","message":"Potential memory leak detected","context":{"rssToHeapRatio":"5.59","rss":123,"heapUsed":22}}
[Server STDERR]: {"timestamp":"2025-10-01T00:11:46.118Z","level":"error","message":"Performance alert: Error rate (4.0%) exceeds threshold","context":{"severity":"critical","metric":"error_rate","value":4,"threshold":1,"error":"error_rate (4) exceeds threshold (1)","stack":"Error: error_rate (4) exceeds threshold (1)\n    at PerformanceMonitor.createAlert (file:///Users/benjaminwilliams/madlab_v2/mad_vibe/dist/index.js:2510:13)\n    at PerformanceMonitor.checkThresholds (file:///Users/benjaminwilliams/madlab_v2/mad_vibe/dist/index.js:2459:16)\n    at Timeout._onTimeout (file:///Users/benjaminwilliams/madlab_v2/mad_vibe/dist/index.js:2289:16)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.118Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"81.40%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.118Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.118Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"81.41%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.173Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.173Z"}}
{"timestamp":"2025-10-01T00:11:46.173Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.184Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.184Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.184Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.189Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.189Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.189Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.196Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.196Z"}}
{"timestamp":"2025-10-01T00:11:46.196Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.221Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.221Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.221Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.228Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.228Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.228Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.248Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.248Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.249Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.261Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.261Z"}}
{"timestamp":"2025-10-01T00:11:46.261Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.295Z","level":"info","message":"Connection metrics","context":{"activeConnections":-98,"totalConnections":100,"timestamp":"2025-10-01T00:11:46.295Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.296Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.296Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.296Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.398Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.398Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.398Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.404Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.404Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.404Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.463Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.463Z"}}
{"timestamp":"2025-10-01T00:11:46.463Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.509Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.509Z"}}
{"timestamp":"2025-10-01T00:11:46.509Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.510Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.510Z"}}
{"timestamp":"2025-10-01T00:11:46.510Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.539Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.539Z"}}
{"timestamp":"2025-10-01T00:11:46.539Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.544Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.544Z"}}
{"timestamp":"2025-10-01T00:11:46.544Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.571Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.571Z"}}
{"timestamp":"2025-10-01T00:11:46.571Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.658Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.658Z"}}
{"timestamp":"2025-10-01T00:11:46.658Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.669Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.669Z"}}
{"timestamp":"2025-10-01T00:11:46.669Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.706Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.706Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.706Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.715Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.715Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.715Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/pos/sales 200 in 2ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.726Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.726Z"}}
{"timestamp":"2025-10-01T00:11:46.726Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.727Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.727Z"}}
{"timestamp":"2025-10-01T00:11:46.727Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.833Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.833Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.833Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.835Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.835Z"}}
{"timestamp":"2025-10-01T00:11:46.835Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.969Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.969Z"}}
{"timestamp":"2025-10-01T00:11:46.969Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.991Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.991Z"}}
{"timestamp":"2025-10-01T00:11:46.991Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.995Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:46.995Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:46.995Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:46 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.011Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.011Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.011Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.024Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.024Z"}}
{"timestamp":"2025-10-01T00:11:47.024Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.056Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.056Z"}}
{"timestamp":"2025-10-01T00:11:47.056Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.088Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.088Z"}}
{"timestamp":"2025-10-01T00:11:47.088Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.124Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.124Z"}}
{"timestamp":"2025-10-01T00:11:47.124Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.150Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.153Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.153Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.153Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.160Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.160Z"}}
{"timestamp":"2025-10-01T00:11:47.160Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.162Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.162Z"}}
{"timestamp":"2025-10-01T00:11:47.162Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.187Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.187Z"}}
{"timestamp":"2025-10-01T00:11:47.187Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.196Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.196Z"}}
{"timestamp":"2025-10-01T00:11:47.196Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.250Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.250Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.250Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.274Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.274Z"}}
{"timestamp":"2025-10-01T00:11:47.274Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.300Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.300Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.300Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.351Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.351Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.351Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.354Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.354Z"}}
{"timestamp":"2025-10-01T00:11:47.354Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.376Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.376Z"}}
{"timestamp":"2025-10-01T00:11:47.376Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.482Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.482Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.482Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/loyalty/entries 200 in 2ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.494Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.494Z"}}
{"timestamp":"2025-10-01T00:11:47.494Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.514Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.514Z"}}
{"timestamp":"2025-10-01T00:11:47.514Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.514Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.514Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.514Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:47.514Z"}}
[Server STDOUT]: 6:11:47 PM [express] POST /api/marketing/campaigns 400 in 2ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.525Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.525Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.525Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.537Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.537Z"}}
{"timestamp":"2025-10-01T00:11:47.537Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.558Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.558Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.558Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.565Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.565Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.565Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.573Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.573Z"}}
{"timestamp":"2025-10-01T00:11:47.573Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.628Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.628Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.628Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.655Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.655Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.655Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.690Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.690Z"}}
{"timestamp":"2025-10-01T00:11:47.690Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.710Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.710Z"}}
{"timestamp":"2025-10-01T00:11:47.710Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.729Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.729Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.729Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.739Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.739Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.739Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.786Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.786Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.786Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.811Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.811Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.811Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.812Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.812Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.812Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.867Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.867Z"}}
{"timestamp":"2025-10-01T00:11:47.867Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
  Active users: 15/50
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.925Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.925Z"}}
{"timestamp":"2025-10-01T00:11:47.925Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.926Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.926Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.926Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/pos/sales 200 in 0ms :: []
{"timestamp":"2025-10-01T00:11:47.926Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.926Z"}}
{"timestamp":"2025-10-01T00:11:47.926Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
{"timestamp":"2025-10-01T00:11:47.927Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.927Z"}}
{"timestamp":"2025-10-01T00:11:47.927Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
{"timestamp":"2025-10-01T00:11:47.927Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.927Z"}}
{"timestamp":"2025-10-01T00:11:47.927Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.939Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.939Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.939Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.958Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:47.958Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:47.958Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:47 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.029Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.029Z"}}
{"timestamp":"2025-10-01T00:11:48.030Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.036Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.036Z"}}
{"timestamp":"2025-10-01T00:11:48.036Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.045Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.051Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.051Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.051Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.052Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.052Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.052Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.057Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.057Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.057Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.101Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.101Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.101Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.143Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.143Z"}}
{"timestamp":"2025-10-01T00:11:48.143Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.163Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.163Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.163Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.189Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.189Z"}}
{"timestamp":"2025-10-01T00:11:48.189Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.189Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.189Z"}}
{"timestamp":"2025-10-01T00:11:48.189Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.199Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.199Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.199Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.209Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.209Z"}}
{"timestamp":"2025-10-01T00:11:48.209Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.259Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.259Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.259Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.261Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.261Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.261Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.292Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.292Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.293Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.305Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.305Z"}}
{"timestamp":"2025-10-01T00:11:48.305Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.344Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.344Z"}}
{"timestamp":"2025-10-01T00:11:48.344Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.349Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.349Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.349Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.352Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.352Z"}}
{"timestamp":"2025-10-01T00:11:48.352Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:48.352Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.352Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:11:48.352Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:48.352Z"}}
[Server STDOUT]: 6:11:48 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.353Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.353Z"}}
{"timestamp":"2025-10-01T00:11:48.353Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.401Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.401Z"}}
{"timestamp":"2025-10-01T00:11:48.401Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.424Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.424Z"}}
{"timestamp":"2025-10-01T00:11:48.424Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.446Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.446Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.446Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.485Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.485Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.485Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.494Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.494Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.494Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.549Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.549Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.549Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.568Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.568Z"}}
{"timestamp":"2025-10-01T00:11:48.568Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/appointments 200 in 2ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.600Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.600Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.601Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.601Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.601Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.601Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.610Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.610Z"}}
{"timestamp":"2025-10-01T00:11:48.610Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.639Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.639Z"}}
{"timestamp":"2025-10-01T00:11:48.639Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.656Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.656Z"}}
{"timestamp":"2025-10-01T00:11:48.657Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.668Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.668Z"}}
{"timestamp":"2025-10-01T00:11:48.668Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.673Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.673Z"}}
{"timestamp":"2025-10-01T00:11:48.673Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.675Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.675Z"}}
{"timestamp":"2025-10-01T00:11:48.675Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.687Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.687Z"}}
{"timestamp":"2025-10-01T00:11:48.687Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.700Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.700Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.700Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.711Z","level":"info","message":"Connection metrics","context":{"activeConnections":-198,"totalConnections":200,"timestamp":"2025-10-01T00:11:48.711Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.711Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.711Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.711Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.753Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.753Z"}}
{"timestamp":"2025-10-01T00:11:48.753Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.775Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.775Z"}}
{"timestamp":"2025-10-01T00:11:48.775Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.825Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.825Z"}}
{"timestamp":"2025-10-01T00:11:48.825Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.833Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.833Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.833Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/pos/sales 200 in 1ms :: []
{"timestamp":"2025-10-01T00:11:48.833Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.833Z"}}
{"timestamp":"2025-10-01T00:11:48.833Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.834Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.834Z"}}
{"timestamp":"2025-10-01T00:11:48.834Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.849Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.849Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.849Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.852Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.852Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.852Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.883Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.883Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.883Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.888Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.888Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.888Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.926Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.926Z"}}
{"timestamp":"2025-10-01T00:11:48.926Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.930Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.930Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.930Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:48.996Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:48.996Z"}}
{"timestamp":"2025-10-01T00:11:48.996Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:48 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.010Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.010Z"}}
{"timestamp":"2025-10-01T00:11:49.010Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.025Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.025Z"}}
{"timestamp":"2025-10-01T00:11:49.025Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.034Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.034Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.034Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.053Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.053Z"}}
{"timestamp":"2025-10-01T00:11:49.054Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.092Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.092Z"}}
{"timestamp":"2025-10-01T00:11:49.092Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.095Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.095Z"}}
{"timestamp":"2025-10-01T00:11:49.095Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.111Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.111Z"}}
{"timestamp":"2025-10-01T00:11:49.111Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.118Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"81.61%"}}
{"timestamp":"2025-10-01T00:11:49.118Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.118Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"81.63%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.139Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.139Z"}}
{"timestamp":"2025-10-01T00:11:49.139Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.147Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.147Z"}}
{"timestamp":"2025-10-01T00:11:49.147Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.148Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.148Z"}}
{"timestamp":"2025-10-01T00:11:49.148Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.160Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.160Z"}}
{"timestamp":"2025-10-01T00:11:49.160Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.182Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.182Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.182Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.235Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.235Z"}}
{"timestamp":"2025-10-01T00:11:49.235Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.238Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.238Z"}}
{"timestamp":"2025-10-01T00:11:49.238Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.277Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.277Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.277Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.277Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.277Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.277Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.330Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.330Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.330Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.402Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.402Z"}}
{"timestamp":"2025-10-01T00:11:49.403Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.409Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.409Z"}}
{"timestamp":"2025-10-01T00:11:49.409Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.441Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.441Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.441Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.444Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.444Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.444Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:49.444Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.444Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.444Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:49.444Z"}}
[Server STDOUT]: 6:11:49 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.478Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.478Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.478Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.490Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.490Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.490Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.504Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.504Z"}}
{"timestamp":"2025-10-01T00:11:49.504Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.512Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.512Z"}}
{"timestamp":"2025-10-01T00:11:49.512Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.527Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.527Z"}}
{"timestamp":"2025-10-01T00:11:49.527Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.560Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.560Z"}}
{"timestamp":"2025-10-01T00:11:49.560Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.568Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.568Z"}}
{"timestamp":"2025-10-01T00:11:49.568Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.605Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.605Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.605Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/pos/sales 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.640Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.640Z"}}
{"timestamp":"2025-10-01T00:11:49.640Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:49.640Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.640Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.641Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:49.641Z"}}
[Server STDOUT]: 6:11:49 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.659Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.659Z"}}
{"timestamp":"2025-10-01T00:11:49.659Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.765Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.765Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.765Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.777Z"}}
{"timestamp":"2025-10-01T00:11:49.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:49.778Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.778Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.778Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:49.778Z"}}
[Server STDOUT]: 6:11:49 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.797Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.797Z"}}
{"timestamp":"2025-10-01T00:11:49.797Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.816Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.816Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.816Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.821Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.821Z"}}
{"timestamp":"2025-10-01T00:11:49.821Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.842Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.842Z"}}
{"timestamp":"2025-10-01T00:11:49.842Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.852Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.852Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.852Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.869Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.869Z"}}
{"timestamp":"2025-10-01T00:11:49.869Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.880Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.880Z"}}
{"timestamp":"2025-10-01T00:11:49.880Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.888Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.888Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.888Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.901Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.901Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.901Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.909Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.909Z"}}
{"timestamp":"2025-10-01T00:11:49.909Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.924Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.924Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.924Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.924Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.924Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.924Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:49.924Z"}}
[Server STDOUT]: 6:11:49 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.985Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.985Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.985Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:49.989Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:49.989Z"}}
{"timestamp":"2025-10-01T00:11:49.989Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:49 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.005Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.005Z"}}
{"timestamp":"2025-10-01T00:11:50.005Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.018Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.018Z"}}
{"timestamp":"2025-10-01T00:11:50.018Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.034Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.034Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.034Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.068Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.068Z"}}
{"timestamp":"2025-10-01T00:11:50.068Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.084Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.084Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.084Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.135Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.135Z"}}
{"timestamp":"2025-10-01T00:11:50.135Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.144Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.144Z"}}
{"timestamp":"2025-10-01T00:11:50.144Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.155Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.155Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.155Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.193Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.193Z"}}
{"timestamp":"2025-10-01T00:11:50.193Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.198Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.198Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.198Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.229Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.229Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.229Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.236Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.236Z"}}
{"timestamp":"2025-10-01T00:11:50.236Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.263Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.263Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.263Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.281Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.281Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.281Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.312Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.312Z"}}
{"timestamp":"2025-10-01T00:11:50.312Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 1ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.313Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.313Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.313Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.333Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.333Z"}}
{"timestamp":"2025-10-01T00:11:50.333Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 1ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.339Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.339Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.339Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 0ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.342Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.342Z"}}
{"timestamp":"2025-10-01T00:11:50.342Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.409Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.409Z"}}
{"timestamp":"2025-10-01T00:11:50.409Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.410Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.410Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.410Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.438Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.438Z"}}
{"timestamp":"2025-10-01T00:11:50.438Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.463Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.463Z"}}
{"timestamp":"2025-10-01T00:11:50.464Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.490Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.490Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.490Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.572Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.572Z"}}
{"timestamp":"2025-10-01T00:11:50.572Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 1ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.578Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.578Z"}}
{"timestamp":"2025-10-01T00:11:50.578Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 0ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.636Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.636Z"}}
{"timestamp":"2025-10-01T00:11:50.636Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.638Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.638Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.638Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.639Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.639Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.639Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.640Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.640Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.640Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.654Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.654Z"}}
{"timestamp":"2025-10-01T00:11:50.654Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/staff 200 in 2ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.657Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.657Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.657Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.680Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.680Z"}}
{"timestamp":"2025-10-01T00:11:50.680Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.743Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.743Z"}}
{"timestamp":"2025-10-01T00:11:50.743Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.755Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.755Z"}}
{"timestamp":"2025-10-01T00:11:50.755Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.792Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.792Z"}}
{"timestamp":"2025-10-01T00:11:50.792Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.796Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.796Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.796Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.816Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.816Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.816Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.819Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.819Z"}}
{"timestamp":"2025-10-01T00:11:50.819Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.821Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.821Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.821Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.827Z","level":"info","message":"Connection metrics","context":{"activeConnections":-298,"totalConnections":300,"timestamp":"2025-10-01T00:11:50.827Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.827Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.827Z"}}
{"timestamp":"2025-10-01T00:11:50.827Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.836Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.836Z"}}
{"timestamp":"2025-10-01T00:11:50.836Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.860Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.860Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.860Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.912Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.912Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.912Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.921Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.921Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
  Active users: 20/50
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.927Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.927Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.927Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.927Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.927Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.927Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
{"timestamp":"2025-10-01T00:11:50.928Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.928Z"}}
{"timestamp":"2025-10-01T00:11:50.928Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.928Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.928Z"}}
{"timestamp":"2025-10-01T00:11:50.928Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.928Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.928Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.928Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: 6:11:50 PM [express] GET /api/health 200 in 1ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.931Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.931Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.931Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.936Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.936Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.937Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.954Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.954Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.954Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.971Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:50.971Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:50.971Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:50 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.008Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.008Z"}}
{"timestamp":"2025-10-01T00:11:51.009Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.050Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.050Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.050Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.050Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.050Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.050Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.065Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.065Z"}}
{"timestamp":"2025-10-01T00:11:51.065Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.098Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.098Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.098Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.134Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.134Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.134Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.135Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.135Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.135Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.135Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.135Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.135Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.141Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.141Z"}}
{"timestamp":"2025-10-01T00:11:51.141Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.149Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.149Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.149Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.157Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.157Z"}}
{"timestamp":"2025-10-01T00:11:51.157Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.186Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.186Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.186Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.188Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.188Z"}}
{"timestamp":"2025-10-01T00:11:51.188Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.199Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.199Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.199Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.235Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.235Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.235Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.296Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.296Z"}}
{"timestamp":"2025-10-01T00:11:51.296Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.299Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.299Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.299Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.319Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.319Z"}}
{"timestamp":"2025-10-01T00:11:51.319Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.320Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.320Z"}}
{"timestamp":"2025-10-01T00:11:51.320Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.323Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.323Z"}}
{"timestamp":"2025-10-01T00:11:51.323Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.328Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.328Z"}}
{"timestamp":"2025-10-01T00:11:51.328Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.329Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.329Z"}}
{"timestamp":"2025-10-01T00:11:51.329Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.335Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.335Z"}}
{"timestamp":"2025-10-01T00:11:51.335Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.340Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.340Z"}}
{"timestamp":"2025-10-01T00:11:51.340Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.347Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.347Z"}}
{"timestamp":"2025-10-01T00:11:51.347Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/health 200 in 2ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.359Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.359Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.359Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/health 200 in 0ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.389Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.389Z"}}
{"timestamp":"2025-10-01T00:11:51.389Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.405Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.405Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.405Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/health 200 in 0ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.412Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.412Z"}}
{"timestamp":"2025-10-01T00:11:51.412Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.430Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.430Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.431Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.434Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.434Z"}}
{"timestamp":"2025-10-01T00:11:51.434Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.466Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.466Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.466Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.484Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.484Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.484Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.503Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.503Z"}}
{"timestamp":"2025-10-01T00:11:51.503Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.523Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.523Z"}}
{"timestamp":"2025-10-01T00:11:51.523Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.555Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.555Z"}}
{"timestamp":"2025-10-01T00:11:51.555Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/health 200 in 1ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.557Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.557Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.557Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.560Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.560Z"}}
{"timestamp":"2025-10-01T00:11:51.560Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.575Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.575Z"}}
{"timestamp":"2025-10-01T00:11:51.575Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/health 200 in 0ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.592Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.592Z"}}
{"timestamp":"2025-10-01T00:11:51.592Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/health 200 in 1ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.624Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.624Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.624Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.629Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.629Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.630Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:51.630Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.630Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:51.630Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:51.630Z"}}
[Server STDOUT]: 6:11:51 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.632Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.632Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.632Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.634Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.635Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/pos/sales 200 in 1ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.646Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.646Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.646Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:51.646Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.646Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.646Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:51.646Z"}}
[Server STDOUT]: 6:11:51 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.659Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.659Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.659Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.662Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.662Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.662Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.671Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.671Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.671Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.674Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.674Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.674Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.696Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.696Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.696Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.730Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.730Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.730Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.755Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.755Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.756Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.756Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.756Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.756Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.764Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.764Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.764Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/health 200 in 1ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.768Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.768Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.771Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.771Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.771Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.790Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.790Z"}}
{"timestamp":"2025-10-01T00:11:51.790Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.805Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.805Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.805Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.809Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.809Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.810Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.846Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.846Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.846Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.846Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.846Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.846Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:51.846Z"}}
[Server STDOUT]: 6:11:51 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.862Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.862Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.862Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.930Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.930Z"}}
{"timestamp":"2025-10-01T00:11:51.931Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.944Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.944Z"}}
{"timestamp":"2025-10-01T00:11:51.944Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.945Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.945Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.945Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.957Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.957Z"}}
{"timestamp":"2025-10-01T00:11:51.958Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.960Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.960Z"}}
{"timestamp":"2025-10-01T00:11:51.961Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.968Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.968Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.968Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.980Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.980Z"}}
{"timestamp":"2025-10-01T00:11:51.980Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.981Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.981Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.981Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:51 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:51.987Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.987Z"}}
{"timestamp":"2025-10-01T00:11:51.987Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:51.987Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:51.987Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:11:51.987Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:51.987Z"}}
[Server STDOUT]: 6:11:51 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.000Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.000Z"}}
{"timestamp":"2025-10-01T00:11:52.000Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.018Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.018Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.018Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.019Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.019Z"}}
{"timestamp":"2025-10-01T00:11:52.019Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.045Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.119Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.119Z"}}
{"timestamp":"2025-10-01T00:11:52.119Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.119Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"81.65%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.119Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.119Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"81.66%","reduction":"0.00%"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.148Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.148Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.148Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.150Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.151Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.151Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.151Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.154Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.154Z"}}
{"timestamp":"2025-10-01T00:11:52.154Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.181Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.181Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.181Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.184Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.184Z"}}
{"timestamp":"2025-10-01T00:11:52.184Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.192Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.192Z"}}
{"timestamp":"2025-10-01T00:11:52.192Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.211Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.211Z"}}
{"timestamp":"2025-10-01T00:11:52.211Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.221Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.221Z"}}
{"timestamp":"2025-10-01T00:11:52.221Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.225Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.225Z"}}
{"timestamp":"2025-10-01T00:11:52.225Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.235Z","level":"info","message":"Connection metrics","context":{"activeConnections":-398,"totalConnections":400,"timestamp":"2025-10-01T00:11:52.235Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.236Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.236Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.236Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.251Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.251Z"}}
{"timestamp":"2025-10-01T00:11:52.252Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.274Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.274Z"}}
{"timestamp":"2025-10-01T00:11:52.274Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.289Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.289Z"}}
{"timestamp":"2025-10-01T00:11:52.289Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.297Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.297Z"}}
{"timestamp":"2025-10-01T00:11:52.297Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.302Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.302Z"}}
{"timestamp":"2025-10-01T00:11:52.302Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.309Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.309Z"}}
{"timestamp":"2025-10-01T00:11:52.309Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.336Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.336Z"}}
{"timestamp":"2025-10-01T00:11:52.336Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.343Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.343Z"}}
{"timestamp":"2025-10-01T00:11:52.343Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.351Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.351Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.351Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.384Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.384Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.384Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.386Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.386Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.386Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.394Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.394Z"}}
{"timestamp":"2025-10-01T00:11:52.394Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.418Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.418Z"}}
{"timestamp":"2025-10-01T00:11:52.418Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.493Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.493Z"}}
{"timestamp":"2025-10-01T00:11:52.493Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:11:52 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.494Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.494Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.495Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.500Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.500Z"}}
{"timestamp":"2025-10-01T00:11:52.500Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.515Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.515Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.515Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.516Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.516Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.516Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.547Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.547Z"}}
{"timestamp":"2025-10-01T00:11:52.547Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:52.547Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.547Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:52.547Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:52.547Z"}}
[Server STDOUT]: 6:11:52 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.562Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.562Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.562Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.570Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.570Z"}}
{"timestamp":"2025-10-01T00:11:52.570Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:52.570Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.570Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.570Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:52.570Z"}}
[Server STDOUT]: 6:11:52 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.571Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.571Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.571Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.634Z"}}
{"timestamp":"2025-10-01T00:11:52.634Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.634Z"}}
{"timestamp":"2025-10-01T00:11:52.634Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.635Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.635Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.635Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.646Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.646Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.646Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.663Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.663Z"}}
{"timestamp":"2025-10-01T00:11:52.663Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.670Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.670Z"}}
{"timestamp":"2025-10-01T00:11:52.670Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.686Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.686Z"}}
{"timestamp":"2025-10-01T00:11:52.686Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.693Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.693Z"}}
{"timestamp":"2025-10-01T00:11:52.693Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.693Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.693Z"}}
{"timestamp":"2025-10-01T00:11:52.693Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.716Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.716Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.717Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.721Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.721Z"}}
{"timestamp":"2025-10-01T00:11:52.721Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.721Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.721Z"}}
{"timestamp":"2025-10-01T00:11:52.721Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:52.722Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.722Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:52.722Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:52.722Z"}}
[Server STDOUT]: 6:11:52 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.736Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.736Z"}}
{"timestamp":"2025-10-01T00:11:52.736Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:52.736Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.736Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.736Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:52.736Z"}}
[Server STDOUT]: 6:11:52 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.752Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.752Z"}}
{"timestamp":"2025-10-01T00:11:52.752Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.760Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.760Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.760Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.775Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.775Z"}}
{"timestamp":"2025-10-01T00:11:52.775Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.783Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.783Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.783Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.793Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.793Z"}}
{"timestamp":"2025-10-01T00:11:52.793Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.840Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.840Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.840Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.872Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.872Z"}}
{"timestamp":"2025-10-01T00:11:52.872Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.878Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.878Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.878Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.901Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.901Z"}}
{"timestamp":"2025-10-01T00:11:52.901Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.929Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.929Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.929Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.931Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.931Z"}}
{"timestamp":"2025-10-01T00:11:52.931Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.967Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.967Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.967Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.973Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.973Z"}}
{"timestamp":"2025-10-01T00:11:52.973Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.998Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:52.998Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:52.998Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:52 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.016Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.016Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.017Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.017Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.017Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.017Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:53.017Z"}}
[Server STDOUT]: 6:11:53 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.020Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.020Z"}}
{"timestamp":"2025-10-01T00:11:53.020Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.033Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.033Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.033Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.045Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.048Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.048Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.048Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.059Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.059Z"}}
{"timestamp":"2025-10-01T00:11:53.059Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.090Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.090Z"}}
{"timestamp":"2025-10-01T00:11:53.090Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.109Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.109Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.111Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/profile 200 in 3ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.119Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.119Z"}}
{"timestamp":"2025-10-01T00:11:53.119Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.126Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.126Z"}}
{"timestamp":"2025-10-01T00:11:53.126Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.132Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.132Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.132Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.134Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.134Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.134Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.141Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.141Z"}}
{"timestamp":"2025-10-01T00:11:53.141Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.153Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.153Z"}}
{"timestamp":"2025-10-01T00:11:53.153Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.160Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.160Z"}}
{"timestamp":"2025-10-01T00:11:53.160Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.199Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.199Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.199Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.209Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.209Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.209Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/pos/sales 200 in 1ms :: []
{"timestamp":"2025-10-01T00:11:53.210Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.210Z"}}
{"timestamp":"2025-10-01T00:11:53.210Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.218Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.218Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.218Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.243Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.243Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.243Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.252Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.252Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.252Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.268Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.268Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.268Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.269Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.269Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.269Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.274Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.274Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.274Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.292Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.292Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.292Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.310Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.310Z"}}
{"timestamp":"2025-10-01T00:11:53.310Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.329Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.329Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.329Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.346Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.346Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.346Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.384Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.384Z"}}
{"timestamp":"2025-10-01T00:11:53.384Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.430Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.430Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.430Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.440Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.440Z"}}
{"timestamp":"2025-10-01T00:11:53.440Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.453Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.453Z"}}
{"timestamp":"2025-10-01T00:11:53.453Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.530Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.530Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.530Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.530Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.530Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.530Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:53.530Z"}}
[Server STDOUT]: 6:11:53 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.531Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.531Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.531Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.532Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.532Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.532Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.533Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.533Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.533Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.536Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.536Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.536Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.545Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.545Z"}}
{"timestamp":"2025-10-01T00:11:53.545Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.548Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.548Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.548Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.549Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.549Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.549Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.553Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.553Z"}}
{"timestamp":"2025-10-01T00:11:53.553Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.553Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.553Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.553Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:53.553Z"}}
[Server STDOUT]: 6:11:53 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.567Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.567Z"}}
{"timestamp":"2025-10-01T00:11:53.567Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.585Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.585Z"}}
{"timestamp":"2025-10-01T00:11:53.585Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.608Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.608Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.608Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.619Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.619Z"}}
{"timestamp":"2025-10-01T00:11:53.620Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.645Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.645Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.645Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.646Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.646Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.646Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.685Z"}}
{"timestamp":"2025-10-01T00:11:53.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.686Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.686Z"}}
{"timestamp":"2025-10-01T00:11:53.686Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.712Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.712Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.713Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:53.713Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.713Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.713Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:53.713Z"}}
[Server STDOUT]: 6:11:53 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.723Z","level":"info","message":"Connection metrics","context":{"activeConnections":-498,"totalConnections":500,"timestamp":"2025-10-01T00:11:53.722Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.723Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.723Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.723Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.726Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.726Z"}}
{"timestamp":"2025-10-01T00:11:53.726Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.726Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.726Z"}}
{"timestamp":"2025-10-01T00:11:53.726Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.775Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.775Z"}}
{"timestamp":"2025-10-01T00:11:53.775Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.802Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.802Z"}}
{"timestamp":"2025-10-01T00:11:53.802Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.810Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.810Z"}}
{"timestamp":"2025-10-01T00:11:53.810Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.825Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.825Z"}}
{"timestamp":"2025-10-01T00:11:53.825Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:53.825Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.825Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.825Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:53.825Z"}}
[Server STDOUT]: 6:11:53 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.840Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.840Z"}}
{"timestamp":"2025-10-01T00:11:53.840Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.841Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.841Z"}}
{"timestamp":"2025-10-01T00:11:53.841Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.883Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.883Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.883Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.894Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.894Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.894Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.898Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.898Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.898Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
  Active users: 25/50
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.929Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.929Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.929Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 2ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.932Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.932Z"}}
{"timestamp":"2025-10-01T00:11:53.932Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.932Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.932Z"}}
{"timestamp":"2025-10-01T00:11:53.932Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.933Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.933Z"}}
{"timestamp":"2025-10-01T00:11:53.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:53.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.933Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:11:53.933Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:53.933Z"}}
[Server STDOUT]: 6:11:53 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.944Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.944Z"}}
{"timestamp":"2025-10-01T00:11:53.944Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:53.944Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.944Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.944Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:53.944Z"}}
[Server STDOUT]: 6:11:53 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.944Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.944Z"}}
{"timestamp":"2025-10-01T00:11:53.944Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:53.944Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.944Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:53.944Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:53.944Z"}}
[Server STDOUT]: 6:11:53 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.947Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.947Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.948Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.950Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.950Z"}}
{"timestamp":"2025-10-01T00:11:53.950Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.958Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.958Z"}}
{"timestamp":"2025-10-01T00:11:53.958Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.998Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:53.998Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:53.998Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:53 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.015Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.015Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.015Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.019Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.019Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.019Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.024Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.024Z"}}
{"timestamp":"2025-10-01T00:11:54.024Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.025Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.025Z"}}
{"timestamp":"2025-10-01T00:11:54.025Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.035Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.035Z"}}
{"timestamp":"2025-10-01T00:11:54.035Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.052Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.052Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.052Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.082Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.082Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.082Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.084Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.084Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.084Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.088Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.088Z"}}
{"timestamp":"2025-10-01T00:11:54.088Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:54.088Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.088Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:54.088Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:54.088Z"}}
[Server STDOUT]: 6:11:54 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.100Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.100Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.100Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.103Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.103Z"}}
{"timestamp":"2025-10-01T00:11:54.104Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:11:54 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.108Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.108Z"}}
{"timestamp":"2025-10-01T00:11:54.108Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.133Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.133Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.133Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.134Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.134Z"}}
{"timestamp":"2025-10-01T00:11:54.134Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.138Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.138Z"}}
{"timestamp":"2025-10-01T00:11:54.138Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.143Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.143Z"}}
{"timestamp":"2025-10-01T00:11:54.143Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.161Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.161Z"}}
{"timestamp":"2025-10-01T00:11:54.161Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.199Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.199Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.199Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.211Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.211Z"}}
{"timestamp":"2025-10-01T00:11:54.211Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.216Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.216Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.216Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.222Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.222Z"}}
{"timestamp":"2025-10-01T00:11:54.222Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.244Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.244Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.244Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.244Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.244Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.244Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:54.244Z"}}
[Server STDOUT]: 6:11:54 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.246Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.246Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.246Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.285Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.285Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.285Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.298Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.298Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.298Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
{"timestamp":"2025-10-01T00:11:54.299Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.299Z"}}
{"timestamp":"2025-10-01T00:11:54.299Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.328Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.328Z"}}
{"timestamp":"2025-10-01T00:11:54.328Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.329Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.329Z"}}
{"timestamp":"2025-10-01T00:11:54.329Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.332Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.332Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.332Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.342Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.342Z"}}
{"timestamp":"2025-10-01T00:11:54.342Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.352Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.352Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.352Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.353Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.353Z"}}
{"timestamp":"2025-10-01T00:11:54.353Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.398Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.398Z"}}
{"timestamp":"2025-10-01T00:11:54.398Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.400Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.400Z"}}
{"timestamp":"2025-10-01T00:11:54.400Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.415Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.415Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.415Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.420Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.420Z"}}
{"timestamp":"2025-10-01T00:11:54.420Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.440Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.440Z"}}
{"timestamp":"2025-10-01T00:11:54.440Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.481Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.481Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.482Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.498Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.498Z"}}
{"timestamp":"2025-10-01T00:11:54.498Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.507Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.507Z"}}
{"timestamp":"2025-10-01T00:11:54.507Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.518Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.518Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.518Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.519Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.519Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.519Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.519Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.519Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.519Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.540Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.540Z"}}
{"timestamp":"2025-10-01T00:11:54.540Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.551Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.551Z"}}
{"timestamp":"2025-10-01T00:11:54.551Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.553Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.553Z"}}
{"timestamp":"2025-10-01T00:11:54.553Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.553Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.553Z"}}
{"timestamp":"2025-10-01T00:11:54.553Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.601Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.601Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.601Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:54.601Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.601Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:54.601Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:54.601Z"}}
[Server STDOUT]: 6:11:54 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.602Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.602Z"}}
{"timestamp":"2025-10-01T00:11:54.602Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.617Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.617Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.618Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.643Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.643Z"}}
{"timestamp":"2025-10-01T00:11:54.643Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.663Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.663Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.663Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.684Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.684Z"}}
{"timestamp":"2025-10-01T00:11:54.684Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.684Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.684Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.684Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.699Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.699Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.699Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.704Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.704Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.704Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.705Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.705Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.705Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.708Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.708Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.708Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.716Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.716Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.716Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.721Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.721Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.721Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.721Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.721Z"}}
{"timestamp":"2025-10-01T00:11:54.721Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.728Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.728Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.728Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.776Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.776Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.776Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:54.776Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.776Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.776Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:54.776Z"}}
[Server STDOUT]: 6:11:54 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.779Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.779Z"}}
{"timestamp":"2025-10-01T00:11:54.779Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:54.779Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.779Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:54.779Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:54.779Z"}}
6:11:54 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.780Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.780Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.780Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.790Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.790Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.790Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.808Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.808Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.808Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.826Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.826Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.826Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.832Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.832Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.833Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.837Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.837Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.837Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/pos/sales 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.852Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.852Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.852Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:54.852Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.852Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.852Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:54.852Z"}}
[Server STDOUT]: 6:11:54 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.854Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.854Z"}}
{"timestamp":"2025-10-01T00:11:54.854Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.855Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.855Z"}}
{"timestamp":"2025-10-01T00:11:54.855Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.866Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.866Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.866Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.866Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.866Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.866Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.880Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.880Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.881Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.882Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.882Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.882Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.908Z","level":"info","message":"Connection metrics","context":{"activeConnections":-598,"totalConnections":600,"timestamp":"2025-10-01T00:11:54.908Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.909Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.909Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.909Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.912Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.912Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.912Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.937Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.937Z"}}
{"timestamp":"2025-10-01T00:11:54.938Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.992Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.992Z"}}
{"timestamp":"2025-10-01T00:11:54.992Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:54.992Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:54.992Z"}}
{"timestamp":"2025-10-01T00:11:54.992Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:54 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.000Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.000Z"}}
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.000Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:11:55 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.001Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.001Z"}}
{"timestamp":"2025-10-01T00:11:55.001Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.001Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.001Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.001Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:55.001Z"}}
[Server STDOUT]: 6:11:55 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.015Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.015Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.015Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.050Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.050Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.050Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.055Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.055Z"}}
{"timestamp":"2025-10-01T00:11:55.055Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.062Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.062Z"}}
{"timestamp":"2025-10-01T00:11:55.062Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.063Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.063Z"}}
{"timestamp":"2025-10-01T00:11:55.063Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.068Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.068Z"}}
{"timestamp":"2025-10-01T00:11:55.068Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.092Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.092Z"}}
{"timestamp":"2025-10-01T00:11:55.092Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.103Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.103Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.103Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.110Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.110Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.110Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.112Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.112Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.112Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.120Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.120Z"}}
{"timestamp":"2025-10-01T00:11:55.120Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.120Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"81.68%"}}
{"timestamp":"2025-10-01T00:11:55.120Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:11:55.120Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"81.69%","reduction":"0.00%"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.135Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.135Z"}}
{"timestamp":"2025-10-01T00:11:55.135Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.152Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.152Z"}}
{"timestamp":"2025-10-01T00:11:55.152Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.153Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.153Z"}}
{"timestamp":"2025-10-01T00:11:55.153Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.185Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.184Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.185Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.205Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.205Z"}}
{"timestamp":"2025-10-01T00:11:55.205Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.212Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.212Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.212Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.214Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.214Z"}}
{"timestamp":"2025-10-01T00:11:55.214Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.228Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.228Z"}}
{"timestamp":"2025-10-01T00:11:55.228Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.253Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.253Z"}}
{"timestamp":"2025-10-01T00:11:55.253Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.261Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.261Z"}}
{"timestamp":"2025-10-01T00:11:55.261Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.276Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.276Z"}}
{"timestamp":"2025-10-01T00:11:55.276Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.325Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.325Z"}}
{"timestamp":"2025-10-01T00:11:55.325Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.326Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.326Z"}}
{"timestamp":"2025-10-01T00:11:55.326Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.330Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.330Z"}}
{"timestamp":"2025-10-01T00:11:55.330Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.340Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.340Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.340Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.353Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.353Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.353Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.356Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.356Z"}}
{"timestamp":"2025-10-01T00:11:55.356Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.369Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.369Z"}}
{"timestamp":"2025-10-01T00:11:55.369Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.385Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.385Z"}}
{"timestamp":"2025-10-01T00:11:55.385Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.407Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.407Z"}}
{"timestamp":"2025-10-01T00:11:55.407Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.435Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.435Z"}}
{"timestamp":"2025-10-01T00:11:55.435Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.442Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.442Z"}}
{"timestamp":"2025-10-01T00:11:55.442Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.463Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.463Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.463Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.486Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.486Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.486Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.487Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.487Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.487Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.507Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.507Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.507Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.510Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.510Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.510Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.516Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.516Z"}}
{"timestamp":"2025-10-01T00:11:55.516Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.539Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.539Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.539Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.547Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.547Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.547Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.551Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.551Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.551Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.565Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.565Z"}}
{"timestamp":"2025-10-01T00:11:55.565Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.566Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.566Z"}}
{"timestamp":"2025-10-01T00:11:55.566Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.568Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.568Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.568Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.613Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.613Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.615Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.615Z"}}
{"timestamp":"2025-10-01T00:11:55.615Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.616Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.616Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.616Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.624Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.624Z"}}
{"timestamp":"2025-10-01T00:11:55.624Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.635Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.635Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.635Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.640Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.640Z"}}
{"timestamp":"2025-10-01T00:11:55.640Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.644Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.644Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.644Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.684Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.684Z"}}
{"timestamp":"2025-10-01T00:11:55.684Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
{"timestamp":"2025-10-01T00:11:55.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.685Z"}}
{"timestamp":"2025-10-01T00:11:55.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.696Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.696Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.696Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.696Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.696Z"}}
{"timestamp":"2025-10-01T00:11:55.696Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.709Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.709Z"}}
{"timestamp":"2025-10-01T00:11:55.710Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.733Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.733Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.733Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.741Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.741Z"}}
{"timestamp":"2025-10-01T00:11:55.741Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.752Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.752Z"}}
{"timestamp":"2025-10-01T00:11:55.752Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/pos/sales 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.761Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.761Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.761Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.761Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.761Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.761Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:55.761Z"}}
[Server STDOUT]: 6:11:55 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.805Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.805Z"}}
{"timestamp":"2025-10-01T00:11:55.805Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:55.805Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.805Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:55.805Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:55.805Z"}}
[Server STDOUT]: 6:11:55 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.806Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.806Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.806Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.854Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.854Z"}}
{"timestamp":"2025-10-01T00:11:55.854Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.863Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.863Z"}}
{"timestamp":"2025-10-01T00:11:55.863Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.870Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.870Z"}}
{"timestamp":"2025-10-01T00:11:55.870Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.870Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.870Z"}}
{"timestamp":"2025-10-01T00:11:55.871Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.881Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.881Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.881Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.885Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.885Z"}}
{"timestamp":"2025-10-01T00:11:55.885Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.898Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.898Z"}}
{"timestamp":"2025-10-01T00:11:55.898Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.900Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.900Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.900Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.909Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.909Z"}}
{"timestamp":"2025-10-01T00:11:55.909Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.920Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.920Z"}}
{"timestamp":"2025-10-01T00:11:55.920Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.926Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.926Z"}}
{"timestamp":"2025-10-01T00:11:55.926Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.929Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.929Z"}}
{"timestamp":"2025-10-01T00:11:55.929Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.931Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.931Z"}}
{"timestamp":"2025-10-01T00:11:55.931Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.931Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.931Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.931Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.938Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.938Z"}}
{"timestamp":"2025-10-01T00:11:55.938Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.993Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.993Z"}}
{"timestamp":"2025-10-01T00:11:55.993Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:55.993Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:55.993Z"}}
{"timestamp":"2025-10-01T00:11:55.993Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:55 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.014Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.014Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.014Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.015Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.015Z"}}
{"timestamp":"2025-10-01T00:11:56.015Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.018Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.018Z"}}
{"timestamp":"2025-10-01T00:11:56.018Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.029Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.029Z"}}
{"timestamp":"2025-10-01T00:11:56.029Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.032Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.032Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.032Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.045Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.046Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.046Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.046Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.054Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.054Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.054Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.057Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.057Z"}}
{"timestamp":"2025-10-01T00:11:56.057Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.067Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.067Z"}}
{"timestamp":"2025-10-01T00:11:56.067Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.083Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.083Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.083Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.088Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.088Z"}}
{"timestamp":"2025-10-01T00:11:56.088Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.091Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.091Z"}}
{"timestamp":"2025-10-01T00:11:56.092Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.109Z","level":"info","message":"Connection metrics","context":{"activeConnections":-698,"totalConnections":700,"timestamp":"2025-10-01T00:11:56.109Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.109Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.109Z"}}
{"timestamp":"2025-10-01T00:11:56.109Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.111Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.111Z"}}
{"timestamp":"2025-10-01T00:11:56.111Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.117Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.117Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.117Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.128Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.128Z"}}
{"timestamp":"2025-10-01T00:11:56.128Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.145Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.145Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.145Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.178Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.178Z"}}
{"timestamp":"2025-10-01T00:11:56.178Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.204Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.204Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.204Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.226Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.226Z"}}
{"timestamp":"2025-10-01T00:11:56.226Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.233Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.233Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.233Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.250Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.250Z"}}
{"timestamp":"2025-10-01T00:11:56.250Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.255Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.255Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.255Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.280Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.280Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.280Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.281Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.281Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.282Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.287Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.287Z"}}
{"timestamp":"2025-10-01T00:11:56.287Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.287Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.287Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.287Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.290Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.290Z"}}
{"timestamp":"2025-10-01T00:11:56.290Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.305Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.305Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.305Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.319Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.319Z"}}
{"timestamp":"2025-10-01T00:11:56.319Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.357Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.357Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.357Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.358Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.358Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.358Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.368Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.368Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.368Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.380Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.380Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.380Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.421Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.421Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.421Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:56.421Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.421Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.421Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:56.421Z"}}
[Server STDOUT]: 6:11:56 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.434Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.434Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.434Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.457Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.457Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.457Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.462Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.462Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.462Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.500Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.500Z"}}
{"timestamp":"2025-10-01T00:11:56.500Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.503Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.503Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.503Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.514Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.514Z"}}
{"timestamp":"2025-10-01T00:11:56.514Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.516Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.516Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.516Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.536Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.536Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.537Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.542Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.542Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.542Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.542Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.542Z"}}
{"timestamp":"2025-10-01T00:11:56.542Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.555Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.555Z"}}
{"timestamp":"2025-10-01T00:11:56.555Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.556Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.556Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.556Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.567Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.567Z"}}
{"timestamp":"2025-10-01T00:11:56.567Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.588Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.588Z"}}
{"timestamp":"2025-10-01T00:11:56.588Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.618Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.618Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.618Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.629Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.629Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.630Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.640Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.640Z"}}
{"timestamp":"2025-10-01T00:11:56.640Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.641Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.641Z"}}
{"timestamp":"2025-10-01T00:11:56.641Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.673Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.673Z"}}
{"timestamp":"2025-10-01T00:11:56.673Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.677Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.677Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.678Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.683Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.682Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.683Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.722Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.722Z"}}
{"timestamp":"2025-10-01T00:11:56.722Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.745Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.745Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.745Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.751Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.751Z"}}
{"timestamp":"2025-10-01T00:11:56.751Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.760Z","level":"info","message":"Potential memory leak detected","context":{"rssToHeapRatio":"5.00","rss":110,"heapUsed":22}}
[Server STDERR]: {"timestamp":"2025-10-01T00:11:56.761Z","level":"error","message":"Performance alert: Error rate (4.6%) exceeds threshold","context":{"severity":"critical","metric":"error_rate","value":4.557640750670242,"threshold":1,"error":"error_rate (4.557640750670242) exceeds threshold (1)","stack":"Error: error_rate (4.557640750670242) exceeds threshold (1)\n    at PerformanceMonitor.createAlert (file:///Users/benjaminwilliams/madlab_v2/mad_vibe/dist/index.js:2510:13)\n    at PerformanceMonitor.checkThresholds (file:///Users/benjaminwilliams/madlab_v2/mad_vibe/dist/index.js:2459:16)\n    at Timeout._onTimeout (file:///Users/benjaminwilliams/madlab_v2/mad_vibe/dist/index.js:2289:16)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.768Z"}}
{"timestamp":"2025-10-01T00:11:56.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.774Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.774Z"}}
{"timestamp":"2025-10-01T00:11:56.774Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:56.774Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.774Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:11:56.774Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:56.774Z"}}
[Server STDOUT]: 6:11:56 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.778Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.778Z"}}
{"timestamp":"2025-10-01T00:11:56.778Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.790Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.790Z"}}
{"timestamp":"2025-10-01T00:11:56.790Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.797Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.797Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.797Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.798Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.798Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.798Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.827Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.827Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.827Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.829Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.829Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.829Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.830Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.830Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.830Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.830Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.830Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.830Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.841Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.841Z"}}
{"timestamp":"2025-10-01T00:11:56.841Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.842Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.842Z"}}
{"timestamp":"2025-10-01T00:11:56.842Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.859Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.859Z"}}
{"timestamp":"2025-10-01T00:11:56.859Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.861Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.861Z"}}
{"timestamp":"2025-10-01T00:11:56.861Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.907Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.907Z"}}
{"timestamp":"2025-10-01T00:11:56.907Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.920Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.920Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.921Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
  Active users: 30/50
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.930Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.930Z"}}
{"timestamp":"2025-10-01T00:11:56.931Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:11:56 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.933Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.934Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.935Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.935Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.936Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.936Z"}}
{"timestamp":"2025-10-01T00:11:56.936Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.939Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.939Z"}}
{"timestamp":"2025-10-01T00:11:56.939Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.955Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.955Z"}}
{"timestamp":"2025-10-01T00:11:56.955Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:11:56 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.955Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.955Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.955Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.955Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.955Z"}}
{"timestamp":"2025-10-01T00:11:56.955Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:56.955Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.955Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:11:56.955Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:56.955Z"}}
[Server STDOUT]: 6:11:56 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.962Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.962Z"}}
{"timestamp":"2025-10-01T00:11:56.962Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.971Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.971Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.971Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.984Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.984Z"}}
{"timestamp":"2025-10-01T00:11:56.984Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.987Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:56.987Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:56.987Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:56 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.016Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.016Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.016Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.017Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.017Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.017Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.017Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.017Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.018Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.018Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.018Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.018Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:57.018Z"}}
[Server STDOUT]: 6:11:57 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.024Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.024Z"}}
{"timestamp":"2025-10-01T00:11:57.024Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.035Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.035Z"}}
{"timestamp":"2025-10-01T00:11:57.035Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.059Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.059Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.059Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
{"timestamp":"2025-10-01T00:11:57.059Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.059Z"}}
{"timestamp":"2025-10-01T00:11:57.059Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.063Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.063Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.063Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.076Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.076Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.076Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.079Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.079Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.079Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.080Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.080Z"}}
{"timestamp":"2025-10-01T00:11:57.080Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.100Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.100Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.100Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.112Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.112Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.112Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.132Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.132Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.132Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.140Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.140Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.140Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.150Z"}}
{"timestamp":"2025-10-01T00:11:57.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.177Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.177Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.177Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.180Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.180Z"}}
{"timestamp":"2025-10-01T00:11:57.180Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.186Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.186Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.186Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.188Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.188Z"}}
{"timestamp":"2025-10-01T00:11:57.188Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:11:57 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.192Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.192Z"}}
{"timestamp":"2025-10-01T00:11:57.192Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.200Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.200Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.200Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.218Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.218Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.218Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.229Z","level":"info","message":"Connection metrics","context":{"activeConnections":-798,"totalConnections":800,"timestamp":"2025-10-01T00:11:57.229Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.229Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.229Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.229Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.234Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.234Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.234Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.238Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.238Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.238Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.252Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.252Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.252Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.270Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.270Z"}}
{"timestamp":"2025-10-01T00:11:57.270Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.282Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.282Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.283Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.301Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.301Z"}}
{"timestamp":"2025-10-01T00:11:57.301Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.318Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.318Z"}}
{"timestamp":"2025-10-01T00:11:57.318Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.318Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.318Z"}}
{"timestamp":"2025-10-01T00:11:57.319Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.319Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.319Z"}}
{"timestamp":"2025-10-01T00:11:57.319Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.337Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.337Z"}}
{"timestamp":"2025-10-01T00:11:57.337Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.342Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.342Z"}}
{"timestamp":"2025-10-01T00:11:57.342Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.353Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.353Z"}}
{"timestamp":"2025-10-01T00:11:57.353Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.368Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.368Z"}}
{"timestamp":"2025-10-01T00:11:57.368Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.387Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.387Z"}}
{"timestamp":"2025-10-01T00:11:57.387Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.411Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.411Z"}}
{"timestamp":"2025-10-01T00:11:57.411Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.412Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.412Z"}}
{"timestamp":"2025-10-01T00:11:57.412Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.416Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.416Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.416Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.435Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.435Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.435Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.435Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.435Z"}}
{"timestamp":"2025-10-01T00:11:57.435Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.438Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.438Z"}}
{"timestamp":"2025-10-01T00:11:57.438Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.447Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.447Z"}}
{"timestamp":"2025-10-01T00:11:57.447Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.447Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.447Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.448Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.452Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.452Z"}}
{"timestamp":"2025-10-01T00:11:57.452Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.456Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.456Z"}}
{"timestamp":"2025-10-01T00:11:57.456Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.470Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.470Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.470Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.471Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.471Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.471Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.485Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.485Z"}}
{"timestamp":"2025-10-01T00:11:57.485Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.486Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.486Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.486Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.499Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.499Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.499Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.535Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.535Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.535Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.544Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.544Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.544Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.593Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.593Z"}}
{"timestamp":"2025-10-01T00:11:57.593Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.605Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.605Z"}}
{"timestamp":"2025-10-01T00:11:57.605Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.609Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.609Z"}}
{"timestamp":"2025-10-01T00:11:57.609Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.648Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.648Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.649Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.652Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.652Z"}}
{"timestamp":"2025-10-01T00:11:57.652Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.652Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.652Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.652Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.652Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.652Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.652Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.668Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.668Z"}}
{"timestamp":"2025-10-01T00:11:57.668Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.669Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.669Z"}}
{"timestamp":"2025-10-01T00:11:57.669Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.680Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.680Z"}}
{"timestamp":"2025-10-01T00:11:57.680Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.694Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.694Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.694Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.700Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.700Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.700Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.701Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.701Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.701Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.705Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.705Z"}}
{"timestamp":"2025-10-01T00:11:57.705Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.705Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.705Z"}}
{"timestamp":"2025-10-01T00:11:57.705Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.715Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.715Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.715Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.742Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.742Z"}}
{"timestamp":"2025-10-01T00:11:57.742Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.749Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.749Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.749Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.751Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.751Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.751Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.776Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.776Z"}}
{"timestamp":"2025-10-01T00:11:57.776Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.777Z"}}
{"timestamp":"2025-10-01T00:11:57.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.778Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.778Z"}}
{"timestamp":"2025-10-01T00:11:57.778Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.806Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.806Z"}}
{"timestamp":"2025-10-01T00:11:57.806Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.822Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.822Z"}}
{"timestamp":"2025-10-01T00:11:57.823Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.860Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.860Z"}}
{"timestamp":"2025-10-01T00:11:57.860Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.861Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.861Z"}}
{"timestamp":"2025-10-01T00:11:57.861Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.873Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.873Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.873Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.874Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.874Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.874Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:57.874Z"}}
[Server STDOUT]: 6:11:57 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.876Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.876Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.876Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.881Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.881Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.881Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.891Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.891Z"}}
{"timestamp":"2025-10-01T00:11:57.891Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.906Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.906Z"}}
{"timestamp":"2025-10-01T00:11:57.906Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.913Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.913Z"}}
{"timestamp":"2025-10-01T00:11:57.913Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.930Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.930Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.930Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.935Z"}}
{"timestamp":"2025-10-01T00:11:57.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.944Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.944Z"}}
{"timestamp":"2025-10-01T00:11:57.944Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.945Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.945Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.945Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.965Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.965Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.965Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.967Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.967Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.967Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.968Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.968Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.968Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.983Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.983Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.983Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.984Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.984Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.984Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.985Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.985Z"}}
{"timestamp":"2025-10-01T00:11:57.985Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.987Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.987Z"}}
{"timestamp":"2025-10-01T00:11:57.987Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.999Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:57.999Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:57.999Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:57 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.007Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.007Z"}}
{"timestamp":"2025-10-01T00:11:58.007Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.019Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.019Z"}}
{"timestamp":"2025-10-01T00:11:58.019Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.028Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.028Z"}}
{"timestamp":"2025-10-01T00:11:58.028Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.038Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.038Z"}}
{"timestamp":"2025-10-01T00:11:58.038Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.044Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.044Z"}}
{"timestamp":"2025-10-01T00:11:58.044Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.045Z"}}
{"timestamp":"2025-10-01T00:11:58.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.053Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.053Z"}}
{"timestamp":"2025-10-01T00:11:58.053Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.072Z"}}
{"timestamp":"2025-10-01T00:11:58.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.118Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.118Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.119Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.120Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.120Z"}}
{"timestamp":"2025-10-01T00:11:58.120Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.121Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"81.71%"}}
{"timestamp":"2025-10-01T00:11:58.121Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.121Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"81.72%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.135Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.135Z"}}
{"timestamp":"2025-10-01T00:11:58.135Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.137Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.137Z"}}
{"timestamp":"2025-10-01T00:11:58.137Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.144Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.144Z"}}
{"timestamp":"2025-10-01T00:11:58.144Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.160Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.160Z"}}
{"timestamp":"2025-10-01T00:11:58.160Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.160Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.160Z"}}
{"timestamp":"2025-10-01T00:11:58.160Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.162Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.162Z"}}
{"timestamp":"2025-10-01T00:11:58.162Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.162Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.162Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.162Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:58.162Z"}}
[Server STDOUT]: 6:11:58 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.165Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.165Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.165Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.168Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.168Z"}}
{"timestamp":"2025-10-01T00:11:58.168Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.171Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.171Z"}}
{"timestamp":"2025-10-01T00:11:58.171Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.232Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.232Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.232Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.247Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.247Z"}}
{"timestamp":"2025-10-01T00:11:58.247Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.266Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.266Z"}}
{"timestamp":"2025-10-01T00:11:58.266Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
{"timestamp":"2025-10-01T00:11:58.266Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.266Z"}}
{"timestamp":"2025-10-01T00:11:58.266Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.269Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.269Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.269Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.272Z","level":"info","message":"Connection metrics","context":{"activeConnections":-898,"totalConnections":900,"timestamp":"2025-10-01T00:11:58.272Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.272Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.272Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.272Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.287Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.287Z"}}
{"timestamp":"2025-10-01T00:11:58.287Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.289Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.289Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.289Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.301Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.301Z"}}
{"timestamp":"2025-10-01T00:11:58.301Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.303Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.303Z"}}
{"timestamp":"2025-10-01T00:11:58.303Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:58.303Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.303Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:11:58.303Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:58.303Z"}}
[Server STDOUT]: 6:11:58 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.318Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.318Z"}}
{"timestamp":"2025-10-01T00:11:58.318Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.328Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.328Z"}}
{"timestamp":"2025-10-01T00:11:58.328Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.357Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.357Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.357Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.361Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.361Z"}}
{"timestamp":"2025-10-01T00:11:58.361Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.379Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.379Z"}}
{"timestamp":"2025-10-01T00:11:58.379Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.386Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.386Z"}}
{"timestamp":"2025-10-01T00:11:58.386Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.386Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.386Z"}}
{"timestamp":"2025-10-01T00:11:58.386Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.394Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.394Z"}}
{"timestamp":"2025-10-01T00:11:58.394Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.403Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.403Z"}}
{"timestamp":"2025-10-01T00:11:58.403Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.427Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.427Z"}}
{"timestamp":"2025-10-01T00:11:58.427Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.427Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.427Z"}}
{"timestamp":"2025-10-01T00:11:58.427Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.435Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.435Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.435Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.459Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.459Z"}}
{"timestamp":"2025-10-01T00:11:58.459Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:58.459Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.459Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:58.459Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:58.459Z"}}
[Server STDOUT]: 6:11:58 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.460Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.460Z"}}
{"timestamp":"2025-10-01T00:11:58.460Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.491Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.491Z"}}
{"timestamp":"2025-10-01T00:11:58.491Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:58.491Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.491Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:58.491Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:58.491Z"}}
6:11:58 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.494Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.494Z"}}
{"timestamp":"2025-10-01T00:11:58.494Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:11:58 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.501Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.501Z"}}
{"timestamp":"2025-10-01T00:11:58.501Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.501Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.501Z"}}
{"timestamp":"2025-10-01T00:11:58.501Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.512Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.512Z"}}
{"timestamp":"2025-10-01T00:11:58.512Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.517Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.517Z"}}
{"timestamp":"2025-10-01T00:11:58.517Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.536Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.536Z"}}
{"timestamp":"2025-10-01T00:11:58.537Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.539Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.539Z"}}
{"timestamp":"2025-10-01T00:11:58.539Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.550Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.550Z"}}
{"timestamp":"2025-10-01T00:11:58.550Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.558Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.558Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.558Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.561Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.561Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.561Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.565Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.565Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.565Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:11:58 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.566Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.566Z"}}
{"timestamp":"2025-10-01T00:11:58.566Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.568Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.568Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.568Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.575Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.575Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.575Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.613Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.613Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.627Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.627Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.628Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.632Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.632Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.632Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.647Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.647Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.647Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.653Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.653Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.653Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.670Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.670Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.670Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.716Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.716Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.716Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.716Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.716Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.716Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:58.716Z"}}
[Server STDOUT]: 6:11:58 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.719Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.719Z"}}
{"timestamp":"2025-10-01T00:11:58.719Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.727Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.727Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.727Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.750Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.750Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.750Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.751Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.751Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.751Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.751Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.751Z"}}
{"timestamp":"2025-10-01T00:11:58.751Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: 6:11:58 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.753Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.753Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.753Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.760Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.760Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.760Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.765Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.765Z"}}
{"timestamp":"2025-10-01T00:11:58.766Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.774Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.774Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.775Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.775Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.775Z"}}
{"timestamp":"2025-10-01T00:11:58.775Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.775Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.775Z"}}
{"timestamp":"2025-10-01T00:11:58.775Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
{"timestamp":"2025-10-01T00:11:58.775Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.775Z"}}
{"timestamp":"2025-10-01T00:11:58.775Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: 6:11:58 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.814Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.814Z"}}
{"timestamp":"2025-10-01T00:11:58.815Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.817Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.817Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.817Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.868Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.868Z"}}
{"timestamp":"2025-10-01T00:11:58.868Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.901Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.901Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.901Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.919Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.919Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.919Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.931Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.931Z"}}
{"timestamp":"2025-10-01T00:11:58.931Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.940Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.940Z"}}
{"timestamp":"2025-10-01T00:11:58.940Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.943Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.943Z"}}
{"timestamp":"2025-10-01T00:11:58.943Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.956Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.956Z"}}
{"timestamp":"2025-10-01T00:11:58.956Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.969Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.969Z"}}
{"timestamp":"2025-10-01T00:11:58.969Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.970Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.970Z"}}
{"timestamp":"2025-10-01T00:11:58.970Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.972Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.972Z"}}
{"timestamp":"2025-10-01T00:11:58.972Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.990Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.990Z"}}
{"timestamp":"2025-10-01T00:11:58.990Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.991Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.991Z"}}
{"timestamp":"2025-10-01T00:11:58.991Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:58.999Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:58.999Z"}}
{"timestamp":"2025-10-01T00:11:58.999Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:58 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.007Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.007Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.007Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.007Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.007Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.007Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:59.007Z"}}
[Server STDOUT]: 6:11:59 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.013Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.013Z"}}
{"timestamp":"2025-10-01T00:11:59.013Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.025Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.025Z"}}
{"timestamp":"2025-10-01T00:11:59.025Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.039Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.039Z"}}
{"timestamp":"2025-10-01T00:11:59.039Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.051Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.051Z"}}
{"timestamp":"2025-10-01T00:11:59.051Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.060Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.060Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.060Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.071Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.071Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.071Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.089Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.089Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.089Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.098Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.098Z"}}
{"timestamp":"2025-10-01T00:11:59.098Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.118Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.118Z"}}
{"timestamp":"2025-10-01T00:11:59.118Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.119Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.119Z"}}
{"timestamp":"2025-10-01T00:11:59.119Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:59.119Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.119Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:59.119Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:59.119Z"}}
[Server STDOUT]: 6:11:59 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.139Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.139Z"}}
{"timestamp":"2025-10-01T00:11:59.139Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.142Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.142Z"}}
{"timestamp":"2025-10-01T00:11:59.142Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.145Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.145Z"}}
{"timestamp":"2025-10-01T00:11:59.145Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.145Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.145Z"}}
{"timestamp":"2025-10-01T00:11:59.145Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.145Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.145Z"}}
{"timestamp":"2025-10-01T00:11:59.145Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.153Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.153Z"}}
{"timestamp":"2025-10-01T00:11:59.153Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.167Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.167Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.167Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.169Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.169Z"}}
{"timestamp":"2025-10-01T00:11:59.169Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.185Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.185Z"}}
{"timestamp":"2025-10-01T00:11:59.185Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.187Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.187Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.187Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.192Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.192Z"}}
{"timestamp":"2025-10-01T00:11:59.192Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.196Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.196Z"}}
{"timestamp":"2025-10-01T00:11:59.196Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.202Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.202Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.202Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.213Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.213Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.213Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.224Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.224Z"}}
{"timestamp":"2025-10-01T00:11:59.224Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.272Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.272Z"}}
{"timestamp":"2025-10-01T00:11:59.272Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.291Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.291Z"}}
{"timestamp":"2025-10-01T00:11:59.291Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.294Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.294Z"}}
{"timestamp":"2025-10-01T00:11:59.294Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.336Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.336Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.336Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.377Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.377Z"}}
{"timestamp":"2025-10-01T00:11:59.377Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:59.377Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.377Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:59.377Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:59.377Z"}}
[Server STDOUT]: 6:11:59 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.380Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.380Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.380Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.381Z","level":"info","message":"Connection metrics","context":{"activeConnections":-998,"totalConnections":1000,"timestamp":"2025-10-01T00:11:59.381Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.381Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.381Z"}}
{"timestamp":"2025-10-01T00:11:59.381Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.384Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.384Z"}}
{"timestamp":"2025-10-01T00:11:59.384Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.393Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.393Z"}}
{"timestamp":"2025-10-01T00:11:59.393Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.402Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.402Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.402Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.411Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.411Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.411Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.444Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.444Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.444Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.449Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.449Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.449Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.451Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.451Z"}}
{"timestamp":"2025-10-01T00:11:59.451Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.469Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.469Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.469Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.478Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.478Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.478Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.487Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.487Z"}}
{"timestamp":"2025-10-01T00:11:59.487Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.493Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.493Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.493Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.504Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.504Z"}}
{"timestamp":"2025-10-01T00:11:59.504Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.507Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.507Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.507Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.510Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.510Z"}}
{"timestamp":"2025-10-01T00:11:59.510Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.512Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.512Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.512Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.516Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.516Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.516Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.517Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.517Z"}}
{"timestamp":"2025-10-01T00:11:59.517Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.554Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.554Z"}}
{"timestamp":"2025-10-01T00:11:59.554Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.554Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.554Z"}}
{"timestamp":"2025-10-01T00:11:59.554Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.559Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.559Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.559Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.571Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.571Z"}}
{"timestamp":"2025-10-01T00:11:59.571Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.575Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.575Z"}}
{"timestamp":"2025-10-01T00:11:59.575Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.578Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.578Z"}}
{"timestamp":"2025-10-01T00:11:59.578Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.581Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.581Z"}}
{"timestamp":"2025-10-01T00:11:59.581Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:59.582Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.582Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.582Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:59.582Z"}}
[Server STDOUT]: 6:11:59 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.600Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.600Z"}}
{"timestamp":"2025-10-01T00:11:59.600Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:11:59.600Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.600Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:11:59.600Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:59.600Z"}}
[Server STDOUT]: 6:11:59 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.613Z"}}
{"timestamp":"2025-10-01T00:11:59.614Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.616Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.616Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.616Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.617Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.617Z"}}
{"timestamp":"2025-10-01T00:11:59.617Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.618Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.618Z"}}
{"timestamp":"2025-10-01T00:11:59.618Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.634Z"}}
{"timestamp":"2025-10-01T00:11:59.634Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.635Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.635Z"}}
{"timestamp":"2025-10-01T00:11:59.635Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.655Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.655Z"}}
{"timestamp":"2025-10-01T00:11:59.655Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.663Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.663Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.663Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.693Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.693Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.693Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.699Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.699Z"}}
{"timestamp":"2025-10-01T00:11:59.699Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.711Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.711Z"}}
{"timestamp":"2025-10-01T00:11:59.711Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.713Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.713Z"}}
{"timestamp":"2025-10-01T00:11:59.713Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.723Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.723Z"}}
{"timestamp":"2025-10-01T00:11:59.723Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.725Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.725Z"}}
{"timestamp":"2025-10-01T00:11:59.725Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.733Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.733Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.733Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.733Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.733Z"}}
{"timestamp":"2025-10-01T00:11:59.733Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.746Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.746Z"}}
{"timestamp":"2025-10-01T00:11:59.746Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.772Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.772Z"}}
{"timestamp":"2025-10-01T00:11:59.772Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.772Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.772Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.772Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:59.772Z"}}
[Server STDOUT]: 6:11:59 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.804Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.804Z"}}
{"timestamp":"2025-10-01T00:11:59.804Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.832Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.832Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.832Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.837Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.837Z"}}
{"timestamp":"2025-10-01T00:11:59.837Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.842Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.842Z"}}
{"timestamp":"2025-10-01T00:11:59.842Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.843Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.843Z"}}
{"timestamp":"2025-10-01T00:11:59.843Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.856Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.856Z"}}
{"timestamp":"2025-10-01T00:11:59.856Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.864Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.864Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.864Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/services 200 in 2ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.866Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.866Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.866Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.868Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.868Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.868Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.890Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.890Z"}}
{"timestamp":"2025-10-01T00:11:59.891Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.908Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.908Z"}}
{"timestamp":"2025-10-01T00:11:59.908Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.914Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.914Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.914Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.925Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.925Z"}}
{"timestamp":"2025-10-01T00:11:59.925Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/pos/sales 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
  Active users: 35/50
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.933Z"}}
{"timestamp":"2025-10-01T00:11:59.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
{"timestamp":"2025-10-01T00:11:59.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.933Z"}}
{"timestamp":"2025-10-01T00:11:59.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.934Z"}}
{"timestamp":"2025-10-01T00:11:59.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.934Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.934Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.934Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.934Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:11:59.934Z"}}
[Server STDOUT]: 6:11:59 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.940Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.940Z"}}
{"timestamp":"2025-10-01T00:11:59.940Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.957Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.957Z"}}
{"timestamp":"2025-10-01T00:11:59.957Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.964Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.964Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.964Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.966Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.966Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.966Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.966Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.966Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.966Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.972Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.972Z"}}
{"timestamp":"2025-10-01T00:11:59.972Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.973Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:11:59.973Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:11:59.973Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:11:59 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.024Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.024Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.024Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.025Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.025Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.025Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.044Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.044Z"}}
{"timestamp":"2025-10-01T00:12:00.044Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.067Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.067Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.067Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.069Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.069Z"}}
{"timestamp":"2025-10-01T00:12:00.069Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.071Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.071Z"}}
{"timestamp":"2025-10-01T00:12:00.071Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.082Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.082Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.082Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.082Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.082Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.082Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.083Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.083Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.083Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.093Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.093Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.093Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.094Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.094Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.094Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.100Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.100Z"}}
{"timestamp":"2025-10-01T00:12:00.100Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.101Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.101Z"}}
{"timestamp":"2025-10-01T00:12:00.101Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.128Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.128Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.128Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.130Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.130Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.130Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
{"timestamp":"2025-10-01T00:12:00.130Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.130Z"}}
{"timestamp":"2025-10-01T00:12:00.130Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.132Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.132Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.132Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.139Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.139Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.139Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.153Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.153Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.153Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.184Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.184Z"}}
{"timestamp":"2025-10-01T00:12:00.184Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.189Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.189Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.189Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.198Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.198Z"}}
{"timestamp":"2025-10-01T00:12:00.198Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:00.198Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.198Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.198Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:00.198Z"}}
[Server STDOUT]: 6:12:00 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.213Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.213Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.213Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.224Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.224Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.224Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.225Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.225Z"}}
{"timestamp":"2025-10-01T00:12:00.225Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.250Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.250Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.250Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.251Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.251Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.251Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/pos/sales 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.261Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.261Z"}}
{"timestamp":"2025-10-01T00:12:00.261Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:00.261Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.261Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:00.261Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:00.261Z"}}
[Server STDOUT]: 6:12:00 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.265Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.265Z"}}
{"timestamp":"2025-10-01T00:12:00.265Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.278Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.278Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.278Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.281Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.281Z"}}
{"timestamp":"2025-10-01T00:12:00.282Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.286Z","level":"info","message":"Connection metrics","context":{"activeConnections":-1098,"totalConnections":1100,"timestamp":"2025-10-01T00:12:00.286Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.286Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.286Z"}}
{"timestamp":"2025-10-01T00:12:00.286Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.288Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.288Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.288Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.290Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.290Z"}}
{"timestamp":"2025-10-01T00:12:00.290Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.292Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.292Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.292Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.294Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.294Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.294Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.295Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.295Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.295Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.295Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.295Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.295Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.325Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.325Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.325Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.332Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.332Z"}}
{"timestamp":"2025-10-01T00:12:00.332Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.338Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.338Z"}}
{"timestamp":"2025-10-01T00:12:00.338Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.366Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.366Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.366Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.367Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.367Z"}}
{"timestamp":"2025-10-01T00:12:00.367Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.368Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.368Z"}}
{"timestamp":"2025-10-01T00:12:00.368Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.391Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.391Z"}}
{"timestamp":"2025-10-01T00:12:00.391Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.392Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.392Z"}}
{"timestamp":"2025-10-01T00:12:00.392Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.398Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.398Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.398Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.398Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.398Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.398Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.407Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.407Z"}}
{"timestamp":"2025-10-01T00:12:00.407Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.416Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.416Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.416Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.423Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.423Z"}}
{"timestamp":"2025-10-01T00:12:00.423Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.432Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.432Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.432Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.442Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.442Z"}}
{"timestamp":"2025-10-01T00:12:00.442Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.450Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.450Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.450Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.457Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.457Z"}}
{"timestamp":"2025-10-01T00:12:00.457Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.468Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.468Z"}}
{"timestamp":"2025-10-01T00:12:00.468Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.470Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.470Z"}}
{"timestamp":"2025-10-01T00:12:00.470Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.486Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.486Z"}}
{"timestamp":"2025-10-01T00:12:00.486Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.503Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.503Z"}}
{"timestamp":"2025-10-01T00:12:00.503Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.506Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.506Z"}}
{"timestamp":"2025-10-01T00:12:00.506Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.511Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.511Z"}}
{"timestamp":"2025-10-01T00:12:00.511Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.517Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.517Z"}}
{"timestamp":"2025-10-01T00:12:00.517Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.529Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.529Z"}}
{"timestamp":"2025-10-01T00:12:00.529Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.543Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.543Z"}}
{"timestamp":"2025-10-01T00:12:00.543Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.559Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.559Z"}}
{"timestamp":"2025-10-01T00:12:00.559Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.569Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.569Z"}}
{"timestamp":"2025-10-01T00:12:00.569Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.570Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.570Z"}}
{"timestamp":"2025-10-01T00:12:00.570Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.602Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.602Z"}}
{"timestamp":"2025-10-01T00:12:00.602Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.602Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.602Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.602Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.613Z"}}
{"timestamp":"2025-10-01T00:12:00.613Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:00.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.613Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.613Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:00.613Z"}}
[Server STDOUT]: 6:12:00 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.618Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.618Z"}}
{"timestamp":"2025-10-01T00:12:00.618Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.636Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.636Z"}}
{"timestamp":"2025-10-01T00:12:00.636Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.637Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.637Z"}}
{"timestamp":"2025-10-01T00:12:00.637Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.657Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.657Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.657Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.657Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.657Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.657Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:00.657Z"}}
[Server STDOUT]: 6:12:00 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.668Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.668Z"}}
{"timestamp":"2025-10-01T00:12:00.668Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.683Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.683Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.683Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.685Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.687Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.687Z"}}
{"timestamp":"2025-10-01T00:12:00.687Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.690Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.690Z"}}
{"timestamp":"2025-10-01T00:12:00.690Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.696Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.696Z"}}
{"timestamp":"2025-10-01T00:12:00.696Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.723Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.723Z"}}
{"timestamp":"2025-10-01T00:12:00.723Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.726Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.726Z"}}
{"timestamp":"2025-10-01T00:12:00.726Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.744Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.744Z"}}
{"timestamp":"2025-10-01T00:12:00.744Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.749Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.749Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.749Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.759Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.759Z"}}
{"timestamp":"2025-10-01T00:12:00.759Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.762Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.762Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.762Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.768Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.790Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.790Z"}}
{"timestamp":"2025-10-01T00:12:00.790Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.802Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.802Z"}}
{"timestamp":"2025-10-01T00:12:00.802Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.812Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.812Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.812Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.813Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.813Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.813Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.820Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.820Z"}}
{"timestamp":"2025-10-01T00:12:00.820Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.821Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.821Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.821Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.825Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.825Z"}}
{"timestamp":"2025-10-01T00:12:00.825Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.825Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.825Z"}}
{"timestamp":"2025-10-01T00:12:00.825Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.850Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.850Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.850Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.858Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.858Z"}}
{"timestamp":"2025-10-01T00:12:00.858Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.863Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.863Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.863Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.876Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.876Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.876Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.877Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.877Z"}}
{"timestamp":"2025-10-01T00:12:00.877Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.883Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.883Z"}}
{"timestamp":"2025-10-01T00:12:00.883Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.896Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.896Z"}}
{"timestamp":"2025-10-01T00:12:00.896Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.902Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.902Z"}}
{"timestamp":"2025-10-01T00:12:00.902Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.917Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.917Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.917Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.937Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.937Z"}}
{"timestamp":"2025-10-01T00:12:00.937Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.937Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.937Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.937Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.937Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.937Z"}}
{"timestamp":"2025-10-01T00:12:00.937Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.939Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.939Z"}}
{"timestamp":"2025-10-01T00:12:00.939Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.940Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.940Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.940Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.955Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.955Z"}}
{"timestamp":"2025-10-01T00:12:00.955Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.966Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.966Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.966Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:00.986Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:00.986Z"}}
{"timestamp":"2025-10-01T00:12:00.986Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:00 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.022Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.022Z"}}
{"timestamp":"2025-10-01T00:12:01.022Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.029Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.029Z"}}
{"timestamp":"2025-10-01T00:12:01.029Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.045Z"}}
{"timestamp":"2025-10-01T00:12:01.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.052Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.052Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.052Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.058Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.058Z"}}
{"timestamp":"2025-10-01T00:12:01.058Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.060Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.060Z"}}
{"timestamp":"2025-10-01T00:12:01.060Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.070Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.070Z"}}
{"timestamp":"2025-10-01T00:12:01.070Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.073Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.072Z"}}
{"timestamp":"2025-10-01T00:12:01.073Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.073Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.073Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.073Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.078Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.078Z"}}
{"timestamp":"2025-10-01T00:12:01.078Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.092Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.092Z"}}
{"timestamp":"2025-10-01T00:12:01.092Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.094Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.094Z"}}
{"timestamp":"2025-10-01T00:12:01.094Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.094Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.094Z"}}
{"timestamp":"2025-10-01T00:12:01.094Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.096Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.096Z"}}
{"timestamp":"2025-10-01T00:12:01.096Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.117Z","level":"info","message":"High heap utilization detected","context":{"heapUtilization":"81.75","heapUsed":22,"heapTotal":27}}
{"timestamp":"2025-10-01T00:12:01.117Z","level":"info","message":"Potential memory leak detected","context":{"rssToHeapRatio":"3.55","rss":78,"heapUsed":22}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.121Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"81.82%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.121Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.121Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"81.83%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.124Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.124Z"}}
{"timestamp":"2025-10-01T00:12:01.124Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.133Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.133Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.133Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.139Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.139Z"}}
{"timestamp":"2025-10-01T00:12:01.139Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.140Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.140Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.140Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.147Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.147Z"}}
{"timestamp":"2025-10-01T00:12:01.147Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.151Z","level":"info","message":"Connection metrics","context":{"activeConnections":-1198,"totalConnections":1200,"timestamp":"2025-10-01T00:12:01.151Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.152Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.152Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.152Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.171Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.171Z"}}
{"timestamp":"2025-10-01T00:12:01.171Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.181Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.181Z"}}
{"timestamp":"2025-10-01T00:12:01.181Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.183Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.183Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.183Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.185Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.185Z"}}
{"timestamp":"2025-10-01T00:12:01.185Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.202Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.202Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.202Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.211Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.211Z"}}
{"timestamp":"2025-10-01T00:12:01.211Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.219Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.219Z"}}
{"timestamp":"2025-10-01T00:12:01.219Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.224Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.224Z"}}
{"timestamp":"2025-10-01T00:12:01.224Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.226Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.226Z"}}
{"timestamp":"2025-10-01T00:12:01.226Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.241Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.241Z"}}
{"timestamp":"2025-10-01T00:12:01.241Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.265Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.265Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.265Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.271Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.271Z"}}
{"timestamp":"2025-10-01T00:12:01.271Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.272Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.272Z"}}
{"timestamp":"2025-10-01T00:12:01.272Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.281Z","level":"info","message":"High database pool utilization detected","context":{"utilization":100,"activeConnections":1,"totalConnections":1,"waitingClients":0}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.287Z","level":"info","message":"Database health check failed","context":{"error":"role \"testuser\" does not exist","totalErrors":1}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.291Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.291Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.291Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.300Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.300Z"}}
{"timestamp":"2025-10-01T00:12:01.300Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.306Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.306Z"}}
{"timestamp":"2025-10-01T00:12:01.306Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.327Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.327Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.327Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.328Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.328Z"}}
{"timestamp":"2025-10-01T00:12:01.328Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.335Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.335Z"}}
{"timestamp":"2025-10-01T00:12:01.335Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.336Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.336Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.336Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.340Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.340Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.340Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.346Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.346Z"}}
{"timestamp":"2025-10-01T00:12:01.346Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.350Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.350Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.350Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.371Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.371Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.371Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.376Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.376Z"}}
{"timestamp":"2025-10-01T00:12:01.376Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.395Z"}}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.397Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.397Z"}}
{"timestamp":"2025-10-01T00:12:01.397Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:01.397Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.397Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.398Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:01.398Z"}}
[Server STDOUT]: 6:12:01 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.416Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.416Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.416Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.417Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.417Z"}}
{"timestamp":"2025-10-01T00:12:01.417Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.430Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.430Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.430Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.451Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.451Z"}}
{"timestamp":"2025-10-01T00:12:01.451Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.467Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.467Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.467Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.475Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.475Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.475Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.493Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.493Z"}}
{"timestamp":"2025-10-01T00:12:01.493Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.498Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.498Z"}}
{"timestamp":"2025-10-01T00:12:01.498Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.507Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.507Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.507Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.509Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.509Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.509Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.509Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.509Z"}}
{"timestamp":"2025-10-01T00:12:01.509Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.509Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.509Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.509Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.511Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.511Z"}}
{"timestamp":"2025-10-01T00:12:01.511Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.524Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.524Z"}}
{"timestamp":"2025-10-01T00:12:01.524Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.525Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.525Z"}}
{"timestamp":"2025-10-01T00:12:01.525Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:01.525Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.525Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:01.525Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:01.525Z"}}
[Server STDOUT]: 6:12:01 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.530Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.530Z"}}
{"timestamp":"2025-10-01T00:12:01.530Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.537Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.537Z"}}
{"timestamp":"2025-10-01T00:12:01.537Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.543Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.543Z"}}
{"timestamp":"2025-10-01T00:12:01.543Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.552Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.552Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.552Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.561Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.561Z"}}
{"timestamp":"2025-10-01T00:12:01.561Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.565Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.564Z"}}
{"timestamp":"2025-10-01T00:12:01.565Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.575Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.575Z"}}
{"timestamp":"2025-10-01T00:12:01.575Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.577Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.577Z"}}
{"timestamp":"2025-10-01T00:12:01.577Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.588Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.588Z"}}
{"timestamp":"2025-10-01T00:12:01.588Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.589Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.589Z"}}
{"timestamp":"2025-10-01T00:12:01.589Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.591Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.591Z"}}
{"timestamp":"2025-10-01T00:12:01.591Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.594Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.594Z"}}
{"timestamp":"2025-10-01T00:12:01.594Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.607Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.607Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.607Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.630Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.630Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.630Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.632Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.632Z"}}
{"timestamp":"2025-10-01T00:12:01.632Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.636Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.636Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.636Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.665Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.665Z"}}
{"timestamp":"2025-10-01T00:12:01.665Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.679Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.679Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.679Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.686Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.686Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.686Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.700Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.700Z"}}
{"timestamp":"2025-10-01T00:12:01.700Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.709Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.709Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.709Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.710Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.710Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.710Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.711Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.711Z"}}
{"timestamp":"2025-10-01T00:12:01.711Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
{"timestamp":"2025-10-01T00:12:01.711Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.711Z"}}
{"timestamp":"2025-10-01T00:12:01.711Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.722Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.722Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.722Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.722Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.722Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.722Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.728Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.728Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.728Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.734Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.734Z"}}
{"timestamp":"2025-10-01T00:12:01.734Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/pos/sales 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.767Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.767Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.767Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.768Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.768Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.768Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.768Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:01.768Z"}}
[Server STDOUT]: 6:12:01 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.793Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.793Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.793Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.803Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.803Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.803Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.814Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.814Z"}}
{"timestamp":"2025-10-01T00:12:01.814Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.822Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.822Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.822Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.830Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.829Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.830Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.848Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.848Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.848Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.851Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.851Z"}}
{"timestamp":"2025-10-01T00:12:01.851Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.861Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.861Z"}}
{"timestamp":"2025-10-01T00:12:01.861Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.863Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.863Z"}}
{"timestamp":"2025-10-01T00:12:01.863Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.873Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.873Z"}}
{"timestamp":"2025-10-01T00:12:01.873Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.882Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.882Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.882Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:01.882Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.882Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.882Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:01.882Z"}}
[Server STDOUT]: 6:12:01 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.889Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.889Z"}}
{"timestamp":"2025-10-01T00:12:01.889Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.899Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.899Z"}}
{"timestamp":"2025-10-01T00:12:01.899Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.904Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.904Z"}}
{"timestamp":"2025-10-01T00:12:01.904Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.907Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.907Z"}}
{"timestamp":"2025-10-01T00:12:01.907Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.919Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.919Z"}}
{"timestamp":"2025-10-01T00:12:01.919Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.923Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.923Z"}}
{"timestamp":"2025-10-01T00:12:01.923Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.925Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.925Z"}}
{"timestamp":"2025-10-01T00:12:01.926Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.940Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.940Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.940Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.943Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.943Z"}}
{"timestamp":"2025-10-01T00:12:01.943Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.946Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.946Z"}}
{"timestamp":"2025-10-01T00:12:01.946Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.947Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.947Z"}}
{"timestamp":"2025-10-01T00:12:01.947Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.965Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.965Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.965Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.985Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.985Z"}}
{"timestamp":"2025-10-01T00:12:01.985Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.985Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.985Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.985Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:01.985Z"}}
[Server STDOUT]: 6:12:01 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.986Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.986Z"}}
{"timestamp":"2025-10-01T00:12:01.986Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.993Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.993Z"}}
{"timestamp":"2025-10-01T00:12:01.993Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.995Z","level":"info","message":"Connection metrics","context":{"activeConnections":-1298,"totalConnections":1300,"timestamp":"2025-10-01T00:12:01.995Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.995Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.995Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.995Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:01.998Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:01.998Z"}}
{"timestamp":"2025-10-01T00:12:01.998Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:01 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.002Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.002Z"}}
{"timestamp":"2025-10-01T00:12:02.003Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.009Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.009Z"}}
{"timestamp":"2025-10-01T00:12:02.009Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.014Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.014Z"}}
{"timestamp":"2025-10-01T00:12:02.014Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
{"timestamp":"2025-10-01T00:12:02.015Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.015Z"}}
{"timestamp":"2025-10-01T00:12:02.015Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.024Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.024Z"}}
{"timestamp":"2025-10-01T00:12:02.024Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.026Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.026Z"}}
{"timestamp":"2025-10-01T00:12:02.026Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.038Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.038Z"}}
{"timestamp":"2025-10-01T00:12:02.038Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.038Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.038Z"}}
{"timestamp":"2025-10-01T00:12:02.038Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.038Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.038Z"}}
{"timestamp":"2025-10-01T00:12:02.038Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.041Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.041Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.041Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.041Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.041Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.042Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:02.042Z"}}
[Server STDOUT]: 6:12:02 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.087Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.087Z"}}
{"timestamp":"2025-10-01T00:12:02.087Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.088Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.088Z"}}
{"timestamp":"2025-10-01T00:12:02.088Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.107Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.107Z"}}
{"timestamp":"2025-10-01T00:12:02.107Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.108Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.108Z"}}
{"timestamp":"2025-10-01T00:12:02.108Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.111Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.111Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.111Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.139Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.139Z"}}
{"timestamp":"2025-10-01T00:12:02.139Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.145Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.145Z"}}
{"timestamp":"2025-10-01T00:12:02.145Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.160Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.160Z"}}
{"timestamp":"2025-10-01T00:12:02.160Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.168Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.168Z"}}
{"timestamp":"2025-10-01T00:12:02.168Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.168Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.168Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.168Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.175Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.175Z"}}
{"timestamp":"2025-10-01T00:12:02.175Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.211Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.211Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.211Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.212Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.212Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.212Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.225Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.225Z"}}
{"timestamp":"2025-10-01T00:12:02.225Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.225Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.225Z"}}
{"timestamp":"2025-10-01T00:12:02.225Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
{"timestamp":"2025-10-01T00:12:02.226Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.226Z"}}
{"timestamp":"2025-10-01T00:12:02.226Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
{"timestamp":"2025-10-01T00:12:02.226Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.226Z"}}
{"timestamp":"2025-10-01T00:12:02.226Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.247Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.247Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.247Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.248Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.248Z"}}
{"timestamp":"2025-10-01T00:12:02.248Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.265Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.265Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.265Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.290Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.290Z"}}
{"timestamp":"2025-10-01T00:12:02.290Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 8ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
{"timestamp":"2025-10-01T00:12:02.301Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.301Z"}}
{"timestamp":"2025-10-01T00:12:02.301Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/performance 200 in 3ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.308Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.308Z"}}
{"timestamp":"2025-10-01T00:12:02.309Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 6ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
{"timestamp":"2025-10-01T00:12:02.315Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.315Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.315Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
{"timestamp":"2025-10-01T00:12:02.316Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.316Z"}}
{"timestamp":"2025-10-01T00:12:02.316Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:02 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.334Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.334Z"}}
{"timestamp":"2025-10-01T00:12:02.334Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.348Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.348Z"}}
{"timestamp":"2025-10-01T00:12:02.348Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/inventory 200 in 3ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.361Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.361Z"}}
{"timestamp":"2025-10-01T00:12:02.361Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.362Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.362Z"}}
{"timestamp":"2025-10-01T00:12:02.362Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.369Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.369Z"}}
{"timestamp":"2025-10-01T00:12:02.369Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.370Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.370Z"}}
{"timestamp":"2025-10-01T00:12:02.370Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.385Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.385Z"}}
{"timestamp":"2025-10-01T00:12:02.385Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.388Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.388Z"}}
{"timestamp":"2025-10-01T00:12:02.388Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.392Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.392Z"}}
{"timestamp":"2025-10-01T00:12:02.392Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.392Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.392Z"}}
{"timestamp":"2025-10-01T00:12:02.392Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:02.392Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.392Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:02.392Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:02.392Z"}}
[Server STDOUT]: 6:12:02 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.400Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.400Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.400Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.407Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.407Z"}}
{"timestamp":"2025-10-01T00:12:02.407Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.423Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.423Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.423Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.434Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.434Z"}}
{"timestamp":"2025-10-01T00:12:02.434Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.434Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.434Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.434Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:02.434Z"}}
[Server STDOUT]: 6:12:02 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.444Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.444Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.444Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.463Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.463Z"}}
{"timestamp":"2025-10-01T00:12:02.463Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.470Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.470Z"}}
{"timestamp":"2025-10-01T00:12:02.470Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.471Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.471Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.471Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.480Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.480Z"}}
{"timestamp":"2025-10-01T00:12:02.480Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.486Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.486Z"}}
{"timestamp":"2025-10-01T00:12:02.486Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.496Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.496Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.496Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.500Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.500Z"}}
{"timestamp":"2025-10-01T00:12:02.500Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.506Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.506Z"}}
{"timestamp":"2025-10-01T00:12:02.506Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.512Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.512Z"}}
{"timestamp":"2025-10-01T00:12:02.512Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.512Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.512Z"}}
{"timestamp":"2025-10-01T00:12:02.512Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.513Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.513Z"}}
{"timestamp":"2025-10-01T00:12:02.513Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.555Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.555Z"}}
{"timestamp":"2025-10-01T00:12:02.555Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.561Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.561Z"}}
{"timestamp":"2025-10-01T00:12:02.561Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.567Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.567Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.568Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.572Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.572Z"}}
{"timestamp":"2025-10-01T00:12:02.572Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.574Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.574Z"}}
{"timestamp":"2025-10-01T00:12:02.574Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.577Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.577Z"}}
{"timestamp":"2025-10-01T00:12:02.577Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.582Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.582Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.582Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.589Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.589Z"}}
{"timestamp":"2025-10-01T00:12:02.589Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.594Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.594Z"}}
{"timestamp":"2025-10-01T00:12:02.594Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.605Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.605Z"}}
{"timestamp":"2025-10-01T00:12:02.605Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.605Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.605Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.605Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.608Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.608Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.608Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.625Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.625Z"}}
{"timestamp":"2025-10-01T00:12:02.625Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.628Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.628Z"}}
{"timestamp":"2025-10-01T00:12:02.628Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.640Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.640Z"}}
{"timestamp":"2025-10-01T00:12:02.640Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.649Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.649Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.649Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.682Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.682Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.682Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.688Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.688Z"}}
{"timestamp":"2025-10-01T00:12:02.688Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.697Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.697Z"}}
{"timestamp":"2025-10-01T00:12:02.697Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.707Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.707Z"}}
{"timestamp":"2025-10-01T00:12:02.707Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.719Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.719Z"}}
{"timestamp":"2025-10-01T00:12:02.719Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.724Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.724Z"}}
{"timestamp":"2025-10-01T00:12:02.725Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.731Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.731Z"}}
{"timestamp":"2025-10-01T00:12:02.731Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.737Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.737Z"}}
{"timestamp":"2025-10-01T00:12:02.737Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.740Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.740Z"}}
{"timestamp":"2025-10-01T00:12:02.740Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.742Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.742Z"}}
{"timestamp":"2025-10-01T00:12:02.742Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.742Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.742Z"}}
{"timestamp":"2025-10-01T00:12:02.742Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.750Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.750Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.750Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.761Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.761Z"}}
{"timestamp":"2025-10-01T00:12:02.761Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.768Z"}}
{"timestamp":"2025-10-01T00:12:02.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.768Z"}}
{"timestamp":"2025-10-01T00:12:02.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.771Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.771Z"}}
{"timestamp":"2025-10-01T00:12:02.771Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.776Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.776Z"}}
{"timestamp":"2025-10-01T00:12:02.776Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.781Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.781Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.781Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.782Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.782Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.782Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.803Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.803Z"}}
{"timestamp":"2025-10-01T00:12:02.803Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.807Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.807Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.807Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.824Z","level":"info","message":"Connection metrics","context":{"activeConnections":-1398,"totalConnections":1400,"timestamp":"2025-10-01T00:12:02.824Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.824Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.824Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.824Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.841Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.841Z"}}
{"timestamp":"2025-10-01T00:12:02.841Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.851Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.850Z"}}
{"timestamp":"2025-10-01T00:12:02.851Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.851Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.851Z"}}
{"timestamp":"2025-10-01T00:12:02.851Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.853Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.853Z"}}
{"timestamp":"2025-10-01T00:12:02.853Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.866Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.866Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.866Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.881Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.881Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.881Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.882Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.882Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.882Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.890Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.890Z"}}
{"timestamp":"2025-10-01T00:12:02.890Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.894Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.894Z"}}
{"timestamp":"2025-10-01T00:12:02.894Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.911Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.911Z"}}
{"timestamp":"2025-10-01T00:12:02.911Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.923Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.923Z"}}
{"timestamp":"2025-10-01T00:12:02.923Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
  Active users: 40/50
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.934Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.934Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.935Z"}}
{"timestamp":"2025-10-01T00:12:02.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.935Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.936Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.936Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.936Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: 6:12:02 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.938Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.938Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.938Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.946Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.946Z"}}
{"timestamp":"2025-10-01T00:12:02.946Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.946Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.946Z"}}
{"timestamp":"2025-10-01T00:12:02.946Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.966Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.966Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.966Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.972Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.972Z"}}
{"timestamp":"2025-10-01T00:12:02.972Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.985Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.985Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.985Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:02.991Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:02.991Z"}}
{"timestamp":"2025-10-01T00:12:02.991Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:02 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.004Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.004Z"}}
{"timestamp":"2025-10-01T00:12:03.004Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.030Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.030Z"}}
{"timestamp":"2025-10-01T00:12:03.030Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.034Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.034Z"}}
{"timestamp":"2025-10-01T00:12:03.034Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.068Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.068Z"}}
{"timestamp":"2025-10-01T00:12:03.068Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.068Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.068Z"}}
{"timestamp":"2025-10-01T00:12:03.068Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.072Z"}}
{"timestamp":"2025-10-01T00:12:03.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.074Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.074Z"}}
{"timestamp":"2025-10-01T00:12:03.074Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.087Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.087Z"}}
{"timestamp":"2025-10-01T00:12:03.087Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.101Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.101Z"}}
{"timestamp":"2025-10-01T00:12:03.101Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.109Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.109Z"}}
{"timestamp":"2025-10-01T00:12:03.109Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.110Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.110Z"}}
{"timestamp":"2025-10-01T00:12:03.110Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.122Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.121Z"}}
{"timestamp":"2025-10-01T00:12:03.122Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.134Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.134Z"}}
{"timestamp":"2025-10-01T00:12:03.134Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.149Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.149Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.149Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.150Z"}}
{"timestamp":"2025-10-01T00:12:03.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.151Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.151Z"}}
{"timestamp":"2025-10-01T00:12:03.152Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.158Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.158Z"}}
{"timestamp":"2025-10-01T00:12:03.158Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:03.158Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.158Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:03.158Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:03.158Z"}}
[Server STDOUT]: 6:12:03 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.161Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.161Z"}}
{"timestamp":"2025-10-01T00:12:03.161Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.177Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.177Z"}}
{"timestamp":"2025-10-01T00:12:03.177Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.177Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.177Z"}}
{"timestamp":"2025-10-01T00:12:03.178Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.189Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.189Z"}}
{"timestamp":"2025-10-01T00:12:03.189Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.190Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.190Z"}}
{"timestamp":"2025-10-01T00:12:03.190Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.197Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.197Z"}}
{"timestamp":"2025-10-01T00:12:03.197Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.211Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.211Z"}}
{"timestamp":"2025-10-01T00:12:03.211Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.217Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.217Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.217Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:03.217Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.217Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.217Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:03.217Z"}}
[Server STDOUT]: 6:12:03 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.218Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.218Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.218Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.228Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.228Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.228Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.228Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.228Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.228Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.229Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.229Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.229Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.231Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.231Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.231Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.238Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.238Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.238Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.242Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.242Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.242Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:03.242Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.242Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:03.242Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:03.242Z"}}
[Server STDOUT]: 6:12:03 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.266Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.266Z"}}
{"timestamp":"2025-10-01T00:12:03.266Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:03 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.269Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.269Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.269Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.282Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.282Z"}}
{"timestamp":"2025-10-01T00:12:03.282Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.293Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.293Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.293Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.294Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.294Z"}}
{"timestamp":"2025-10-01T00:12:03.294Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.294Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.294Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.294Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.311Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.311Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.311Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.322Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.322Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.322Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.325Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.325Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.325Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.329Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.329Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.329Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.334Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.334Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.334Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.337Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.337Z"}}
{"timestamp":"2025-10-01T00:12:03.337Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.342Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.342Z"}}
{"timestamp":"2025-10-01T00:12:03.342Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:03.342Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.342Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:03.342Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:03.342Z"}}
[Server STDOUT]: 6:12:03 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.343Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.343Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.343Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.349Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.349Z"}}
{"timestamp":"2025-10-01T00:12:03.349Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.359Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.359Z"}}
{"timestamp":"2025-10-01T00:12:03.359Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.362Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.362Z"}}
{"timestamp":"2025-10-01T00:12:03.362Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.363Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.363Z"}}
{"timestamp":"2025-10-01T00:12:03.363Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.363Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.363Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.363Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:03.363Z"}}
[Server STDOUT]: 6:12:03 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.370Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.370Z"}}
{"timestamp":"2025-10-01T00:12:03.370Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.375Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.375Z"}}
{"timestamp":"2025-10-01T00:12:03.375Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.377Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.377Z"}}
{"timestamp":"2025-10-01T00:12:03.377Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.387Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.387Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.387Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.387Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.387Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.387Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.392Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.392Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.392Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.401Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.401Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.401Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.407Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.407Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.407Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.437Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.437Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.437Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.444Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.444Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.444Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.455Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.455Z"}}
{"timestamp":"2025-10-01T00:12:03.455Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.460Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.460Z"}}
{"timestamp":"2025-10-01T00:12:03.460Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.469Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.469Z"}}
{"timestamp":"2025-10-01T00:12:03.469Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.486Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.486Z"}}
{"timestamp":"2025-10-01T00:12:03.486Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.494Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.493Z"}}
{"timestamp":"2025-10-01T00:12:03.494Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.496Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.496Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.496Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.508Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.508Z"}}
{"timestamp":"2025-10-01T00:12:03.508Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.513Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.513Z"}}
{"timestamp":"2025-10-01T00:12:03.513Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.517Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.517Z"}}
{"timestamp":"2025-10-01T00:12:03.517Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.525Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.525Z"}}
{"timestamp":"2025-10-01T00:12:03.525Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.526Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.526Z"}}
{"timestamp":"2025-10-01T00:12:03.526Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.529Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.529Z"}}
{"timestamp":"2025-10-01T00:12:03.529Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.535Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.535Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.535Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.556Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.556Z"}}
{"timestamp":"2025-10-01T00:12:03.556Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.557Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.557Z"}}
{"timestamp":"2025-10-01T00:12:03.557Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.575Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.575Z"}}
{"timestamp":"2025-10-01T00:12:03.575Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.576Z","level":"info","message":"Connection metrics","context":{"activeConnections":-1498,"totalConnections":1500,"timestamp":"2025-10-01T00:12:03.576Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.576Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.576Z"}}
{"timestamp":"2025-10-01T00:12:03.576Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.586Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.586Z"}}
{"timestamp":"2025-10-01T00:12:03.586Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.586Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.586Z"}}
{"timestamp":"2025-10-01T00:12:03.586Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.608Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.608Z"}}
{"timestamp":"2025-10-01T00:12:03.608Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.609Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.609Z"}}
{"timestamp":"2025-10-01T00:12:03.609Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.620Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.620Z"}}
{"timestamp":"2025-10-01T00:12:03.620Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.624Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.624Z"}}
{"timestamp":"2025-10-01T00:12:03.624Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.632Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.632Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.632Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.638Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.638Z"}}
{"timestamp":"2025-10-01T00:12:03.638Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.644Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.644Z"}}
{"timestamp":"2025-10-01T00:12:03.644Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.650Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.650Z"}}
{"timestamp":"2025-10-01T00:12:03.650Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.656Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.656Z"}}
{"timestamp":"2025-10-01T00:12:03.656Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.663Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.663Z"}}
{"timestamp":"2025-10-01T00:12:03.663Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.663Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.663Z"}}
{"timestamp":"2025-10-01T00:12:03.663Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.677Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.677Z"}}
{"timestamp":"2025-10-01T00:12:03.677Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.690Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.690Z"}}
{"timestamp":"2025-10-01T00:12:03.690Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.694Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.694Z"}}
{"timestamp":"2025-10-01T00:12:03.694Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.704Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.704Z"}}
{"timestamp":"2025-10-01T00:12:03.704Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.704Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.704Z"}}
{"timestamp":"2025-10-01T00:12:03.704Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.710Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.710Z"}}
{"timestamp":"2025-10-01T00:12:03.710Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.715Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.715Z"}}
{"timestamp":"2025-10-01T00:12:03.715Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.715Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.715Z"}}
{"timestamp":"2025-10-01T00:12:03.715Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.716Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.716Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.716Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.720Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.720Z"}}
{"timestamp":"2025-10-01T00:12:03.720Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.737Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.737Z"}}
{"timestamp":"2025-10-01T00:12:03.737Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:03.737Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.737Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:03.737Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:03.737Z"}}
[Server STDOUT]: 6:12:03 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.746Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.746Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.746Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.771Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.771Z"}}
{"timestamp":"2025-10-01T00:12:03.771Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.771Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.771Z"}}
{"timestamp":"2025-10-01T00:12:03.771Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.777Z"}}
{"timestamp":"2025-10-01T00:12:03.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.783Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.783Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.783Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.793Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.793Z"}}
{"timestamp":"2025-10-01T00:12:03.793Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:03.793Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.793Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:03.793Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:03.793Z"}}
[Server STDOUT]: 6:12:03 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.806Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.806Z"}}
{"timestamp":"2025-10-01T00:12:03.807Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.814Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.814Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.814Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.815Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.815Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.815Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.815Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.815Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.815Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.820Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.820Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.820Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.837Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.837Z"}}
{"timestamp":"2025-10-01T00:12:03.837Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.845Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.845Z"}}
{"timestamp":"2025-10-01T00:12:03.845Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.855Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.855Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.855Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.859Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.859Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.859Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.873Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.873Z"}}
{"timestamp":"2025-10-01T00:12:03.873Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.874Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.874Z"}}
{"timestamp":"2025-10-01T00:12:03.874Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.883Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.883Z"}}
{"timestamp":"2025-10-01T00:12:03.883Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.883Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.883Z"}}
{"timestamp":"2025-10-01T00:12:03.883Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.899Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.899Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.899Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.907Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.907Z"}}
{"timestamp":"2025-10-01T00:12:03.907Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.922Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.922Z"}}
{"timestamp":"2025-10-01T00:12:03.922Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.966Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:03.966Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:03.966Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:03 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.005Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.005Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.005Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.013Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.013Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.013Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.028Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.028Z"}}
{"timestamp":"2025-10-01T00:12:04.028Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.043Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.043Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.043Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.044Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.044Z"}}
{"timestamp":"2025-10-01T00:12:04.044Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.044Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.044Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.044Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.044Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.044Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.044Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.047Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.047Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.047Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.048Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.048Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.048Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.052Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.052Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.052Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.057Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.057Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.057Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.062Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.062Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.062Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.076Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.076Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.076Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.077Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.077Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.077Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.088Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.088Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.088Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.101Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.101Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.101Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.105Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.105Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.105Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.119Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.119Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.119Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.119Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.119Z"}}
{"timestamp":"2025-10-01T00:12:04.119Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.121Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.121Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.121Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.122Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"82.82%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.122Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.122Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"82.83%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.129Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.129Z"}}
{"timestamp":"2025-10-01T00:12:04.129Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.130Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.130Z"}}
{"timestamp":"2025-10-01T00:12:04.130Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.140Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.140Z"}}
{"timestamp":"2025-10-01T00:12:04.140Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.145Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.145Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.145Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.146Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.146Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.146Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.165Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.165Z"}}
{"timestamp":"2025-10-01T00:12:04.165Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.174Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.174Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.174Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.175Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.175Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.175Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.182Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.182Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.182Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.190Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.190Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.190Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.192Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.192Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.192Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
{"timestamp":"2025-10-01T00:12:04.192Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.192Z"}}
{"timestamp":"2025-10-01T00:12:04.192Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.196Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.196Z"}}
{"timestamp":"2025-10-01T00:12:04.196Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:04.196Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.196Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.196Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:04.196Z"}}
[Server STDOUT]: 6:12:04 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.204Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.204Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.204Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.224Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.224Z"}}
{"timestamp":"2025-10-01T00:12:04.224Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.225Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.225Z"}}
{"timestamp":"2025-10-01T00:12:04.225Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.241Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.241Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.241Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.244Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.244Z"}}
{"timestamp":"2025-10-01T00:12:04.244Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.247Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.247Z"}}
{"timestamp":"2025-10-01T00:12:04.247Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.259Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.259Z"}}
{"timestamp":"2025-10-01T00:12:04.259Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.260Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.260Z"}}
{"timestamp":"2025-10-01T00:12:04.260Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.274Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.274Z"}}
{"timestamp":"2025-10-01T00:12:04.274Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.286Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.286Z"}}
{"timestamp":"2025-10-01T00:12:04.286Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.286Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.286Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.286Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.295Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.295Z"}}
{"timestamp":"2025-10-01T00:12:04.295Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.295Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.295Z"}}
{"timestamp":"2025-10-01T00:12:04.295Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.309Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.309Z"}}
{"timestamp":"2025-10-01T00:12:04.309Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.325Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.325Z"}}
{"timestamp":"2025-10-01T00:12:04.325Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.330Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.330Z"}}
{"timestamp":"2025-10-01T00:12:04.330Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:04.331Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.331Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.331Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:04.331Z"}}
[Server STDOUT]: 6:12:04 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.331Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.331Z"}}
{"timestamp":"2025-10-01T00:12:04.331Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.342Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.342Z"}}
{"timestamp":"2025-10-01T00:12:04.342Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.365Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.365Z"}}
{"timestamp":"2025-10-01T00:12:04.365Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.370Z","level":"info","message":"Connection metrics","context":{"activeConnections":-1598,"totalConnections":1600,"timestamp":"2025-10-01T00:12:04.370Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.370Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.370Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.370Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.371Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.371Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.371Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.395Z"}}
{"timestamp":"2025-10-01T00:12:04.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.397Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.397Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.397Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.404Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.404Z"}}
{"timestamp":"2025-10-01T00:12:04.404Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.405Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.405Z"}}
{"timestamp":"2025-10-01T00:12:04.405Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.411Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.411Z"}}
{"timestamp":"2025-10-01T00:12:04.411Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.419Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.419Z"}}
{"timestamp":"2025-10-01T00:12:04.419Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.432Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.432Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.432Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.453Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.453Z"}}
{"timestamp":"2025-10-01T00:12:04.453Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.460Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.460Z"}}
{"timestamp":"2025-10-01T00:12:04.460Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.466Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.466Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.466Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.466Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.466Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.466Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.478Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.478Z"}}
{"timestamp":"2025-10-01T00:12:04.478Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.490Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.490Z"}}
{"timestamp":"2025-10-01T00:12:04.490Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.499Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.499Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.499Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.499Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.499Z"}}
{"timestamp":"2025-10-01T00:12:04.499Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.502Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.502Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.502Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.503Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.503Z"}}
{"timestamp":"2025-10-01T00:12:04.503Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.525Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.525Z"}}
{"timestamp":"2025-10-01T00:12:04.525Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.552Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.552Z"}}
{"timestamp":"2025-10-01T00:12:04.552Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.554Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.554Z"}}
{"timestamp":"2025-10-01T00:12:04.554Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.554Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.554Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.554Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:04.554Z"}}
[Server STDOUT]: 6:12:04 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.566Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.566Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.566Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
{"timestamp":"2025-10-01T00:12:04.566Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.566Z"}}
{"timestamp":"2025-10-01T00:12:04.566Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.572Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.572Z"}}
{"timestamp":"2025-10-01T00:12:04.572Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.575Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.575Z"}}
{"timestamp":"2025-10-01T00:12:04.575Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.576Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.576Z"}}
{"timestamp":"2025-10-01T00:12:04.576Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.578Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.578Z"}}
{"timestamp":"2025-10-01T00:12:04.578Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.591Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.591Z"}}
{"timestamp":"2025-10-01T00:12:04.591Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.602Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.602Z"}}
{"timestamp":"2025-10-01T00:12:04.602Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.602Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.602Z"}}
{"timestamp":"2025-10-01T00:12:04.602Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.609Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.609Z"}}
{"timestamp":"2025-10-01T00:12:04.610Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.612Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.612Z"}}
{"timestamp":"2025-10-01T00:12:04.612Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.631Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.631Z"}}
{"timestamp":"2025-10-01T00:12:04.631Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.641Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.641Z"}}
{"timestamp":"2025-10-01T00:12:04.641Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.641Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.641Z"}}
{"timestamp":"2025-10-01T00:12:04.641Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.656Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.656Z"}}
{"timestamp":"2025-10-01T00:12:04.656Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.668Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.668Z"}}
{"timestamp":"2025-10-01T00:12:04.668Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.677Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.677Z"}}
{"timestamp":"2025-10-01T00:12:04.677Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.677Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.677Z"}}
{"timestamp":"2025-10-01T00:12:04.677Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.679Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.679Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.679Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.680Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.680Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.681Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.682Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.682Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.682Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.683Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.683Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.683Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.684Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.684Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.684Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.685Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.697Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.697Z"}}
{"timestamp":"2025-10-01T00:12:04.697Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.722Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.722Z"}}
{"timestamp":"2025-10-01T00:12:04.722Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.731Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.731Z"}}
{"timestamp":"2025-10-01T00:12:04.731Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:04.731Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.731Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.731Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:04.731Z"}}
[Server STDOUT]: 6:12:04 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.732Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.732Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.732Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.738Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.738Z"}}
{"timestamp":"2025-10-01T00:12:04.738Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.748Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.748Z"}}
{"timestamp":"2025-10-01T00:12:04.748Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.748Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.748Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.748Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:04.748Z"}}
[Server STDOUT]: 6:12:04 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.749Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.749Z"}}
{"timestamp":"2025-10-01T00:12:04.749Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.756Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.756Z"}}
{"timestamp":"2025-10-01T00:12:04.756Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.779Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.779Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.779Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.809Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.809Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.809Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.818Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.818Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.818Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.839Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.839Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.839Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.843Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.843Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.843Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.854Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.854Z"}}
{"timestamp":"2025-10-01T00:12:04.854Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.856Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.856Z"}}
{"timestamp":"2025-10-01T00:12:04.856Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
{"timestamp":"2025-10-01T00:12:04.856Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.856Z"}}
{"timestamp":"2025-10-01T00:12:04.856Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.862Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.862Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.862Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.867Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.867Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.867Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.868Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.868Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.868Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.875Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.875Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.875Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.875Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.875Z"}}
{"timestamp":"2025-10-01T00:12:04.875Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.884Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.884Z"}}
{"timestamp":"2025-10-01T00:12:04.884Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.886Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.886Z"}}
{"timestamp":"2025-10-01T00:12:04.886Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.915Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.915Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.915Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.915Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.915Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.915Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:04.915Z"}}
[Server STDOUT]: 6:12:04 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.923Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.923Z"}}
{"timestamp":"2025-10-01T00:12:04.923Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.945Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.945Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.945Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.946Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.946Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.946Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.959Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.959Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.959Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.975Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.975Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.975Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.984Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.984Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.984Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.997Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.997Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.997Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:04 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.999Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:04.999Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:04.999Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.007Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.007Z"}}
{"timestamp":"2025-10-01T00:12:05.007Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.030Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.030Z"}}
{"timestamp":"2025-10-01T00:12:05.030Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.039Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.039Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.039Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.044Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.044Z"}}
{"timestamp":"2025-10-01T00:12:05.044Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.053Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.053Z"}}
{"timestamp":"2025-10-01T00:12:05.053Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.057Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.057Z"}}
{"timestamp":"2025-10-01T00:12:05.057Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.067Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.067Z"}}
{"timestamp":"2025-10-01T00:12:05.067Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.087Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.087Z"}}
{"timestamp":"2025-10-01T00:12:05.087Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.117Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.117Z"}}
{"timestamp":"2025-10-01T00:12:05.117Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/pos/sales 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.124Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.124Z"}}
{"timestamp":"2025-10-01T00:12:05.124Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:05.124Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.124Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:12:05.124Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:05.124Z"}}
[Server STDOUT]: 6:12:05 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.127Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.127Z"}}
{"timestamp":"2025-10-01T00:12:05.128Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.131Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.131Z"}}
{"timestamp":"2025-10-01T00:12:05.131Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.132Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.132Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.133Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.141Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.141Z"}}
{"timestamp":"2025-10-01T00:12:05.142Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.150Z"}}
{"timestamp":"2025-10-01T00:12:05.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.152Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.152Z"}}
{"timestamp":"2025-10-01T00:12:05.152Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.160Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.160Z"}}
{"timestamp":"2025-10-01T00:12:05.160Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.160Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.160Z"}}
{"timestamp":"2025-10-01T00:12:05.160Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.165Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.165Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.165Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.166Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.166Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.167Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.169Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.169Z"}}
{"timestamp":"2025-10-01T00:12:05.169Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:05.169Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.169Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.169Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:05.169Z"}}
[Server STDOUT]: 6:12:05 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.172Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.172Z"}}
{"timestamp":"2025-10-01T00:12:05.172Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.172Z","level":"info","message":"Connection metrics","context":{"activeConnections":-1698,"totalConnections":1700,"timestamp":"2025-10-01T00:12:05.172Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.172Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.172Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.172Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.175Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.175Z"}}
{"timestamp":"2025-10-01T00:12:05.175Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.182Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.182Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.182Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.183Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.183Z"}}
{"timestamp":"2025-10-01T00:12:05.183Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.192Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.192Z"}}
{"timestamp":"2025-10-01T00:12:05.192Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.195Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.195Z"}}
{"timestamp":"2025-10-01T00:12:05.195Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.203Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.203Z"}}
{"timestamp":"2025-10-01T00:12:05.203Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.212Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.212Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.212Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.217Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.217Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.217Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.239Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.239Z"}}
{"timestamp":"2025-10-01T00:12:05.239Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.250Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.250Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.250Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.268Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.268Z"}}
{"timestamp":"2025-10-01T00:12:05.268Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.282Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.282Z"}}
{"timestamp":"2025-10-01T00:12:05.282Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.287Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.287Z"}}
{"timestamp":"2025-10-01T00:12:05.287Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.290Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.290Z"}}
{"timestamp":"2025-10-01T00:12:05.290Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.291Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.291Z"}}
{"timestamp":"2025-10-01T00:12:05.291Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.293Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.293Z"}}
{"timestamp":"2025-10-01T00:12:05.293Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.294Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.294Z"}}
{"timestamp":"2025-10-01T00:12:05.294Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.304Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.304Z"}}
{"timestamp":"2025-10-01T00:12:05.304Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.305Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.305Z"}}
{"timestamp":"2025-10-01T00:12:05.305Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.306Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.306Z"}}
{"timestamp":"2025-10-01T00:12:05.306Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.321Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.321Z"}}
{"timestamp":"2025-10-01T00:12:05.321Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.322Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.322Z"}}
{"timestamp":"2025-10-01T00:12:05.322Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.352Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.352Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.352Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.354Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.354Z"}}
{"timestamp":"2025-10-01T00:12:05.354Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.361Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.361Z"}}
{"timestamp":"2025-10-01T00:12:05.361Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.367Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.367Z"}}
{"timestamp":"2025-10-01T00:12:05.367Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.372Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.372Z"}}
{"timestamp":"2025-10-01T00:12:05.372Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.372Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.372Z"}}
{"timestamp":"2025-10-01T00:12:05.372Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.395Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.408Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.408Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.408Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:05.408Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.408Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.408Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:05.408Z"}}
[Server STDOUT]: 6:12:05 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.409Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.409Z"}}
{"timestamp":"2025-10-01T00:12:05.409Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.431Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.431Z"}}
{"timestamp":"2025-10-01T00:12:05.431Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.448Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.448Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.448Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.451Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.451Z"}}
{"timestamp":"2025-10-01T00:12:05.451Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.454Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.454Z"}}
{"timestamp":"2025-10-01T00:12:05.454Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.456Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.456Z"}}
{"timestamp":"2025-10-01T00:12:05.456Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.477Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.477Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.477Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.478Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.478Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.478Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.494Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.494Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.494Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.503Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.503Z"}}
{"timestamp":"2025-10-01T00:12:05.503Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
{"timestamp":"2025-10-01T00:12:05.503Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.503Z"}}
{"timestamp":"2025-10-01T00:12:05.503Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.516Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.516Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.516Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.517Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.517Z"}}
{"timestamp":"2025-10-01T00:12:05.517Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.525Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.525Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.525Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.535Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.535Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.535Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.535Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.535Z"}}
{"timestamp":"2025-10-01T00:12:05.535Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.535Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.535Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.535Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.542Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.542Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.542Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.566Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.566Z"}}
{"timestamp":"2025-10-01T00:12:05.566Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.574Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.574Z"}}
{"timestamp":"2025-10-01T00:12:05.574Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.574Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.574Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.574Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.582Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.582Z"}}
{"timestamp":"2025-10-01T00:12:05.582Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.584Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.584Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.584Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.591Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.591Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.591Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.603Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.603Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.603Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.603Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.603Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.603Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.610Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.610Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.610Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.610Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.610Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.610Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.621Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.621Z"}}
{"timestamp":"2025-10-01T00:12:05.621Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.631Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.631Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.631Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.643Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.643Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.643Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.647Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.647Z"}}
{"timestamp":"2025-10-01T00:12:05.647Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:05 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.649Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.649Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.649Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:05.649Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.649Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:12:05.649Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:05.649Z"}}
[Server STDOUT]: 6:12:05 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.658Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.658Z"}}
{"timestamp":"2025-10-01T00:12:05.658Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.669Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.669Z"}}
{"timestamp":"2025-10-01T00:12:05.669Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.670Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.670Z"}}
{"timestamp":"2025-10-01T00:12:05.670Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.675Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.675Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.675Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.683Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.683Z"}}
{"timestamp":"2025-10-01T00:12:05.683Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.685Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.686Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.686Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.686Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.700Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.700Z"}}
{"timestamp":"2025-10-01T00:12:05.700Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.702Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.702Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.702Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.709Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.709Z"}}
{"timestamp":"2025-10-01T00:12:05.709Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
{"timestamp":"2025-10-01T00:12:05.710Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.710Z"}}
{"timestamp":"2025-10-01T00:12:05.710Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.713Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.713Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.713Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.744Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.744Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.744Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.745Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.745Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.745Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.777Z"}}
{"timestamp":"2025-10-01T00:12:05.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.778Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.778Z"}}
{"timestamp":"2025-10-01T00:12:05.778Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.780Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.779Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.780Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.824Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.824Z"}}
{"timestamp":"2025-10-01T00:12:05.824Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.829Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.829Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.829Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.830Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.830Z"}}
{"timestamp":"2025-10-01T00:12:05.830Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.831Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.831Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:05.831Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:05.831Z"}}
[Server STDOUT]: 6:12:05 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.847Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.847Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.847Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.851Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.851Z"}}
{"timestamp":"2025-10-01T00:12:05.851Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.853Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.853Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.853Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.867Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.867Z"}}
{"timestamp":"2025-10-01T00:12:05.867Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.867Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.867Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.867Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:05.867Z"}}
[Server STDOUT]: 6:12:05 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.875Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.875Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.875Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.882Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.882Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.882Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.886Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.886Z"}}
{"timestamp":"2025-10-01T00:12:05.886Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.890Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.890Z"}}
{"timestamp":"2025-10-01T00:12:05.890Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.900Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.900Z"}}
{"timestamp":"2025-10-01T00:12:05.900Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.903Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.903Z"}}
{"timestamp":"2025-10-01T00:12:05.903Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.916Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.916Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.916Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.932Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.932Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.932Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
  Active users: 45/50
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.934Z"}}
{"timestamp":"2025-10-01T00:12:05.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.935Z"}}
{"timestamp":"2025-10-01T00:12:05.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.935Z"}}
{"timestamp":"2025-10-01T00:12:05.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.935Z"}}
{"timestamp":"2025-10-01T00:12:05.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.935Z","level":"info","message":"Connection metrics","context":{"activeConnections":-1798,"totalConnections":1800,"timestamp":"2025-10-01T00:12:05.935Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.936Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.936Z"}}
{"timestamp":"2025-10-01T00:12:05.936Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.936Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.936Z"}}
{"timestamp":"2025-10-01T00:12:05.936Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.936Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.936Z"}}
{"timestamp":"2025-10-01T00:12:05.936Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.941Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.941Z"}}
{"timestamp":"2025-10-01T00:12:05.941Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.954Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.954Z"}}
{"timestamp":"2025-10-01T00:12:05.954Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.957Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.957Z"}}
{"timestamp":"2025-10-01T00:12:05.957Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:05.975Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:05.975Z"}}
{"timestamp":"2025-10-01T00:12:05.975Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:05 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.016Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.016Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.016Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.019Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.019Z"}}
{"timestamp":"2025-10-01T00:12:06.019Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.019Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.019Z"}}
{"timestamp":"2025-10-01T00:12:06.019Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.026Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.026Z"}}
{"timestamp":"2025-10-01T00:12:06.026Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.028Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.028Z"}}
{"timestamp":"2025-10-01T00:12:06.028Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.031Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.031Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.031Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.037Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.037Z"}}
{"timestamp":"2025-10-01T00:12:06.037Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.054Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.054Z"}}
{"timestamp":"2025-10-01T00:12:06.054Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.060Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.060Z"}}
{"timestamp":"2025-10-01T00:12:06.060Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.064Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.064Z"}}
{"timestamp":"2025-10-01T00:12:06.064Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.072Z"}}
{"timestamp":"2025-10-01T00:12:06.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.072Z"}}
{"timestamp":"2025-10-01T00:12:06.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.093Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.093Z"}}
{"timestamp":"2025-10-01T00:12:06.093Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.094Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.094Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.094Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.101Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.101Z"}}
{"timestamp":"2025-10-01T00:12:06.101Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.107Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.107Z"}}
{"timestamp":"2025-10-01T00:12:06.107Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.108Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.108Z"}}
{"timestamp":"2025-10-01T00:12:06.108Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.121Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.121Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.121Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:06.121Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.121Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:06.121Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:06.121Z"}}
[Server STDOUT]: 6:12:06 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.121Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.121Z"}}
{"timestamp":"2025-10-01T00:12:06.121Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.122Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.122Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.122Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.131Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.131Z"}}
{"timestamp":"2025-10-01T00:12:06.131Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.137Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.137Z"}}
{"timestamp":"2025-10-01T00:12:06.137Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.138Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.138Z"}}
{"timestamp":"2025-10-01T00:12:06.138Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.152Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.152Z"}}
{"timestamp":"2025-10-01T00:12:06.153Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.153Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.153Z"}}
{"timestamp":"2025-10-01T00:12:06.153Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.165Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.165Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.165Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.175Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.175Z"}}
{"timestamp":"2025-10-01T00:12:06.175Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.177Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.177Z"}}
{"timestamp":"2025-10-01T00:12:06.177Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.185Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.185Z"}}
{"timestamp":"2025-10-01T00:12:06.185Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.186Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.186Z"}}
{"timestamp":"2025-10-01T00:12:06.186Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.188Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.188Z"}}
{"timestamp":"2025-10-01T00:12:06.188Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.192Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.192Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.192Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.231Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.231Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.231Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.246Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.246Z"}}
{"timestamp":"2025-10-01T00:12:06.246Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.257Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.257Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.257Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.264Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.264Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.264Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.265Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.265Z"}}
{"timestamp":"2025-10-01T00:12:06.265Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.266Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.266Z"}}
{"timestamp":"2025-10-01T00:12:06.266Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.275Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.275Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.275Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:06.275Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.275Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.275Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:06.275Z"}}
[Server STDOUT]: 6:12:06 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.275Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.275Z"}}
{"timestamp":"2025-10-01T00:12:06.275Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.288Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.288Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.288Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.296Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.296Z"}}
{"timestamp":"2025-10-01T00:12:06.296Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.300Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.300Z"}}
{"timestamp":"2025-10-01T00:12:06.300Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.306Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.306Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.306Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.306Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.306Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.307Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.313Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.313Z"}}
{"timestamp":"2025-10-01T00:12:06.313Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.326Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.326Z"}}
{"timestamp":"2025-10-01T00:12:06.326Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.332Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.332Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.332Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.333Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.333Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.333Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.349Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.349Z"}}
{"timestamp":"2025-10-01T00:12:06.349Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
{"timestamp":"2025-10-01T00:12:06.349Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.349Z"}}
{"timestamp":"2025-10-01T00:12:06.349Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.354Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.354Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.354Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.354Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.354Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.354Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.358Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.358Z"}}
{"timestamp":"2025-10-01T00:12:06.358Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.366Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.366Z"}}
{"timestamp":"2025-10-01T00:12:06.366Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:06.366Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.366Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:06.366Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:06.366Z"}}
[Server STDOUT]: 6:12:06 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.366Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.366Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.366Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.373Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.373Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.373Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.374Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.374Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.374Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.382Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.382Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.382Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.397Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.397Z"}}
{"timestamp":"2025-10-01T00:12:06.397Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.412Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.412Z"}}
{"timestamp":"2025-10-01T00:12:06.412Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.414Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.414Z"}}
{"timestamp":"2025-10-01T00:12:06.414Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.422Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.422Z"}}
{"timestamp":"2025-10-01T00:12:06.422Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.426Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.426Z"}}
{"timestamp":"2025-10-01T00:12:06.426Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.434Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.434Z"}}
{"timestamp":"2025-10-01T00:12:06.434Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.437Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.437Z"}}
{"timestamp":"2025-10-01T00:12:06.437Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.444Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.443Z"}}
{"timestamp":"2025-10-01T00:12:06.444Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.466Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.466Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.466Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:06.466Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.466Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:06.466Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:06.466Z"}}
[Server STDOUT]: 6:12:06 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.470Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.470Z"}}
{"timestamp":"2025-10-01T00:12:06.470Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.475Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.475Z"}}
{"timestamp":"2025-10-01T00:12:06.475Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.475Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.475Z"}}
{"timestamp":"2025-10-01T00:12:06.475Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.479Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.479Z"}}
{"timestamp":"2025-10-01T00:12:06.479Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.487Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.487Z"}}
{"timestamp":"2025-10-01T00:12:06.487Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.487Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.487Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.487Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:06.487Z"}}
[Server STDOUT]: 6:12:06 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.487Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.487Z"}}
{"timestamp":"2025-10-01T00:12:06.487Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.489Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.489Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.489Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.509Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.509Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.509Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.510Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.510Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.510Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.518Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.518Z"}}
{"timestamp":"2025-10-01T00:12:06.518Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.520Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.520Z"}}
{"timestamp":"2025-10-01T00:12:06.520Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.537Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.537Z"}}
{"timestamp":"2025-10-01T00:12:06.537Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.539Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.539Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.539Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.542Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.542Z"}}
{"timestamp":"2025-10-01T00:12:06.542Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.546Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.546Z"}}
{"timestamp":"2025-10-01T00:12:06.546Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.549Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.549Z"}}
{"timestamp":"2025-10-01T00:12:06.549Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.551Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.551Z"}}
{"timestamp":"2025-10-01T00:12:06.551Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.556Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.556Z"}}
{"timestamp":"2025-10-01T00:12:06.556Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.557Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.557Z"}}
{"timestamp":"2025-10-01T00:12:06.557Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.566Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.566Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.566Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.583Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.583Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.583Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.595Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.595Z"}}
{"timestamp":"2025-10-01T00:12:06.595Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.595Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.595Z"}}
{"timestamp":"2025-10-01T00:12:06.595Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.603Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.603Z"}}
{"timestamp":"2025-10-01T00:12:06.603Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.603Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.603Z"}}
{"timestamp":"2025-10-01T00:12:06.603Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.613Z","level":"info","message":"Connection metrics","context":{"activeConnections":-1898,"totalConnections":1900,"timestamp":"2025-10-01T00:12:06.613Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.613Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.613Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.632Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.632Z"}}
{"timestamp":"2025-10-01T00:12:06.632Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.649Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.649Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.649Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.651Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.651Z"}}
{"timestamp":"2025-10-01T00:12:06.651Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.654Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.654Z"}}
{"timestamp":"2025-10-01T00:12:06.654Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.654Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.654Z"}}
{"timestamp":"2025-10-01T00:12:06.654Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.673Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.673Z"}}
{"timestamp":"2025-10-01T00:12:06.673Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.679Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.679Z"}}
{"timestamp":"2025-10-01T00:12:06.679Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.680Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.680Z"}}
{"timestamp":"2025-10-01T00:12:06.680Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:06.680Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.680Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.680Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:06.680Z"}}
[Server STDOUT]: 6:12:06 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.684Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.684Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.684Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.697Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.697Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.697Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.698Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.698Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.698Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.705Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.705Z"}}
{"timestamp":"2025-10-01T00:12:06.705Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.714Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.714Z"}}
{"timestamp":"2025-10-01T00:12:06.714Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.717Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.717Z"}}
{"timestamp":"2025-10-01T00:12:06.717Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.729Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.729Z"}}
{"timestamp":"2025-10-01T00:12:06.729Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.730Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.730Z"}}
{"timestamp":"2025-10-01T00:12:06.730Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.734Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.734Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.734Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.745Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.745Z"}}
{"timestamp":"2025-10-01T00:12:06.745Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.771Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.771Z"}}
{"timestamp":"2025-10-01T00:12:06.771Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.777Z"}}
{"timestamp":"2025-10-01T00:12:06.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.777Z"}}
{"timestamp":"2025-10-01T00:12:06.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
{"timestamp":"2025-10-01T00:12:06.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.777Z"}}
{"timestamp":"2025-10-01T00:12:06.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.789Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.789Z"}}
{"timestamp":"2025-10-01T00:12:06.789Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.797Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.797Z"}}
{"timestamp":"2025-10-01T00:12:06.797Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.799Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.799Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.799Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.801Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.801Z"}}
{"timestamp":"2025-10-01T00:12:06.801Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.802Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.802Z"}}
{"timestamp":"2025-10-01T00:12:06.802Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.803Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.803Z"}}
{"timestamp":"2025-10-01T00:12:06.803Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.805Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.805Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.805Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.822Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.822Z"}}
{"timestamp":"2025-10-01T00:12:06.822Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.823Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.823Z"}}
{"timestamp":"2025-10-01T00:12:06.823Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.839Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.839Z"}}
{"timestamp":"2025-10-01T00:12:06.839Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.841Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.841Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.841Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.844Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.844Z"}}
{"timestamp":"2025-10-01T00:12:06.844Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.852Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.852Z"}}
{"timestamp":"2025-10-01T00:12:06.852Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.855Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.855Z"}}
{"timestamp":"2025-10-01T00:12:06.855Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.859Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.859Z"}}
{"timestamp":"2025-10-01T00:12:06.859Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.885Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.885Z"}}
{"timestamp":"2025-10-01T00:12:06.886Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.888Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.888Z"}}
{"timestamp":"2025-10-01T00:12:06.888Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.891Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.891Z"}}
{"timestamp":"2025-10-01T00:12:06.891Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.904Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.904Z"}}
{"timestamp":"2025-10-01T00:12:06.904Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.911Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.911Z"}}
{"timestamp":"2025-10-01T00:12:06.911Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
{"timestamp":"2025-10-01T00:12:06.912Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.912Z"}}
{"timestamp":"2025-10-01T00:12:06.912Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.927Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.927Z"}}
{"timestamp":"2025-10-01T00:12:06.927Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.935Z"}}
{"timestamp":"2025-10-01T00:12:06.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.939Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.939Z"}}
{"timestamp":"2025-10-01T00:12:06.939Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.948Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.948Z"}}
{"timestamp":"2025-10-01T00:12:06.948Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.949Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.949Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.949Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.953Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.953Z"}}
{"timestamp":"2025-10-01T00:12:06.953Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.965Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.965Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.965Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.968Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.968Z"}}
{"timestamp":"2025-10-01T00:12:06.968Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.970Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.970Z"}}
{"timestamp":"2025-10-01T00:12:06.970Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.983Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:06.983Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:06.983Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:06 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.003Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.003Z"}}
{"timestamp":"2025-10-01T00:12:07.003Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.014Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.014Z"}}
{"timestamp":"2025-10-01T00:12:07.014Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.018Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.018Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.018Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.020Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.020Z"}}
{"timestamp":"2025-10-01T00:12:07.020Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.028Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.028Z"}}
{"timestamp":"2025-10-01T00:12:07.028Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.033Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.033Z"}}
{"timestamp":"2025-10-01T00:12:07.033Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.034Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.034Z"}}
{"timestamp":"2025-10-01T00:12:07.034Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.036Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.036Z"}}
{"timestamp":"2025-10-01T00:12:07.036Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.042Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.042Z"}}
{"timestamp":"2025-10-01T00:12:07.042Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.044Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.044Z"}}
{"timestamp":"2025-10-01T00:12:07.044Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.056Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.056Z"}}
{"timestamp":"2025-10-01T00:12:07.056Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.062Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.062Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.062Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.089Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.089Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.089Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.091Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.091Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.091Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.095Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.095Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.095Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.100Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.100Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.100Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.108Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.108Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.108Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.108Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.108Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.108Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.117Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.117Z"}}
{"timestamp":"2025-10-01T00:12:07.117Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.123Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"82.85%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.123Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.123Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"82.86%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.129Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.129Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.130Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.135Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.135Z"}}
{"timestamp":"2025-10-01T00:12:07.135Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.141Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.141Z"}}
{"timestamp":"2025-10-01T00:12:07.141Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
{"timestamp":"2025-10-01T00:12:07.141Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.141Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.141Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.147Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.147Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.147Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.148Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.148Z"}}
{"timestamp":"2025-10-01T00:12:07.148Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.148Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.148Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.148Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.150Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.161Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.161Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.161Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.172Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.172Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.172Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.172Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.172Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.172Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.184Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.184Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.184Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.201Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.201Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.201Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.202Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.202Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.202Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.217Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.217Z"}}
{"timestamp":"2025-10-01T00:12:07.217Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.223Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.223Z"}}
{"timestamp":"2025-10-01T00:12:07.223Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.228Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.228Z"}}
{"timestamp":"2025-10-01T00:12:07.228Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.229Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.229Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.229Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:07.229Z"}}
[Server STDOUT]: 6:12:07 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.238Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.238Z"}}
{"timestamp":"2025-10-01T00:12:07.238Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.239Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.239Z"}}
{"timestamp":"2025-10-01T00:12:07.239Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.253Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.253Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.253Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.255Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.255Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.255Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.256Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.256Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.256Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.256Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.256Z"}}
{"timestamp":"2025-10-01T00:12:07.256Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.267Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.267Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.267Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.269Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.269Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.269Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.271Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.271Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.272Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.274Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.274Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.274Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.275Z","level":"info","message":"Connection metrics","context":{"activeConnections":-1998,"totalConnections":2000,"timestamp":"2025-10-01T00:12:07.275Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.275Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.275Z"}}
{"timestamp":"2025-10-01T00:12:07.275Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.280Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.280Z"}}
{"timestamp":"2025-10-01T00:12:07.280Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.291Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.291Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.291Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.314Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.314Z"}}
{"timestamp":"2025-10-01T00:12:07.314Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.329Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.329Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.329Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.338Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.338Z"}}
{"timestamp":"2025-10-01T00:12:07.338Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.339Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.339Z"}}
{"timestamp":"2025-10-01T00:12:07.339Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.341Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.341Z"}}
{"timestamp":"2025-10-01T00:12:07.341Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.341Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.341Z"}}
{"timestamp":"2025-10-01T00:12:07.341Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.362Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.362Z"}}
{"timestamp":"2025-10-01T00:12:07.362Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.362Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.362Z"}}
{"timestamp":"2025-10-01T00:12:07.362Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.364Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.364Z"}}
{"timestamp":"2025-10-01T00:12:07.364Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.374Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.374Z"}}
{"timestamp":"2025-10-01T00:12:07.374Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.374Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.374Z"}}
{"timestamp":"2025-10-01T00:12:07.374Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.378Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.378Z"}}
{"timestamp":"2025-10-01T00:12:07.378Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.378Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.378Z"}}
{"timestamp":"2025-10-01T00:12:07.378Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.384Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.384Z"}}
{"timestamp":"2025-10-01T00:12:07.384Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.398Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.398Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.398Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.417Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.417Z"}}
{"timestamp":"2025-10-01T00:12:07.417Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.418Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.418Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.418Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.426Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.426Z"}}
{"timestamp":"2025-10-01T00:12:07.426Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.438Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.438Z"}}
{"timestamp":"2025-10-01T00:12:07.438Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:07.438Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.438Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.438Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:07.438Z"}}
[Server STDOUT]: 6:12:07 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.442Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.442Z"}}
{"timestamp":"2025-10-01T00:12:07.442Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.444Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.444Z"}}
{"timestamp":"2025-10-01T00:12:07.444Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.446Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.446Z"}}
{"timestamp":"2025-10-01T00:12:07.446Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.460Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.460Z"}}
{"timestamp":"2025-10-01T00:12:07.460Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.475Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.475Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.475Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.476Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.476Z"}}
{"timestamp":"2025-10-01T00:12:07.476Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.479Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.479Z"}}
{"timestamp":"2025-10-01T00:12:07.479Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.481Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.481Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.481Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.485Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.485Z"}}
{"timestamp":"2025-10-01T00:12:07.485Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.487Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.487Z"}}
{"timestamp":"2025-10-01T00:12:07.487Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.489Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.489Z"}}
{"timestamp":"2025-10-01T00:12:07.489Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.497Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.497Z"}}
{"timestamp":"2025-10-01T00:12:07.497Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.498Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.498Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.498Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.506Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.506Z"}}
{"timestamp":"2025-10-01T00:12:07.506Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.508Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.508Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.508Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.509Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.509Z"}}
{"timestamp":"2025-10-01T00:12:07.509Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.514Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.514Z"}}
{"timestamp":"2025-10-01T00:12:07.514Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.518Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.518Z"}}
{"timestamp":"2025-10-01T00:12:07.518Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.528Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.528Z"}}
{"timestamp":"2025-10-01T00:12:07.528Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.529Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.529Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.529Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.534Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.534Z"}}
{"timestamp":"2025-10-01T00:12:07.534Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.536Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.536Z"}}
{"timestamp":"2025-10-01T00:12:07.536Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.536Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.536Z"}}
{"timestamp":"2025-10-01T00:12:07.536Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.540Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.540Z"}}
{"timestamp":"2025-10-01T00:12:07.540Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.550Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.550Z"}}
{"timestamp":"2025-10-01T00:12:07.550Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.565Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.565Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.565Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.573Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.573Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.573Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.581Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.581Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.581Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.599Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.599Z"}}
{"timestamp":"2025-10-01T00:12:07.599Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:07.599Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.599Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:07.599Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:07.599Z"}}
[Server STDOUT]: 6:12:07 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.600Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.600Z"}}
{"timestamp":"2025-10-01T00:12:07.600Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.626Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.626Z"}}
{"timestamp":"2025-10-01T00:12:07.626Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.629Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.629Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.629Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.634Z"}}
{"timestamp":"2025-10-01T00:12:07.634Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.643Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.643Z"}}
{"timestamp":"2025-10-01T00:12:07.643Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.644Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.644Z"}}
{"timestamp":"2025-10-01T00:12:07.645Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.645Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.645Z"}}
{"timestamp":"2025-10-01T00:12:07.645Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.654Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.654Z"}}
{"timestamp":"2025-10-01T00:12:07.655Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.656Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.656Z"}}
{"timestamp":"2025-10-01T00:12:07.656Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.666Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.666Z"}}
{"timestamp":"2025-10-01T00:12:07.666Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.685Z"}}
{"timestamp":"2025-10-01T00:12:07.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.688Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.688Z"}}
{"timestamp":"2025-10-01T00:12:07.688Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.699Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.699Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.699Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.701Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.701Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.701Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.703Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.703Z"}}
{"timestamp":"2025-10-01T00:12:07.703Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.705Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.705Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.705Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:07.705Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.705Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.705Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:07.705Z"}}
[Server STDOUT]: 6:12:07 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.715Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.715Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.715Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.716Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.716Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.716Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.716Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.716Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.716Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.722Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.722Z"}}
{"timestamp":"2025-10-01T00:12:07.722Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.733Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.733Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.733Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.733Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.733Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.733Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.739Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.739Z"}}
{"timestamp":"2025-10-01T00:12:07.739Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.746Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.746Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.746Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.746Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.746Z"}}
{"timestamp":"2025-10-01T00:12:07.746Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.752Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.752Z"}}
{"timestamp":"2025-10-01T00:12:07.752Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.755Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.755Z"}}
{"timestamp":"2025-10-01T00:12:07.755Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.766Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.766Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.766Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.767Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.767Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.767Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:07.767Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.767Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.767Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:07.767Z"}}
[Server STDOUT]: 6:12:07 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.767Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.767Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.767Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.781Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.781Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.781Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.783Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.783Z"}}
{"timestamp":"2025-10-01T00:12:07.783Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.785Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.785Z"}}
{"timestamp":"2025-10-01T00:12:07.785Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.791Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.791Z"}}
{"timestamp":"2025-10-01T00:12:07.791Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.792Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.792Z"}}
{"timestamp":"2025-10-01T00:12:07.792Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.825Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.825Z"}}
{"timestamp":"2025-10-01T00:12:07.825Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.825Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.825Z"}}
{"timestamp":"2025-10-01T00:12:07.825Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.827Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.827Z"}}
{"timestamp":"2025-10-01T00:12:07.827Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.848Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.848Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.848Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.874Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.874Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.874Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.874Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.874Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.874Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.875Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.875Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.875Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.878Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.878Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.878Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.886Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.886Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.886Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.891Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.891Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.891Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.892Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.892Z"}}
{"timestamp":"2025-10-01T00:12:07.892Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.905Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.905Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.905Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.905Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.905Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.905Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.906Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.906Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.906Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.909Z","level":"info","message":"Connection metrics","context":{"activeConnections":-2098,"totalConnections":2100,"timestamp":"2025-10-01T00:12:07.909Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.909Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.909Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.909Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.910Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.910Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.910Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.918Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.918Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.918Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.933Z"}}
{"timestamp":"2025-10-01T00:12:07.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.940Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.940Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.940Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.953Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.953Z"}}
{"timestamp":"2025-10-01T00:12:07.953Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.971Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.971Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.971Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.971Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:07.971Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:07.971Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:07 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.006Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.006Z"}}
{"timestamp":"2025-10-01T00:12:08.006Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.017Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.017Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.017Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.017Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.017Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.017Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.018Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.018Z"}}
{"timestamp":"2025-10-01T00:12:08.018Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.026Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.026Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.026Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.034Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.034Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.034Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.039Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.039Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.039Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.044Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.044Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.044Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.047Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.047Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.047Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.048Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.048Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.048Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.051Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.051Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.051Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.051Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.051Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.051Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.068Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.068Z"}}
{"timestamp":"2025-10-01T00:12:08.068Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.072Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.080Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.080Z"}}
{"timestamp":"2025-10-01T00:12:08.080Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.087Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.087Z"}}
{"timestamp":"2025-10-01T00:12:08.087Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.105Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.105Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.105Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.118Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.118Z"}}
{"timestamp":"2025-10-01T00:12:08.118Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.125Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.125Z"}}
{"timestamp":"2025-10-01T00:12:08.125Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.128Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.128Z"}}
{"timestamp":"2025-10-01T00:12:08.128Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.134Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.134Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.134Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.134Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.134Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.134Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.137Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.137Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.137Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.141Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.141Z"}}
{"timestamp":"2025-10-01T00:12:08.141Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.146Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.146Z"}}
{"timestamp":"2025-10-01T00:12:08.146Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.147Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.147Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.147Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.157Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.157Z"}}
{"timestamp":"2025-10-01T00:12:08.157Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.157Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.157Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.157Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.161Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.161Z"}}
{"timestamp":"2025-10-01T00:12:08.161Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.177Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.177Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.177Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.178Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.178Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.179Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.182Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.182Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.182Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.197Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.197Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.197Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.205Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.205Z"}}
{"timestamp":"2025-10-01T00:12:08.205Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.215Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.215Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.215Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.217Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.217Z"}}
{"timestamp":"2025-10-01T00:12:08.217Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.218Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.218Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.218Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.219Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.219Z"}}
{"timestamp":"2025-10-01T00:12:08.219Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.224Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.224Z"}}
{"timestamp":"2025-10-01T00:12:08.224Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.243Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.243Z"}}
{"timestamp":"2025-10-01T00:12:08.243Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.248Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.248Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.248Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.249Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.249Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.249Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.258Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.258Z"}}
{"timestamp":"2025-10-01T00:12:08.258Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.266Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.266Z"}}
{"timestamp":"2025-10-01T00:12:08.266Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.270Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.270Z"}}
{"timestamp":"2025-10-01T00:12:08.270Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.277Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.277Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.277Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.280Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.280Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.280Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.285Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.285Z"}}
{"timestamp":"2025-10-01T00:12:08.285Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:08.285Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.285Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.285Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:08.285Z"}}
[Server STDOUT]: 6:12:08 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.304Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.304Z"}}
{"timestamp":"2025-10-01T00:12:08.304Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.304Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.304Z"}}
{"timestamp":"2025-10-01T00:12:08.304Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
{"timestamp":"2025-10-01T00:12:08.304Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.304Z"}}
{"timestamp":"2025-10-01T00:12:08.304Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:08 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.307Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.307Z"}}
{"timestamp":"2025-10-01T00:12:08.307Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.319Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.319Z"}}
{"timestamp":"2025-10-01T00:12:08.319Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.329Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.329Z"}}
{"timestamp":"2025-10-01T00:12:08.329Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.332Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.332Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.332Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.338Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.338Z"}}
{"timestamp":"2025-10-01T00:12:08.338Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.340Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.340Z"}}
{"timestamp":"2025-10-01T00:12:08.340Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.344Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.344Z"}}
{"timestamp":"2025-10-01T00:12:08.344Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.352Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.352Z"}}
{"timestamp":"2025-10-01T00:12:08.352Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.365Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.365Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.365Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.369Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.369Z"}}
{"timestamp":"2025-10-01T00:12:08.369Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.378Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.378Z"}}
{"timestamp":"2025-10-01T00:12:08.378Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.383Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.383Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.383Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:08.383Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.383Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.383Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:08.383Z"}}
[Server STDOUT]: 6:12:08 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.385Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.385Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.385Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.394Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.394Z"}}
{"timestamp":"2025-10-01T00:12:08.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.399Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.399Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.399Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.408Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.408Z"}}
{"timestamp":"2025-10-01T00:12:08.408Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.420Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.420Z"}}
{"timestamp":"2025-10-01T00:12:08.420Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.435Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.435Z"}}
{"timestamp":"2025-10-01T00:12:08.435Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.454Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.454Z"}}
{"timestamp":"2025-10-01T00:12:08.454Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.458Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.458Z"}}
{"timestamp":"2025-10-01T00:12:08.458Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.465Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.465Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.465Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.466Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.466Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.466Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.470Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.470Z"}}
{"timestamp":"2025-10-01T00:12:08.470Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.470Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.470Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.470Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:08.470Z"}}
[Server STDOUT]: 6:12:08 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.473Z"}}
{"timestamp":"2025-10-01T00:12:08.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.473Z"}}
{"timestamp":"2025-10-01T00:12:08.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.484Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.484Z"}}
{"timestamp":"2025-10-01T00:12:08.484Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.488Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.488Z"}}
{"timestamp":"2025-10-01T00:12:08.488Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.495Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.495Z"}}
{"timestamp":"2025-10-01T00:12:08.495Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.507Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.507Z"}}
{"timestamp":"2025-10-01T00:12:08.507Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.508Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.508Z"}}
{"timestamp":"2025-10-01T00:12:08.508Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.519Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.519Z"}}
{"timestamp":"2025-10-01T00:12:08.519Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.528Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.528Z"}}
{"timestamp":"2025-10-01T00:12:08.528Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.529Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.529Z"}}
{"timestamp":"2025-10-01T00:12:08.529Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.529Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.529Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.529Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.552Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.552Z"}}
{"timestamp":"2025-10-01T00:12:08.552Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.571Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.571Z"}}
{"timestamp":"2025-10-01T00:12:08.571Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.580Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.580Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.580Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
{"timestamp":"2025-10-01T00:12:08.582Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.582Z"}}
{"timestamp":"2025-10-01T00:12:08.582Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.594Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.594Z"}}
{"timestamp":"2025-10-01T00:12:08.594Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.614Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.614Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.614Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.615Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.615Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.615Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.616Z","level":"info","message":"Connection metrics","context":{"activeConnections":-2198,"totalConnections":2200,"timestamp":"2025-10-01T00:12:08.616Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.616Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.616Z"}}
{"timestamp":"2025-10-01T00:12:08.616Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.617Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.617Z"}}
{"timestamp":"2025-10-01T00:12:08.617Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.623Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.623Z"}}
{"timestamp":"2025-10-01T00:12:08.623Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.624Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.624Z"}}
{"timestamp":"2025-10-01T00:12:08.624Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.625Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.625Z"}}
{"timestamp":"2025-10-01T00:12:08.625Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.628Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.628Z"}}
{"timestamp":"2025-10-01T00:12:08.628Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.629Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.629Z"}}
{"timestamp":"2025-10-01T00:12:08.629Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.644Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.644Z"}}
{"timestamp":"2025-10-01T00:12:08.644Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.649Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.649Z"}}
{"timestamp":"2025-10-01T00:12:08.649Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.650Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.650Z"}}
{"timestamp":"2025-10-01T00:12:08.650Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:08.651Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.650Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.651Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:08.651Z"}}
6:12:08 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.660Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.660Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.660Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.666Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.666Z"}}
{"timestamp":"2025-10-01T00:12:08.666Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.673Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.673Z"}}
{"timestamp":"2025-10-01T00:12:08.673Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.691Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.691Z"}}
{"timestamp":"2025-10-01T00:12:08.691Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.694Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.694Z"}}
{"timestamp":"2025-10-01T00:12:08.694Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.715Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.715Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.715Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.729Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.729Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.729Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.730Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.730Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.730Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.735Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.735Z"}}
{"timestamp":"2025-10-01T00:12:08.735Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.736Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.736Z"}}
{"timestamp":"2025-10-01T00:12:08.736Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.737Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.737Z"}}
{"timestamp":"2025-10-01T00:12:08.737Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.758Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.757Z"}}
{"timestamp":"2025-10-01T00:12:08.758Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.758Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.758Z"}}
{"timestamp":"2025-10-01T00:12:08.758Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.761Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.761Z"}}
{"timestamp":"2025-10-01T00:12:08.761Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.761Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.761Z"}}
{"timestamp":"2025-10-01T00:12:08.761Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.773Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.773Z"}}
{"timestamp":"2025-10-01T00:12:08.773Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.777Z"}}
{"timestamp":"2025-10-01T00:12:08.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.785Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.785Z"}}
{"timestamp":"2025-10-01T00:12:08.785Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.790Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.790Z"}}
{"timestamp":"2025-10-01T00:12:08.790Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.790Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.790Z"}}
{"timestamp":"2025-10-01T00:12:08.790Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.794Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.794Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.794Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.808Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.808Z"}}
{"timestamp":"2025-10-01T00:12:08.808Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.814Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.814Z"}}
{"timestamp":"2025-10-01T00:12:08.814Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.821Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.821Z"}}
{"timestamp":"2025-10-01T00:12:08.821Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.821Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.821Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.821Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:08.821Z"}}
[Server STDOUT]: 6:12:08 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.825Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.825Z"}}
{"timestamp":"2025-10-01T00:12:08.825Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.839Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.839Z"}}
{"timestamp":"2025-10-01T00:12:08.839Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.848Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.848Z"}}
{"timestamp":"2025-10-01T00:12:08.848Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.849Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.849Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.849Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.865Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.865Z"}}
{"timestamp":"2025-10-01T00:12:08.865Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.867Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.867Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.867Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.868Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.868Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.868Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.870Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.870Z"}}
{"timestamp":"2025-10-01T00:12:08.870Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.877Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.877Z"}}
{"timestamp":"2025-10-01T00:12:08.877Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.887Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.887Z"}}
{"timestamp":"2025-10-01T00:12:08.887Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.890Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.890Z"}}
{"timestamp":"2025-10-01T00:12:08.890Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.901Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.901Z"}}
{"timestamp":"2025-10-01T00:12:08.901Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.916Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.916Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.916Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.917Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.917Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.917Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.933Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.933Z"}}
{"timestamp":"2025-10-01T00:12:08.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
  Active users: 50/50
âœ… Ramp-up complete: 50 active users
â±ï¸  Sustained load phase starting...
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
{"timestamp":"2025-10-01T00:12:08.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.934Z"}}
{"timestamp":"2025-10-01T00:12:08.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:08 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
{"timestamp":"2025-10-01T00:12:08.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.934Z"}}
{"timestamp":"2025-10-01T00:12:08.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:08 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
{"timestamp":"2025-10-01T00:12:08.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.934Z"}}
{"timestamp":"2025-10-01T00:12:08.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.935Z"}}
{"timestamp":"2025-10-01T00:12:08.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.935Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: 6:12:08 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.936Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.936Z"}}
{"timestamp":"2025-10-01T00:12:08.936Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.958Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.958Z"}}
{"timestamp":"2025-10-01T00:12:08.958Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.962Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.962Z"}}
{"timestamp":"2025-10-01T00:12:08.962Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.979Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.979Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.979Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:08.991Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:08.991Z"}}
{"timestamp":"2025-10-01T00:12:08.992Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:08 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.005Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.005Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.005Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.013Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.013Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.013Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.016Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.016Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.016Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.030Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.030Z"}}
{"timestamp":"2025-10-01T00:12:09.030Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.037Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.037Z"}}
{"timestamp":"2025-10-01T00:12:09.037Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.041Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.041Z"}}
{"timestamp":"2025-10-01T00:12:09.041Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.044Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.044Z"}}
{"timestamp":"2025-10-01T00:12:09.044Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.044Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.044Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.044Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.055Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.055Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.055Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.057Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.057Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.057Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.063Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.063Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.063Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.066Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.066Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.066Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.067Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.067Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.067Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.067Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.067Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.067Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.080Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.080Z"}}
{"timestamp":"2025-10-01T00:12:09.080Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.085Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.085Z"}}
{"timestamp":"2025-10-01T00:12:09.085Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.086Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.086Z"}}
{"timestamp":"2025-10-01T00:12:09.086Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.091Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.091Z"}}
{"timestamp":"2025-10-01T00:12:09.091Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.097Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.097Z"}}
{"timestamp":"2025-10-01T00:12:09.097Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.109Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.109Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.109Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.113Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.113Z"}}
{"timestamp":"2025-10-01T00:12:09.113Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.123Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.123Z"}}
{"timestamp":"2025-10-01T00:12:09.123Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.127Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.127Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.127Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.128Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.128Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.128Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.129Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.129Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.129Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.130Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.130Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.130Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 3ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.131Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.131Z"}}
{"timestamp":"2025-10-01T00:12:09.131Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.132Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.132Z"}}
{"timestamp":"2025-10-01T00:12:09.132Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.140Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.140Z"}}
{"timestamp":"2025-10-01T00:12:09.140Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.161Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.161Z"}}
{"timestamp":"2025-10-01T00:12:09.161Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:09.161Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.161Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.161Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:09.161Z"}}
[Server STDOUT]: 6:12:09 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.165Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.165Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.165Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.168Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.168Z"}}
{"timestamp":"2025-10-01T00:12:09.168Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.173Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.173Z"}}
{"timestamp":"2025-10-01T00:12:09.173Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.173Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.173Z"}}
{"timestamp":"2025-10-01T00:12:09.173Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.183Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.183Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.183Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.188Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.188Z"}}
{"timestamp":"2025-10-01T00:12:09.188Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.193Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.193Z"}}
{"timestamp":"2025-10-01T00:12:09.193Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.194Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.194Z"}}
{"timestamp":"2025-10-01T00:12:09.194Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.207Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.207Z"}}
{"timestamp":"2025-10-01T00:12:09.207Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.211Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.211Z"}}
{"timestamp":"2025-10-01T00:12:09.211Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.218Z","level":"info","message":"Connection metrics","context":{"activeConnections":-2298,"totalConnections":2300,"timestamp":"2025-10-01T00:12:09.218Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.219Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.219Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.219Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.224Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.224Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.225Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.227Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.227Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.227Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.231Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.231Z"}}
{"timestamp":"2025-10-01T00:12:09.231Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.233Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.233Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.233Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.233Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.233Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.233Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.253Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.253Z"}}
{"timestamp":"2025-10-01T00:12:09.253Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.253Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.253Z"}}
{"timestamp":"2025-10-01T00:12:09.253Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.256Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.256Z"}}
{"timestamp":"2025-10-01T00:12:09.256Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.269Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.269Z"}}
{"timestamp":"2025-10-01T00:12:09.269Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.269Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.269Z"}}
{"timestamp":"2025-10-01T00:12:09.269Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.271Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.271Z"}}
{"timestamp":"2025-10-01T00:12:09.271Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.305Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.305Z"}}
{"timestamp":"2025-10-01T00:12:09.305Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.305Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.305Z"}}
{"timestamp":"2025-10-01T00:12:09.305Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.307Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.307Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.307Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:09.307Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.307Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:09.307Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:09.307Z"}}
[Server STDOUT]: 6:12:09 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.314Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.314Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.314Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.315Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.315Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.315Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.317Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.317Z"}}
{"timestamp":"2025-10-01T00:12:09.317Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.321Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.321Z"}}
{"timestamp":"2025-10-01T00:12:09.321Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.340Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.340Z"}}
{"timestamp":"2025-10-01T00:12:09.340Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.351Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.351Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.351Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.355Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.355Z"}}
{"timestamp":"2025-10-01T00:12:09.355Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.360Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.360Z"}}
{"timestamp":"2025-10-01T00:12:09.360Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.362Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.362Z"}}
{"timestamp":"2025-10-01T00:12:09.362Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.365Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.365Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.365Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.369Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.369Z"}}
{"timestamp":"2025-10-01T00:12:09.369Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.375Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.375Z"}}
{"timestamp":"2025-10-01T00:12:09.375Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.385Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.385Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.385Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.388Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.388Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.388Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.393Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.393Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.393Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.394Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.394Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.394Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.395Z"}}
{"timestamp":"2025-10-01T00:12:09.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.400Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.400Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.400Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.401Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.401Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.401Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.404Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.404Z"}}
{"timestamp":"2025-10-01T00:12:09.404Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.429Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.429Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.429Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.430Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.430Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.430Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.431Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.431Z"}}
{"timestamp":"2025-10-01T00:12:09.431Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.433Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.433Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.433Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/pos/sales 200 in 1ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.438Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.438Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.438Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:09.438Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.438Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.438Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:09.438Z"}}
[Server STDOUT]: 6:12:09 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.458Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.458Z"}}
{"timestamp":"2025-10-01T00:12:09.459Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.459Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.459Z"}}
{"timestamp":"2025-10-01T00:12:09.459Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.459Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.459Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.460Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.479Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.479Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.479Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.480Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.480Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.480Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.482Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.482Z"}}
{"timestamp":"2025-10-01T00:12:09.482Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.498Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.498Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.498Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.504Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.504Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.504Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.506Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.506Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.506Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.519Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.519Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.519Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.525Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.525Z"}}
{"timestamp":"2025-10-01T00:12:09.525Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.531Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.531Z"}}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.531Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:09 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
{"timestamp":"2025-10-01T00:12:09.532Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.532Z"}}
{"timestamp":"2025-10-01T00:12:09.532Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.533Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.533Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.533Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:09.533Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.533Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:09.533Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:09.533Z"}}
[Server STDOUT]: 6:12:09 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.535Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.535Z"}}
{"timestamp":"2025-10-01T00:12:09.535Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:09.535Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.535Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.535Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:09.535Z"}}
[Server STDOUT]: 6:12:09 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.550Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.550Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.550Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.553Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.553Z"}}
{"timestamp":"2025-10-01T00:12:09.553Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.582Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.582Z"}}
{"timestamp":"2025-10-01T00:12:09.582Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.586Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.586Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.586Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.591Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.591Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.591Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.596Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.596Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.596Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.598Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.598Z"}}
{"timestamp":"2025-10-01T00:12:09.598Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.600Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.600Z"}}
{"timestamp":"2025-10-01T00:12:09.600Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.601Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.601Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.601Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.601Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.601Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.601Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.604Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.604Z"}}
{"timestamp":"2025-10-01T00:12:09.604Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.609Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.609Z"}}
{"timestamp":"2025-10-01T00:12:09.609Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.609Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.609Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.609Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.615Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.615Z"}}
{"timestamp":"2025-10-01T00:12:09.615Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.618Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.618Z"}}
{"timestamp":"2025-10-01T00:12:09.618Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.620Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.620Z"}}
{"timestamp":"2025-10-01T00:12:09.620Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.622Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.622Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.622Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.630Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.630Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.630Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.637Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.637Z"}}
{"timestamp":"2025-10-01T00:12:09.637Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.639Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.639Z"}}
{"timestamp":"2025-10-01T00:12:09.639Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.641Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.641Z"}}
{"timestamp":"2025-10-01T00:12:09.641Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.644Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.644Z"}}
{"timestamp":"2025-10-01T00:12:09.644Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.648Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.648Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.648Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.669Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.669Z"}}
{"timestamp":"2025-10-01T00:12:09.669Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.680Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.680Z"}}
{"timestamp":"2025-10-01T00:12:09.680Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.683Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.683Z"}}
{"timestamp":"2025-10-01T00:12:09.683Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.691Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.691Z"}}
{"timestamp":"2025-10-01T00:12:09.691Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.691Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.691Z"}}
{"timestamp":"2025-10-01T00:12:09.691Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.698Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.698Z"}}
{"timestamp":"2025-10-01T00:12:09.698Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.703Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.703Z"}}
{"timestamp":"2025-10-01T00:12:09.703Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.707Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.707Z"}}
{"timestamp":"2025-10-01T00:12:09.707Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.707Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.707Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.707Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.723Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.723Z"}}
{"timestamp":"2025-10-01T00:12:09.723Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.731Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.731Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.731Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:09.731Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.731Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.731Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:09.731Z"}}
[Server STDOUT]: 6:12:09 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.739Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.739Z"}}
{"timestamp":"2025-10-01T00:12:09.739Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.750Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.750Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.750Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.755Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.755Z"}}
{"timestamp":"2025-10-01T00:12:09.755Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.759Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.759Z"}}
{"timestamp":"2025-10-01T00:12:09.759Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.777Z"}}
{"timestamp":"2025-10-01T00:12:09.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.779Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.779Z"}}
{"timestamp":"2025-10-01T00:12:09.779Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.784Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.784Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.784Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.784Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.784Z"}}
{"timestamp":"2025-10-01T00:12:09.784Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.794Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.794Z"}}
{"timestamp":"2025-10-01T00:12:09.794Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.801Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.801Z"}}
{"timestamp":"2025-10-01T00:12:09.801Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.806Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.806Z"}}
{"timestamp":"2025-10-01T00:12:09.806Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.818Z","level":"info","message":"Connection metrics","context":{"activeConnections":-2398,"totalConnections":2400,"timestamp":"2025-10-01T00:12:09.818Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.818Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.818Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.818Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.823Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.823Z"}}
{"timestamp":"2025-10-01T00:12:09.824Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:09.824Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.824Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.824Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:09.824Z"}}
[Server STDOUT]: 6:12:09 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.829Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.829Z"}}
{"timestamp":"2025-10-01T00:12:09.829Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.839Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.839Z"}}
{"timestamp":"2025-10-01T00:12:09.839Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.842Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.842Z"}}
{"timestamp":"2025-10-01T00:12:09.842Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.849Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.849Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.849Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.850Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.850Z"}}
{"timestamp":"2025-10-01T00:12:09.851Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.861Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.861Z"}}
{"timestamp":"2025-10-01T00:12:09.861Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.863Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.863Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.863Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.864Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.864Z"}}
{"timestamp":"2025-10-01T00:12:09.864Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.871Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.871Z"}}
{"timestamp":"2025-10-01T00:12:09.871Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.874Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.874Z"}}
{"timestamp":"2025-10-01T00:12:09.874Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.874Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.874Z"}}
{"timestamp":"2025-10-01T00:12:09.874Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.886Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.886Z"}}
{"timestamp":"2025-10-01T00:12:09.886Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.887Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.887Z"}}
{"timestamp":"2025-10-01T00:12:09.887Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.918Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.918Z"}}
{"timestamp":"2025-10-01T00:12:09.918Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.923Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.923Z"}}
{"timestamp":"2025-10-01T00:12:09.923Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.923Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.923Z"}}
{"timestamp":"2025-10-01T00:12:09.923Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.933Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.934Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.934Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.948Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.948Z"}}
{"timestamp":"2025-10-01T00:12:09.948Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.949Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.949Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.949Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.951Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.951Z"}}
{"timestamp":"2025-10-01T00:12:09.951Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.955Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.955Z"}}
{"timestamp":"2025-10-01T00:12:09.955Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.963Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.963Z"}}
{"timestamp":"2025-10-01T00:12:09.963Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.969Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.969Z"}}
{"timestamp":"2025-10-01T00:12:09.969Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.979Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.979Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.979Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.980Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.980Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.980Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.983Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.983Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.983Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.985Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.985Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.985Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.990Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.990Z"}}
{"timestamp":"2025-10-01T00:12:09.990Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:09.997Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:09.997Z"}}
{"timestamp":"2025-10-01T00:12:09.997Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:09 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.000Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.000Z"}}
{"timestamp":"2025-10-01T00:12:10.000Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.019Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.019Z"}}
{"timestamp":"2025-10-01T00:12:10.019Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.022Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.022Z"}}
{"timestamp":"2025-10-01T00:12:10.022Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.037Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.037Z"}}
{"timestamp":"2025-10-01T00:12:10.037Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.037Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.037Z"}}
{"timestamp":"2025-10-01T00:12:10.037Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:10.037Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.037Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:10.037Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:10.037Z"}}
[Server STDOUT]: 6:12:10 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.040Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.040Z"}}
{"timestamp":"2025-10-01T00:12:10.040Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.045Z"}}
{"timestamp":"2025-10-01T00:12:10.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.047Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.047Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.047Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.049Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.049Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.049Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.050Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.050Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.050Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.068Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.068Z"}}
{"timestamp":"2025-10-01T00:12:10.068Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.071Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.071Z"}}
{"timestamp":"2025-10-01T00:12:10.071Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.071Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.071Z"}}
{"timestamp":"2025-10-01T00:12:10.071Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.075Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.075Z"}}
{"timestamp":"2025-10-01T00:12:10.075Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.095Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.095Z"}}
{"timestamp":"2025-10-01T00:12:10.095Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.107Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.107Z"}}
{"timestamp":"2025-10-01T00:12:10.107Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.113Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.113Z"}}
{"timestamp":"2025-10-01T00:12:10.113Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.118Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.118Z"}}
{"timestamp":"2025-10-01T00:12:10.118Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.123Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.123Z"}}
{"timestamp":"2025-10-01T00:12:10.124Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.124Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"82.88%"}}
{"timestamp":"2025-10-01T00:12:10.124Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:12:10.124Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"82.90%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.126Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.126Z"}}
{"timestamp":"2025-10-01T00:12:10.126Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.130Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.130Z"}}
{"timestamp":"2025-10-01T00:12:10.130Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.133Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.133Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.133Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.133Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.133Z"}}
{"timestamp":"2025-10-01T00:12:10.133Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.134Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.134Z"}}
{"timestamp":"2025-10-01T00:12:10.134Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.144Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.144Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.144Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.145Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.145Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.145Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.149Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.149Z"}}
{"timestamp":"2025-10-01T00:12:10.149Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.150Z"}}
{"timestamp":"2025-10-01T00:12:10.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.163Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.163Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.163Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.164Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.164Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.164Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.174Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.174Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.174Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.183Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.183Z"}}
{"timestamp":"2025-10-01T00:12:10.183Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.186Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.186Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.186Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.186Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.186Z"}}
{"timestamp":"2025-10-01T00:12:10.186Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.188Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.188Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.188Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.194Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.194Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.194Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.196Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.196Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.196Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.202Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.202Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.202Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.216Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.216Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.216Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.221Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.221Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.221Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.221Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.221Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.221Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.233Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.233Z"}}
{"timestamp":"2025-10-01T00:12:10.233Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.238Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.238Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.238Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.239Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.239Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.239Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.243Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.243Z"}}
{"timestamp":"2025-10-01T00:12:10.243Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.247Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.247Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.248Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.258Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.258Z"}}
{"timestamp":"2025-10-01T00:12:10.258Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.258Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.258Z"}}
{"timestamp":"2025-10-01T00:12:10.258Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.259Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.259Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.259Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.265Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.265Z"}}
{"timestamp":"2025-10-01T00:12:10.265Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.284Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.284Z"}}
{"timestamp":"2025-10-01T00:12:10.284Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.290Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.290Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.290Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.291Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.291Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.291Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.296Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.296Z"}}
{"timestamp":"2025-10-01T00:12:10.296Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.302Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.302Z"}}
{"timestamp":"2025-10-01T00:12:10.302Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.309Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.309Z"}}
{"timestamp":"2025-10-01T00:12:10.309Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.327Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.327Z"}}
{"timestamp":"2025-10-01T00:12:10.327Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.332Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.332Z"}}
{"timestamp":"2025-10-01T00:12:10.332Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.339Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.339Z"}}
{"timestamp":"2025-10-01T00:12:10.339Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:10 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
{"timestamp":"2025-10-01T00:12:10.339Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.339Z"}}
{"timestamp":"2025-10-01T00:12:10.339Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:10 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.344Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.344Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.344Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.353Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.353Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.353Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.363Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.363Z"}}
{"timestamp":"2025-10-01T00:12:10.363Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.385Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.385Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.385Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.385Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.385Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.385Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:10.385Z"}}
[Server STDOUT]: 6:12:10 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.402Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.402Z"}}
{"timestamp":"2025-10-01T00:12:10.402Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.402Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.402Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.402Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.403Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.403Z"}}
{"timestamp":"2025-10-01T00:12:10.403Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.414Z","level":"info","message":"Connection metrics","context":{"activeConnections":-2498,"totalConnections":2500,"timestamp":"2025-10-01T00:12:10.414Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.415Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.415Z"}}
{"timestamp":"2025-10-01T00:12:10.415Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.415Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.415Z"}}
{"timestamp":"2025-10-01T00:12:10.415Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.419Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.419Z"}}
{"timestamp":"2025-10-01T00:12:10.419Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.437Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.437Z"}}
{"timestamp":"2025-10-01T00:12:10.437Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.437Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.437Z"}}
{"timestamp":"2025-10-01T00:12:10.437Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.450Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.450Z"}}
{"timestamp":"2025-10-01T00:12:10.450Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.455Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.455Z"}}
{"timestamp":"2025-10-01T00:12:10.455Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.456Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.456Z"}}
{"timestamp":"2025-10-01T00:12:10.456Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.465Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.465Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.465Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.473Z"}}
{"timestamp":"2025-10-01T00:12:10.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.473Z"}}
{"timestamp":"2025-10-01T00:12:10.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.484Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.484Z"}}
{"timestamp":"2025-10-01T00:12:10.484Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.484Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.484Z"}}
{"timestamp":"2025-10-01T00:12:10.484Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.493Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.493Z"}}
{"timestamp":"2025-10-01T00:12:10.493Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.500Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.500Z"}}
{"timestamp":"2025-10-01T00:12:10.500Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.501Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.501Z"}}
{"timestamp":"2025-10-01T00:12:10.501Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:10.501Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.501Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:10.501Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:10.501Z"}}
[Server STDOUT]: 6:12:10 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.504Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.504Z"}}
{"timestamp":"2025-10-01T00:12:10.504Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.504Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.504Z"}}
{"timestamp":"2025-10-01T00:12:10.504Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.508Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.508Z"}}
{"timestamp":"2025-10-01T00:12:10.508Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.514Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.514Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.514Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.518Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.518Z"}}
{"timestamp":"2025-10-01T00:12:10.518Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.518Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.518Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.518Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:10.518Z"}}
[Server STDOUT]: 6:12:10 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.526Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.525Z"}}
{"timestamp":"2025-10-01T00:12:10.526Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.533Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.533Z"}}
{"timestamp":"2025-10-01T00:12:10.533Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.537Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.537Z"}}
{"timestamp":"2025-10-01T00:12:10.537Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.541Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.541Z"}}
{"timestamp":"2025-10-01T00:12:10.541Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.546Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.546Z"}}
{"timestamp":"2025-10-01T00:12:10.546Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.555Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.555Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.555Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.558Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.558Z"}}
{"timestamp":"2025-10-01T00:12:10.558Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.561Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.561Z"}}
{"timestamp":"2025-10-01T00:12:10.561Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.572Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.572Z"}}
{"timestamp":"2025-10-01T00:12:10.572Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.573Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.573Z"}}
{"timestamp":"2025-10-01T00:12:10.573Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.583Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.583Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.583Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.586Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.586Z"}}
{"timestamp":"2025-10-01T00:12:10.586Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.590Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.590Z"}}
{"timestamp":"2025-10-01T00:12:10.590Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.591Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.591Z"}}
{"timestamp":"2025-10-01T00:12:10.591Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.593Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.593Z"}}
{"timestamp":"2025-10-01T00:12:10.593Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.594Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.594Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.594Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.607Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.607Z"}}
{"timestamp":"2025-10-01T00:12:10.607Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.608Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.608Z"}}
{"timestamp":"2025-10-01T00:12:10.608Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.608Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.608Z"}}
{"timestamp":"2025-10-01T00:12:10.608Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.623Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.623Z"}}
{"timestamp":"2025-10-01T00:12:10.623Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.644Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.644Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.644Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.645Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.645Z"}}
{"timestamp":"2025-10-01T00:12:10.645Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.646Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.646Z"}}
{"timestamp":"2025-10-01T00:12:10.646Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.658Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.658Z"}}
{"timestamp":"2025-10-01T00:12:10.658Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.660Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.660Z"}}
{"timestamp":"2025-10-01T00:12:10.661Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.661Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.661Z"}}
{"timestamp":"2025-10-01T00:12:10.661Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.664Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.664Z"}}
{"timestamp":"2025-10-01T00:12:10.664Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.671Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.671Z"}}
{"timestamp":"2025-10-01T00:12:10.671Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.682Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.682Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.683Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.686Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.686Z"}}
{"timestamp":"2025-10-01T00:12:10.686Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.692Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.692Z"}}
{"timestamp":"2025-10-01T00:12:10.692Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.701Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.701Z"}}
{"timestamp":"2025-10-01T00:12:10.701Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.706Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.706Z"}}
{"timestamp":"2025-10-01T00:12:10.706Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.724Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.724Z"}}
{"timestamp":"2025-10-01T00:12:10.724Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.727Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.727Z"}}
{"timestamp":"2025-10-01T00:12:10.727Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.728Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.728Z"}}
{"timestamp":"2025-10-01T00:12:10.728Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.737Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.737Z"}}
{"timestamp":"2025-10-01T00:12:10.737Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.749Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.749Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.749Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.751Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.751Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.752Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.753Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.753Z"}}
{"timestamp":"2025-10-01T00:12:10.753Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.761Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.761Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.761Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.762Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.762Z"}}
{"timestamp":"2025-10-01T00:12:10.762Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.766Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.766Z"}}
{"timestamp":"2025-10-01T00:12:10.766Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.768Z"}}
{"timestamp":"2025-10-01T00:12:10.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.770Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.770Z"}}
{"timestamp":"2025-10-01T00:12:10.770Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.770Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.770Z"}}
{"timestamp":"2025-10-01T00:12:10.770Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.774Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.774Z"}}
{"timestamp":"2025-10-01T00:12:10.774Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.807Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.807Z"}}
{"timestamp":"2025-10-01T00:12:10.807Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.810Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.810Z"}}
{"timestamp":"2025-10-01T00:12:10.810Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.810Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.810Z"}}
{"timestamp":"2025-10-01T00:12:10.810Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.813Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.813Z"}}
{"timestamp":"2025-10-01T00:12:10.813Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.817Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.817Z"}}
{"timestamp":"2025-10-01T00:12:10.817Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.822Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.822Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.822Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.828Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.828Z"}}
{"timestamp":"2025-10-01T00:12:10.828Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.828Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.828Z"}}
{"timestamp":"2025-10-01T00:12:10.828Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.828Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.828Z"}}
{"timestamp":"2025-10-01T00:12:10.828Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.828Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.828Z"}}
{"timestamp":"2025-10-01T00:12:10.828Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.840Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.840Z"}}
{"timestamp":"2025-10-01T00:12:10.840Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.851Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.851Z"}}
{"timestamp":"2025-10-01T00:12:10.851Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.860Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.860Z"}}
{"timestamp":"2025-10-01T00:12:10.860Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.861Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.861Z"}}
{"timestamp":"2025-10-01T00:12:10.861Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.867Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.867Z"}}
{"timestamp":"2025-10-01T00:12:10.867Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.878Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.878Z"}}
{"timestamp":"2025-10-01T00:12:10.878Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.886Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.886Z"}}
{"timestamp":"2025-10-01T00:12:10.886Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.897Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.897Z"}}
{"timestamp":"2025-10-01T00:12:10.897Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.898Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.898Z"}}
{"timestamp":"2025-10-01T00:12:10.898Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.899Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.899Z"}}
{"timestamp":"2025-10-01T00:12:10.899Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.916Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.916Z"}}
{"timestamp":"2025-10-01T00:12:10.916Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.919Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.919Z"}}
{"timestamp":"2025-10-01T00:12:10.919Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.922Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.922Z"}}
{"timestamp":"2025-10-01T00:12:10.922Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.924Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.924Z"}}
{"timestamp":"2025-10-01T00:12:10.924Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.924Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.924Z"}}
{"timestamp":"2025-10-01T00:12:10.924Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.936Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.936Z"}}
{"timestamp":"2025-10-01T00:12:10.936Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.936Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.936Z"}}
{"timestamp":"2025-10-01T00:12:10.936Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.942Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.942Z"}}
{"timestamp":"2025-10-01T00:12:10.943Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.954Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.954Z"}}
{"timestamp":"2025-10-01T00:12:10.954Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.955Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.955Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.955Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.966Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.966Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.966Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.967Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.967Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.967Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.970Z","level":"info","message":"Connection metrics","context":{"activeConnections":-2598,"totalConnections":2600,"timestamp":"2025-10-01T00:12:10.970Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.970Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.970Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.970Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.970Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.970Z"}}
{"timestamp":"2025-10-01T00:12:10.970Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.976Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.976Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.976Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:10.987Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:10.987Z"}}
{"timestamp":"2025-10-01T00:12:10.987Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:10 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.030Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.029Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.030Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.031Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.031Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.031Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.040Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.040Z"}}
{"timestamp":"2025-10-01T00:12:11.040Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.048Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.048Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.048Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.049Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.049Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.049Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.052Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.052Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.052Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.070Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.070Z"}}
{"timestamp":"2025-10-01T00:12:11.070Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.072Z"}}
{"timestamp":"2025-10-01T00:12:11.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.076Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.076Z"}}
{"timestamp":"2025-10-01T00:12:11.076Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.076Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.076Z"}}
{"timestamp":"2025-10-01T00:12:11.076Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.085Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.085Z"}}
{"timestamp":"2025-10-01T00:12:11.085Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.086Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.086Z"}}
{"timestamp":"2025-10-01T00:12:11.086Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.098Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.098Z"}}
{"timestamp":"2025-10-01T00:12:11.098Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.099Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.099Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.099Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:11.100Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.100Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.100Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:11.100Z"}}
[Server STDOUT]: 6:12:11 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.105Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.105Z"}}
{"timestamp":"2025-10-01T00:12:11.105Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.118Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.118Z"}}
{"timestamp":"2025-10-01T00:12:11.118Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.119Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.119Z"}}
{"timestamp":"2025-10-01T00:12:11.119Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.123Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.123Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.123Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.128Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.128Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.128Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.134Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.134Z"}}
{"timestamp":"2025-10-01T00:12:11.134Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.135Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.135Z"}}
{"timestamp":"2025-10-01T00:12:11.135Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.139Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.139Z"}}
{"timestamp":"2025-10-01T00:12:11.139Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.145Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.145Z"}}
{"timestamp":"2025-10-01T00:12:11.145Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.150Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.151Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.151Z"}}
{"timestamp":"2025-10-01T00:12:11.151Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.154Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.154Z"}}
{"timestamp":"2025-10-01T00:12:11.154Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.165Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.165Z"}}
{"timestamp":"2025-10-01T00:12:11.165Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.185Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.185Z"}}
{"timestamp":"2025-10-01T00:12:11.185Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.186Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.186Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.186Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.190Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.190Z"}}
{"timestamp":"2025-10-01T00:12:11.190Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.194Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.194Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.194Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.203Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.203Z"}}
{"timestamp":"2025-10-01T00:12:11.203Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.214Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.214Z"}}
{"timestamp":"2025-10-01T00:12:11.214Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.214Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.214Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.214Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.215Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.215Z"}}
{"timestamp":"2025-10-01T00:12:11.215Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.221Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.221Z"}}
{"timestamp":"2025-10-01T00:12:11.221Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.230Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.230Z"}}
{"timestamp":"2025-10-01T00:12:11.230Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.233Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.233Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.233Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.235Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.235Z"}}
{"timestamp":"2025-10-01T00:12:11.235Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.236Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.236Z"}}
{"timestamp":"2025-10-01T00:12:11.236Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.250Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.250Z"}}
{"timestamp":"2025-10-01T00:12:11.250Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.261Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.261Z"}}
{"timestamp":"2025-10-01T00:12:11.261Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.263Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.263Z"}}
{"timestamp":"2025-10-01T00:12:11.263Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.272Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.272Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.272Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.273Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.273Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.274Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.274Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.274Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.274Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.275Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.275Z"}}
{"timestamp":"2025-10-01T00:12:11.275Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.285Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.285Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.285Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.303Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.303Z"}}
{"timestamp":"2025-10-01T00:12:11.303Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.315Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.315Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.315Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.316Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.316Z"}}
{"timestamp":"2025-10-01T00:12:11.316Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.343Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.343Z"}}
{"timestamp":"2025-10-01T00:12:11.343Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.352Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.352Z"}}
{"timestamp":"2025-10-01T00:12:11.352Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.354Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.354Z"}}
{"timestamp":"2025-10-01T00:12:11.354Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.373Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.373Z"}}
{"timestamp":"2025-10-01T00:12:11.373Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.383Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.383Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.383Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.384Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.384Z"}}
{"timestamp":"2025-10-01T00:12:11.384Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.393Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.393Z"}}
{"timestamp":"2025-10-01T00:12:11.393Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.401Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.401Z"}}
{"timestamp":"2025-10-01T00:12:11.401Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.409Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.409Z"}}
{"timestamp":"2025-10-01T00:12:11.409Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.418Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.418Z"}}
{"timestamp":"2025-10-01T00:12:11.418Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.423Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.423Z"}}
{"timestamp":"2025-10-01T00:12:11.423Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.433Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.433Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.433Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.439Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.439Z"}}
{"timestamp":"2025-10-01T00:12:11.439Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.444Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.444Z"}}
{"timestamp":"2025-10-01T00:12:11.444Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.460Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.460Z"}}
{"timestamp":"2025-10-01T00:12:11.460Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.461Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.461Z"}}
{"timestamp":"2025-10-01T00:12:11.461Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.465Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.465Z"}}
{"timestamp":"2025-10-01T00:12:11.465Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.468Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.468Z"}}
{"timestamp":"2025-10-01T00:12:11.468Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.473Z"}}
{"timestamp":"2025-10-01T00:12:11.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.485Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.485Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.485Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.500Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.500Z"}}
{"timestamp":"2025-10-01T00:12:11.500Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.500Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.500Z"}}
{"timestamp":"2025-10-01T00:12:11.500Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.501Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.501Z"}}
{"timestamp":"2025-10-01T00:12:11.501Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.504Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.504Z"}}
{"timestamp":"2025-10-01T00:12:11.504Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.507Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.507Z"}}
{"timestamp":"2025-10-01T00:12:11.507Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.516Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.516Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.516Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.516Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.516Z"}}
{"timestamp":"2025-10-01T00:12:11.516Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 1ms :: []
{"timestamp":"2025-10-01T00:12:11.517Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.517Z"}}
{"timestamp":"2025-10-01T00:12:11.517Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.519Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.519Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.519Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.525Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.525Z"}}
{"timestamp":"2025-10-01T00:12:11.525Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.531Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.531Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.531Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.534Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.534Z"}}
{"timestamp":"2025-10-01T00:12:11.534Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.539Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.539Z"}}
{"timestamp":"2025-10-01T00:12:11.539Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.539Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.539Z"}}
{"timestamp":"2025-10-01T00:12:11.539Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.547Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.547Z"}}
{"timestamp":"2025-10-01T00:12:11.547Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.552Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.552Z"}}
{"timestamp":"2025-10-01T00:12:11.552Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.553Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.553Z"}}
{"timestamp":"2025-10-01T00:12:11.553Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.557Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.557Z"}}
{"timestamp":"2025-10-01T00:12:11.557Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.566Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.566Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.566Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.580Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.580Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.580Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.581Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.581Z"}}
{"timestamp":"2025-10-01T00:12:11.581Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.585Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.585Z"}}
{"timestamp":"2025-10-01T00:12:11.585Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.592Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.592Z"}}
{"timestamp":"2025-10-01T00:12:11.592Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.606Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.606Z"}}
{"timestamp":"2025-10-01T00:12:11.606Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.613Z"}}
{"timestamp":"2025-10-01T00:12:11.613Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.615Z","level":"info","message":"Connection metrics","context":{"activeConnections":-2698,"totalConnections":2700,"timestamp":"2025-10-01T00:12:11.615Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.615Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.615Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.615Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.627Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.626Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.627Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.629Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.629Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.629Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.632Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.632Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.632Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.650Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.650Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.650Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.651Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.651Z"}}
{"timestamp":"2025-10-01T00:12:11.651Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.651Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.651Z"}}
{"timestamp":"2025-10-01T00:12:11.651Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.652Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.652Z"}}
{"timestamp":"2025-10-01T00:12:11.652Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.656Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.656Z"}}
{"timestamp":"2025-10-01T00:12:11.656Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.663Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.663Z"}}
{"timestamp":"2025-10-01T00:12:11.663Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.663Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.663Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.663Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:11.663Z"}}
[Server STDOUT]: 6:12:11 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.664Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.664Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.664Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.664Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.664Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.664Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.683Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.683Z"}}
{"timestamp":"2025-10-01T00:12:11.683Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.684Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.684Z"}}
{"timestamp":"2025-10-01T00:12:11.684Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.690Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.690Z"}}
{"timestamp":"2025-10-01T00:12:11.690Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.694Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.694Z"}}
{"timestamp":"2025-10-01T00:12:11.694Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.699Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.699Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.699Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.705Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.705Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.705Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.713Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.713Z"}}
{"timestamp":"2025-10-01T00:12:11.713Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.730Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.730Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.730Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.742Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.742Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.742Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.745Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.745Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.745Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.745Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.745Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.745Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:11.745Z"}}
[Server STDOUT]: 6:12:11 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.760Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.760Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.760Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.760Z","level":"info","message":"Potential memory leak detected","context":{"rssToHeapRatio":"3.59","rss":122,"heapUsed":34}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.762Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.762Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.762Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.768Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.771Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.771Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.771Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.782Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.782Z"}}
{"timestamp":"2025-10-01T00:12:11.782Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
{"timestamp":"2025-10-01T00:12:11.782Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.782Z"}}
{"timestamp":"2025-10-01T00:12:11.782Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.783Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.783Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.783Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.795Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.795Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.795Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.795Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.795Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.795Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.797Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.797Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.797Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.802Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.802Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.802Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.807Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.807Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.807Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.817Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.817Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.817Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.818Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.818Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.818Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.823Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.823Z"}}
{"timestamp":"2025-10-01T00:12:11.823Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.843Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.843Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.843Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.844Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.844Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.844Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.845Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.845Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.845Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.869Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.869Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.869Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.877Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.877Z"}}
{"timestamp":"2025-10-01T00:12:11.877Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.880Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.880Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.880Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.882Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.882Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.882Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.883Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.883Z"}}
{"timestamp":"2025-10-01T00:12:11.883Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.883Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.883Z"}}
{"timestamp":"2025-10-01T00:12:11.883Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.889Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.889Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.889Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.893Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.893Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.893Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
{"timestamp":"2025-10-01T00:12:11.893Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.893Z"}}
{"timestamp":"2025-10-01T00:12:11.893Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.899Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.899Z"}}
{"timestamp":"2025-10-01T00:12:11.899Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.901Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.901Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.901Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.902Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.902Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.902Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.903Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.903Z"}}
{"timestamp":"2025-10-01T00:12:11.903Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.911Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.911Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.911Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.912Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.912Z"}}
{"timestamp":"2025-10-01T00:12:11.912Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.912Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.912Z"}}
{"timestamp":"2025-10-01T00:12:11.912Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.912Z","level":"info","message":"High database pool utilization detected","context":{"utilization":100,"activeConnections":1,"totalConnections":1,"waitingClients":0}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.915Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.915Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.915Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.916Z","level":"info","message":"Database health check failed","context":{"error":"role \"testuser\" does not exist","totalErrors":1}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.923Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.923Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.923Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.930Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.930Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.930Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.960Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.960Z"}}
{"timestamp":"2025-10-01T00:12:11.960Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.961Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.961Z"}}
{"timestamp":"2025-10-01T00:12:11.961Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.965Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.965Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.965Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.980Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.980Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.980Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.994Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:11.994Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:11.994Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:11 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.005Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.005Z"}}
{"timestamp":"2025-10-01T00:12:12.005Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.006Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.006Z"}}
{"timestamp":"2025-10-01T00:12:12.006Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.009Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.009Z"}}
{"timestamp":"2025-10-01T00:12:12.009Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.049Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.049Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.049Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.050Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.050Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.050Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.060Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.060Z"}}
{"timestamp":"2025-10-01T00:12:12.060Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.070Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.070Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.070Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.072Z"}}
{"timestamp":"2025-10-01T00:12:12.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.080Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.080Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.080Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.082Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.082Z"}}
{"timestamp":"2025-10-01T00:12:12.082Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.085Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.085Z"}}
{"timestamp":"2025-10-01T00:12:12.085Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.087Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.087Z"}}
{"timestamp":"2025-10-01T00:12:12.087Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.087Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.087Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.087Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.088Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.088Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.088Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.093Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.093Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.093Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.098Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.098Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.098Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.103Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.103Z"}}
{"timestamp":"2025-10-01T00:12:12.103Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.112Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.112Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.112Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.122Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.122Z"}}
{"timestamp":"2025-10-01T00:12:12.122Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.125Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.125Z"}}
{"timestamp":"2025-10-01T00:12:12.125Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.126Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.126Z"}}
{"timestamp":"2025-10-01T00:12:12.126Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.139Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.139Z"}}
{"timestamp":"2025-10-01T00:12:12.139Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.140Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.140Z"}}
{"timestamp":"2025-10-01T00:12:12.140Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.142Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.142Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.142Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.161Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.161Z"}}
{"timestamp":"2025-10-01T00:12:12.161Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.179Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.179Z"}}
{"timestamp":"2025-10-01T00:12:12.179Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.187Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.187Z"}}
{"timestamp":"2025-10-01T00:12:12.187Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.187Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.187Z"}}
{"timestamp":"2025-10-01T00:12:12.187Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.189Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.189Z"}}
{"timestamp":"2025-10-01T00:12:12.189Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.195Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.195Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.195Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.209Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.209Z"}}
{"timestamp":"2025-10-01T00:12:12.209Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.219Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.219Z"}}
{"timestamp":"2025-10-01T00:12:12.219Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.220Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.220Z"}}
{"timestamp":"2025-10-01T00:12:12.220Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.233Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.233Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.233Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.235Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.235Z"}}
{"timestamp":"2025-10-01T00:12:12.235Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.241Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.241Z"}}
{"timestamp":"2025-10-01T00:12:12.241Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.246Z","level":"info","message":"Connection metrics","context":{"activeConnections":-2798,"totalConnections":2800,"timestamp":"2025-10-01T00:12:12.246Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.246Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.246Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.246Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.248Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.248Z"}}
{"timestamp":"2025-10-01T00:12:12.248Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.271Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.271Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.271Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.278Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.278Z"}}
{"timestamp":"2025-10-01T00:12:12.278Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.278Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.278Z"}}
{"timestamp":"2025-10-01T00:12:12.279Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.297Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.297Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.297Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.298Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.298Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.298Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.305Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.305Z"}}
{"timestamp":"2025-10-01T00:12:12.305Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:12.305Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.305Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:12:12.305Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:12.305Z"}}
[Server STDOUT]: 6:12:12 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.307Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.307Z"}}
{"timestamp":"2025-10-01T00:12:12.307Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.311Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.311Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.311Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.311Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.311Z"}}
{"timestamp":"2025-10-01T00:12:12.311Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.311Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.311Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.312Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:12.311Z"}}
[Server STDOUT]: 6:12:12 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.313Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.313Z"}}
{"timestamp":"2025-10-01T00:12:12.313Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.317Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.317Z"}}
{"timestamp":"2025-10-01T00:12:12.317Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:12.317Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.317Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.317Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:12.317Z"}}
[Server STDOUT]: 6:12:12 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.320Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.320Z"}}
{"timestamp":"2025-10-01T00:12:12.320Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.328Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.328Z"}}
{"timestamp":"2025-10-01T00:12:12.328Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.342Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.342Z"}}
{"timestamp":"2025-10-01T00:12:12.342Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.343Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.343Z"}}
{"timestamp":"2025-10-01T00:12:12.343Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.344Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.344Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.344Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.345Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.345Z"}}
{"timestamp":"2025-10-01T00:12:12.345Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.347Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.347Z"}}
{"timestamp":"2025-10-01T00:12:12.347Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.354Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.354Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.354Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.366Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.366Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.366Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.377Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.377Z"}}
{"timestamp":"2025-10-01T00:12:12.377Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.377Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.377Z"}}
{"timestamp":"2025-10-01T00:12:12.377Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.384Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.384Z"}}
{"timestamp":"2025-10-01T00:12:12.384Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.395Z"}}
{"timestamp":"2025-10-01T00:12:12.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.398Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.398Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.398Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.412Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.412Z"}}
{"timestamp":"2025-10-01T00:12:12.413Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.423Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.423Z"}}
{"timestamp":"2025-10-01T00:12:12.423Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.423Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.423Z"}}
{"timestamp":"2025-10-01T00:12:12.423Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.425Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.425Z"}}
{"timestamp":"2025-10-01T00:12:12.425Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.438Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.438Z"}}
{"timestamp":"2025-10-01T00:12:12.438Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.438Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.438Z"}}
{"timestamp":"2025-10-01T00:12:12.438Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:12.438Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.438Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:12.438Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:12.438Z"}}
[Server STDOUT]: 6:12:12 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.443Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.443Z"}}
{"timestamp":"2025-10-01T00:12:12.443Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.445Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.445Z"}}
{"timestamp":"2025-10-01T00:12:12.445Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.449Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.449Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.449Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.461Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.461Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.461Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.466Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.466Z"}}
{"timestamp":"2025-10-01T00:12:12.466Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.467Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.467Z"}}
{"timestamp":"2025-10-01T00:12:12.467Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.480Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.480Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.480Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.486Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.486Z"}}
{"timestamp":"2025-10-01T00:12:12.487Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.491Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.491Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.491Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.493Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.493Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.493Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.499Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.499Z"}}
{"timestamp":"2025-10-01T00:12:12.499Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.502Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.502Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.502Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.514Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.514Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.514Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.517Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.517Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.517Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.528Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.528Z"}}
{"timestamp":"2025-10-01T00:12:12.528Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.538Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.538Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.538Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.542Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.542Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.542Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.544Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.544Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.544Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.548Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.548Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.548Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.571Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.571Z"}}
{"timestamp":"2025-10-01T00:12:12.571Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.574Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.574Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.574Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.582Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.582Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.582Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.586Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.586Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.586Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.593Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.593Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.593Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:12.593Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.593Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.593Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:12.593Z"}}
[Server STDOUT]: 6:12:12 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.596Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.596Z"}}
{"timestamp":"2025-10-01T00:12:12.596Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:12:12 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.598Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.598Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.598Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:12.598Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.598Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.598Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:12.598Z"}}
[Server STDOUT]: 6:12:12 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.604Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.604Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.604Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.625Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.625Z"}}
{"timestamp":"2025-10-01T00:12:12.625Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:12.625Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.625Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:12.625Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:12.625Z"}}
[Server STDOUT]: 6:12:12 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.627Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.627Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.628Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.634Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.634Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.638Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.638Z"}}
{"timestamp":"2025-10-01T00:12:12.638Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.649Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.649Z"}}
{"timestamp":"2025-10-01T00:12:12.649Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.656Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.656Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.656Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.661Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.661Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.661Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.666Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.666Z"}}
{"timestamp":"2025-10-01T00:12:12.666Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.685Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.687Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.687Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.687Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.690Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.690Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.690Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.694Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.694Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.694Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.701Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.701Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.701Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.718Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.718Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.718Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.731Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.731Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.731Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.754Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.754Z"}}
{"timestamp":"2025-10-01T00:12:12.754Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:12.754Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.754Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:12.754Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:12.754Z"}}
[Server STDOUT]: 6:12:12 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.757Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.757Z"}}
{"timestamp":"2025-10-01T00:12:12.757Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.758Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.758Z"}}
{"timestamp":"2025-10-01T00:12:12.758Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.762Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.762Z"}}
{"timestamp":"2025-10-01T00:12:12.762Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.762Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.762Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.762Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:12.762Z"}}
[Server STDOUT]: 6:12:12 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.764Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.764Z"}}
{"timestamp":"2025-10-01T00:12:12.764Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.778Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.778Z"}}
{"timestamp":"2025-10-01T00:12:12.778Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.781Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.781Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.781Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.785Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.785Z"}}
{"timestamp":"2025-10-01T00:12:12.785Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:12.785Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.785Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:12:12.785Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:12.785Z"}}
[Server STDOUT]: 6:12:12 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.786Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.786Z"}}
{"timestamp":"2025-10-01T00:12:12.786Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.786Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.786Z"}}
{"timestamp":"2025-10-01T00:12:12.786Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.791Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.791Z"}}
{"timestamp":"2025-10-01T00:12:12.791Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.803Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.803Z"}}
{"timestamp":"2025-10-01T00:12:12.803Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.803Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.803Z"}}
{"timestamp":"2025-10-01T00:12:12.803Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.810Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.810Z"}}
{"timestamp":"2025-10-01T00:12:12.810Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.815Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.815Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.815Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.825Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.825Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.825Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.836Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.836Z"}}
{"timestamp":"2025-10-01T00:12:12.836Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.837Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.837Z"}}
{"timestamp":"2025-10-01T00:12:12.837Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.843Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.843Z"}}
{"timestamp":"2025-10-01T00:12:12.843Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.843Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.843Z"}}
{"timestamp":"2025-10-01T00:12:12.843Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.859Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.859Z"}}
{"timestamp":"2025-10-01T00:12:12.859Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.859Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.859Z"}}
{"timestamp":"2025-10-01T00:12:12.859Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.861Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.861Z"}}
{"timestamp":"2025-10-01T00:12:12.861Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.864Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.864Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.864Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.904Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.904Z"}}
{"timestamp":"2025-10-01T00:12:12.905Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.916Z","level":"info","message":"Connection metrics","context":{"activeConnections":-2898,"totalConnections":2900,"timestamp":"2025-10-01T00:12:12.916Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.916Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.916Z"}}
{"timestamp":"2025-10-01T00:12:12.916Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.917Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.917Z"}}
{"timestamp":"2025-10-01T00:12:12.917Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.921Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.921Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.932Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.932Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.932Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.934Z"}}
{"timestamp":"2025-10-01T00:12:12.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.938Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.938Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.938Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.939Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.939Z"}}
{"timestamp":"2025-10-01T00:12:12.939Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.944Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.944Z"}}
{"timestamp":"2025-10-01T00:12:12.944Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.944Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.944Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.944Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.945Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.945Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.945Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.947Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.947Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.947Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.953Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.953Z"}}
{"timestamp":"2025-10-01T00:12:12.953Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.963Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.963Z"}}
{"timestamp":"2025-10-01T00:12:12.963Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.973Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.973Z"}}
{"timestamp":"2025-10-01T00:12:12.973Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.980Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.980Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.980Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:12.997Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:12.997Z"}}
{"timestamp":"2025-10-01T00:12:12.997Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:12 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.007Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.007Z"}}
{"timestamp":"2025-10-01T00:12:13.007Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.010Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.010Z"}}
{"timestamp":"2025-10-01T00:12:13.010Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.021Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.021Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.021Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.033Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.033Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.033Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.035Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.035Z"}}
{"timestamp":"2025-10-01T00:12:13.035Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.043Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.043Z"}}
{"timestamp":"2025-10-01T00:12:13.043Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.049Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.049Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.049Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.053Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.053Z"}}
{"timestamp":"2025-10-01T00:12:13.053Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.053Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.053Z"}}
{"timestamp":"2025-10-01T00:12:13.053Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.054Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.054Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.054Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.074Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.074Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.074Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.079Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.079Z"}}
{"timestamp":"2025-10-01T00:12:13.079Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.081Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.081Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.081Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.085Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.085Z"}}
{"timestamp":"2025-10-01T00:12:13.085Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.087Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.087Z"}}
{"timestamp":"2025-10-01T00:12:13.087Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.089Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.089Z"}}
{"timestamp":"2025-10-01T00:12:13.089Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.092Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.092Z"}}
{"timestamp":"2025-10-01T00:12:13.092Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.108Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.108Z"}}
{"timestamp":"2025-10-01T00:12:13.108Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.114Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.114Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.114Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.122Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.122Z"}}
{"timestamp":"2025-10-01T00:12:13.122Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.125Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"82.92%"}}
{"timestamp":"2025-10-01T00:12:13.125Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.125Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"82.93%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.128Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.128Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.128Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.136Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.136Z"}}
{"timestamp":"2025-10-01T00:12:13.136Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.140Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.140Z"}}
{"timestamp":"2025-10-01T00:12:13.140Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.144Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.144Z"}}
{"timestamp":"2025-10-01T00:12:13.144Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.160Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.160Z"}}
{"timestamp":"2025-10-01T00:12:13.160Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.172Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.172Z"}}
{"timestamp":"2025-10-01T00:12:13.172Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.176Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.176Z"}}
{"timestamp":"2025-10-01T00:12:13.176Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.189Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.189Z"}}
{"timestamp":"2025-10-01T00:12:13.189Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.198Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.198Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.198Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.224Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.224Z"}}
{"timestamp":"2025-10-01T00:12:13.224Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.227Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.227Z"}}
{"timestamp":"2025-10-01T00:12:13.227Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.235Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.235Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.235Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.240Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.240Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.240Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.244Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.244Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.244Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.248Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.248Z"}}
{"timestamp":"2025-10-01T00:12:13.248Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:13.248Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.248Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:12:13.248Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:13.248Z"}}
[Server STDOUT]: 6:12:13 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.248Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.248Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.248Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.249Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.249Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.249Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.257Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.257Z"}}
{"timestamp":"2025-10-01T00:12:13.257Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.259Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.259Z"}}
{"timestamp":"2025-10-01T00:12:13.259Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.266Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.266Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.266Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.280Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.280Z"}}
{"timestamp":"2025-10-01T00:12:13.280Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.287Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.287Z"}}
{"timestamp":"2025-10-01T00:12:13.287Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.290Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.290Z"}}
{"timestamp":"2025-10-01T00:12:13.290Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.310Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.310Z"}}
{"timestamp":"2025-10-01T00:12:13.310Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.310Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.310Z"}}
{"timestamp":"2025-10-01T00:12:13.310Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.310Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.310Z"}}
{"timestamp":"2025-10-01T00:12:13.310Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
{"timestamp":"2025-10-01T00:12:13.311Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.311Z"}}
{"timestamp":"2025-10-01T00:12:13.311Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.320Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.320Z"}}
{"timestamp":"2025-10-01T00:12:13.320Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.320Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.320Z"}}
{"timestamp":"2025-10-01T00:12:13.320Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.329Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.329Z"}}
{"timestamp":"2025-10-01T00:12:13.329Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.331Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.331Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.331Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.333Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.333Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.333Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.366Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.366Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.366Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.373Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.373Z"}}
{"timestamp":"2025-10-01T00:12:13.373Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.382Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.382Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.382Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.387Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.387Z"}}
{"timestamp":"2025-10-01T00:12:13.387Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.388Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.388Z"}}
{"timestamp":"2025-10-01T00:12:13.388Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:13.388Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.388Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:13.388Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:13.388Z"}}
[Server STDOUT]: 6:12:13 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.402Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.402Z"}}
{"timestamp":"2025-10-01T00:12:13.402Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.407Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.407Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.407Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.410Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.410Z"}}
{"timestamp":"2025-10-01T00:12:13.410Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.410Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.410Z"}}
{"timestamp":"2025-10-01T00:12:13.410Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.410Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.410Z"}}
{"timestamp":"2025-10-01T00:12:13.410Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.411Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.411Z"}}
{"timestamp":"2025-10-01T00:12:13.411Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.422Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.422Z"}}
{"timestamp":"2025-10-01T00:12:13.422Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.427Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.427Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.427Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.429Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.429Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.429Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.440Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.440Z"}}
{"timestamp":"2025-10-01T00:12:13.440Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.442Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.442Z"}}
{"timestamp":"2025-10-01T00:12:13.442Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.446Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.446Z"}}
{"timestamp":"2025-10-01T00:12:13.446Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.452Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.452Z"}}
{"timestamp":"2025-10-01T00:12:13.452Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.482Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.482Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.482Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.483Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.483Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.483Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.486Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.486Z"}}
{"timestamp":"2025-10-01T00:12:13.486Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.490Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.490Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.490Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.502Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.502Z"}}
{"timestamp":"2025-10-01T00:12:13.502Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.504Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.504Z"}}
{"timestamp":"2025-10-01T00:12:13.504Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.506Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.506Z"}}
{"timestamp":"2025-10-01T00:12:13.506Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.507Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.507Z"}}
{"timestamp":"2025-10-01T00:12:13.507Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.512Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.512Z"}}
{"timestamp":"2025-10-01T00:12:13.512Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.514Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.514Z"}}
{"timestamp":"2025-10-01T00:12:13.514Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.519Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.519Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.519Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.530Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.530Z"}}
{"timestamp":"2025-10-01T00:12:13.531Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.531Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.531Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.531Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.534Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.534Z"}}
{"timestamp":"2025-10-01T00:12:13.534Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.535Z","level":"info","message":"Connection metrics","context":{"activeConnections":-2998,"totalConnections":3000,"timestamp":"2025-10-01T00:12:13.535Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.535Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.535Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.535Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.539Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.539Z"}}
{"timestamp":"2025-10-01T00:12:13.539Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.547Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.547Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.547Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.561Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.561Z"}}
{"timestamp":"2025-10-01T00:12:13.561Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.565Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.565Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.565Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.583Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.583Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.583Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.584Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.584Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.584Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.616Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.616Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.616Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.621Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.621Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.621Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.623Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.623Z"}}
{"timestamp":"2025-10-01T00:12:13.623Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:12:13 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.624Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.624Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.624Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.624Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.624Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.624Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:13.624Z"}}
[Server STDOUT]: 6:12:13 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.627Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.627Z"}}
{"timestamp":"2025-10-01T00:12:13.627Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.638Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.638Z"}}
{"timestamp":"2025-10-01T00:12:13.638Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.657Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.657Z"}}
{"timestamp":"2025-10-01T00:12:13.657Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.668Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.668Z"}}
{"timestamp":"2025-10-01T00:12:13.668Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.673Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.673Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.673Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.676Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.676Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.677Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.677Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.677Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.678Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.678Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.678Z"}}
{"timestamp":"2025-10-01T00:12:13.678Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.688Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.688Z"}}
{"timestamp":"2025-10-01T00:12:13.688Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.701Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.701Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.701Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.718Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.718Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.718Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.729Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.729Z"}}
{"timestamp":"2025-10-01T00:12:13.730Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.738Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.738Z"}}
{"timestamp":"2025-10-01T00:12:13.738Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.743Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.743Z"}}
{"timestamp":"2025-10-01T00:12:13.743Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.759Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.759Z"}}
{"timestamp":"2025-10-01T00:12:13.759Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.759Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.759Z"}}
{"timestamp":"2025-10-01T00:12:13.759Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.762Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.762Z"}}
{"timestamp":"2025-10-01T00:12:13.762Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.777Z"}}
{"timestamp":"2025-10-01T00:12:13.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.784Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.784Z"}}
{"timestamp":"2025-10-01T00:12:13.784Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.786Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.786Z"}}
{"timestamp":"2025-10-01T00:12:13.786Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.789Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.789Z"}}
{"timestamp":"2025-10-01T00:12:13.789Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.793Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.793Z"}}
{"timestamp":"2025-10-01T00:12:13.793Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:13.793Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.793Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:13.793Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:13.793Z"}}
[Server STDOUT]: 6:12:13 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.808Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.808Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.809Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.825Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.825Z"}}
{"timestamp":"2025-10-01T00:12:13.825Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.845Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.845Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.845Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.849Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.849Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.849Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.863Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.863Z"}}
{"timestamp":"2025-10-01T00:12:13.863Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.867Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.867Z"}}
{"timestamp":"2025-10-01T00:12:13.867Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.867Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.867Z"}}
{"timestamp":"2025-10-01T00:12:13.867Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.880Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.880Z"}}
{"timestamp":"2025-10-01T00:12:13.880Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.895Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.895Z"}}
{"timestamp":"2025-10-01T00:12:13.895Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.908Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.908Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.908Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.910Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.910Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.910Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.920Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.920Z"}}
{"timestamp":"2025-10-01T00:12:13.920Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.921Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.921Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.921Z"}}
{"timestamp":"2025-10-01T00:12:13.921Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:13.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.921Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:12:13.922Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:13.922Z"}}
[Server STDOUT]: 6:12:13 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.922Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.922Z"}}
{"timestamp":"2025-10-01T00:12:13.922Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.926Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.926Z"}}
{"timestamp":"2025-10-01T00:12:13.926Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.931Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.931Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.931Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.939Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.939Z"}}
{"timestamp":"2025-10-01T00:12:13.939Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.955Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.955Z"}}
{"timestamp":"2025-10-01T00:12:13.955Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.975Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.975Z"}}
{"timestamp":"2025-10-01T00:12:13.976Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.980Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.980Z"}}
{"timestamp":"2025-10-01T00:12:13.980Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.983Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.983Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.983Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.997Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.997Z"}}
{"timestamp":"2025-10-01T00:12:13.997Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.998Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:13.998Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:13.998Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:13 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.002Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.002Z"}}
{"timestamp":"2025-10-01T00:12:14.002Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.010Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.010Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.010Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.015Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.015Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.016Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.020Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.020Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.020Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.031Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.031Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.031Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.033Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.033Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.033Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:14.033Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.033Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.033Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:14.033Z"}}
[Server STDOUT]: 6:12:14 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.061Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.061Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.061Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.071Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.071Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.071Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.071Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.071Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.071Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:14.071Z"}}
[Server STDOUT]: 6:12:14 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.072Z"}}
{"timestamp":"2025-10-01T00:12:14.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.074Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.074Z"}}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.074Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.074Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.074Z"}}
{"timestamp":"2025-10-01T00:12:14.074Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.074Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.074Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.074Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:14.074Z"}}
[Server STDOUT]: 6:12:14 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.081Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.081Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.081Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.092Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.092Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.092Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.093Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.093Z"}}
{"timestamp":"2025-10-01T00:12:14.093Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.108Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.108Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.108Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.116Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.116Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.116Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.137Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.137Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.137Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.151Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.151Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.151Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.154Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.154Z"}}
{"timestamp":"2025-10-01T00:12:14.154Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.156Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.156Z"}}
{"timestamp":"2025-10-01T00:12:14.156Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.162Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.162Z"}}
{"timestamp":"2025-10-01T00:12:14.162Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.163Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.163Z"}}
{"timestamp":"2025-10-01T00:12:14.163Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.166Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.166Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.166Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.181Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.181Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.181Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.184Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.184Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.184Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.192Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.192Z"}}
{"timestamp":"2025-10-01T00:12:14.192Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.193Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.193Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.193Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.195Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.195Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.196Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.202Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.202Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.203Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.203Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.203Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.203Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.203Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.203Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.203Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.235Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.235Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.235Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.249Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.249Z"}}
{"timestamp":"2025-10-01T00:12:14.249Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.252Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.252Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.252Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.254Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.254Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.254Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.257Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.257Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.257Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.268Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.268Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.268Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.269Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.269Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.269Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.276Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.276Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.276Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.278Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.278Z"}}
{"timestamp":"2025-10-01T00:12:14.278Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.282Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.282Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.282Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.283Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.283Z"}}
{"timestamp":"2025-10-01T00:12:14.283Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.290Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.290Z"}}
{"timestamp":"2025-10-01T00:12:14.290Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.293Z","level":"info","message":"Connection metrics","context":{"activeConnections":-3098,"totalConnections":3100,"timestamp":"2025-10-01T00:12:14.293Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.293Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.293Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.293Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.310Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.310Z"}}
{"timestamp":"2025-10-01T00:12:14.310Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.328Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.328Z"}}
{"timestamp":"2025-10-01T00:12:14.328Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.328Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.328Z"}}
{"timestamp":"2025-10-01T00:12:14.328Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.335Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.335Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.335Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.339Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.339Z"}}
{"timestamp":"2025-10-01T00:12:14.339Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.341Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.341Z"}}
{"timestamp":"2025-10-01T00:12:14.341Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.365Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.365Z"}}
{"timestamp":"2025-10-01T00:12:14.365Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.388Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.388Z"}}
{"timestamp":"2025-10-01T00:12:14.389Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.389Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.389Z"}}
{"timestamp":"2025-10-01T00:12:14.389Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.395Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.401Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.401Z"}}
{"timestamp":"2025-10-01T00:12:14.402Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.414Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.414Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.414Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.441Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.441Z"}}
{"timestamp":"2025-10-01T00:12:14.441Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.443Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.443Z"}}
{"timestamp":"2025-10-01T00:12:14.443Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.444Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.444Z"}}
{"timestamp":"2025-10-01T00:12:14.444Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.451Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.451Z"}}
{"timestamp":"2025-10-01T00:12:14.451Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.454Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.454Z"}}
{"timestamp":"2025-10-01T00:12:14.454Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.456Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.456Z"}}
{"timestamp":"2025-10-01T00:12:14.456Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.460Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.460Z"}}
{"timestamp":"2025-10-01T00:12:14.460Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.463Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.463Z"}}
{"timestamp":"2025-10-01T00:12:14.463Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.463Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.463Z"}}
{"timestamp":"2025-10-01T00:12:14.464Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.473Z"}}
{"timestamp":"2025-10-01T00:12:14.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.475Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.475Z"}}
{"timestamp":"2025-10-01T00:12:14.475Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.475Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.475Z"}}
{"timestamp":"2025-10-01T00:12:14.476Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.476Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.476Z"}}
{"timestamp":"2025-10-01T00:12:14.476Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.492Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.492Z"}}
{"timestamp":"2025-10-01T00:12:14.492Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.511Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.511Z"}}
{"timestamp":"2025-10-01T00:12:14.511Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.512Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.512Z"}}
{"timestamp":"2025-10-01T00:12:14.512Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.512Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.512Z"}}
{"timestamp":"2025-10-01T00:12:14.512Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.521Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.521Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.521Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.527Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.527Z"}}
{"timestamp":"2025-10-01T00:12:14.527Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.528Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.528Z"}}
{"timestamp":"2025-10-01T00:12:14.528Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.530Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.530Z"}}
{"timestamp":"2025-10-01T00:12:14.530Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.549Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.549Z"}}
{"timestamp":"2025-10-01T00:12:14.549Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.565Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.565Z"}}
{"timestamp":"2025-10-01T00:12:14.565Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.582Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.582Z"}}
{"timestamp":"2025-10-01T00:12:14.582Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.588Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.588Z"}}
{"timestamp":"2025-10-01T00:12:14.588Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.589Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.589Z"}}
{"timestamp":"2025-10-01T00:12:14.589Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.594Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.594Z"}}
{"timestamp":"2025-10-01T00:12:14.594Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.597Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.597Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.597Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.615Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.614Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.615Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.616Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.616Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.616Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.646Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.646Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.646Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
{"timestamp":"2025-10-01T00:12:14.649Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.649Z"}}
{"timestamp":"2025-10-01T00:12:14.649Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.649Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.649Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.650Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:14.650Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.650Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.650Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:14.650Z"}}
[Server STDOUT]: 6:12:14 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.650Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.650Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.650Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.650Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.650Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.650Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.653Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.653Z"}}
{"timestamp":"2025-10-01T00:12:14.653Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.665Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.665Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.665Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.666Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.666Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.666Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.669Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.669Z"}}
{"timestamp":"2025-10-01T00:12:14.669Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.669Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.669Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.669Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:14.669Z"}}
[Server STDOUT]: 6:12:14 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.670Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.670Z"}}
{"timestamp":"2025-10-01T00:12:14.670Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.670Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.670Z"}}
{"timestamp":"2025-10-01T00:12:14.670Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.680Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.680Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.680Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.686Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.686Z"}}
{"timestamp":"2025-10-01T00:12:14.686Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.697Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.697Z"}}
{"timestamp":"2025-10-01T00:12:14.697Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.704Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.704Z"}}
{"timestamp":"2025-10-01T00:12:14.704Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.713Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.713Z"}}
{"timestamp":"2025-10-01T00:12:14.713Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.721Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.721Z"}}
{"timestamp":"2025-10-01T00:12:14.721Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.732Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.732Z"}}
{"timestamp":"2025-10-01T00:12:14.732Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.758Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.758Z"}}
{"timestamp":"2025-10-01T00:12:14.758Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.759Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.759Z"}}
{"timestamp":"2025-10-01T00:12:14.759Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.768Z"}}
{"timestamp":"2025-10-01T00:12:14.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.769Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.769Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.769Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.805Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.805Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.805Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.811Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.811Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.811Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.811Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.811Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.811Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.813Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.813Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.813Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.816Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.816Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.817Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.817Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.817Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.817Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.829Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.829Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.829Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.838Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.838Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.838Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.840Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.840Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.840Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.855Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.855Z"}}
{"timestamp":"2025-10-01T00:12:14.855Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.857Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.857Z"}}
{"timestamp":"2025-10-01T00:12:14.857Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.868Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.868Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.868Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.870Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.870Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.870Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.871Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.871Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.871Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.872Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.872Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.872Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.875Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.875Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.875Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.878Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.878Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.878Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.886Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.886Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.886Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.887Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.887Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.887Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.888Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.888Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.888Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.893Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.893Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.893Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.894Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.894Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.894Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.904Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.904Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.904Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.914Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.914Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.914Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.921Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.921Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.924Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.924Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.924Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.937Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.937Z"}}
{"timestamp":"2025-10-01T00:12:14.937Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.941Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.941Z"}}
{"timestamp":"2025-10-01T00:12:14.942Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.951Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.951Z"}}
{"timestamp":"2025-10-01T00:12:14.951Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.952Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.952Z"}}
{"timestamp":"2025-10-01T00:12:14.952Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.964Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.964Z"}}
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.964Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.965Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.965Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.965Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:14.965Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.965Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.965Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:14.965Z"}}
[Server STDOUT]: 6:12:14 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.992Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:14.992Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:14.992Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:14 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.010Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.010Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.010Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.018Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.018Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.018Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.019Z","level":"info","message":"Connection metrics","context":{"activeConnections":-3198,"totalConnections":3200,"timestamp":"2025-10-01T00:12:15.019Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.019Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.019Z"}}
{"timestamp":"2025-10-01T00:12:15.019Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.027Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.027Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.027Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.038Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.038Z"}}
{"timestamp":"2025-10-01T00:12:15.038Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:15.038Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.038Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:12:15.038Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:15.038Z"}}
[Server STDOUT]: 6:12:15 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.040Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.040Z"}}
{"timestamp":"2025-10-01T00:12:15.040Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.045Z"}}
{"timestamp":"2025-10-01T00:12:15.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.047Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.047Z"}}
{"timestamp":"2025-10-01T00:12:15.047Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.050Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.050Z"}}
{"timestamp":"2025-10-01T00:12:15.050Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.055Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.055Z"}}
{"timestamp":"2025-10-01T00:12:15.055Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.055Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.055Z"}}
{"timestamp":"2025-10-01T00:12:15.055Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.057Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.057Z"}}
{"timestamp":"2025-10-01T00:12:15.057Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.057Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.057Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.057Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.067Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.067Z"}}
{"timestamp":"2025-10-01T00:12:15.067Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.073Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.073Z"}}
{"timestamp":"2025-10-01T00:12:15.073Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.092Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.092Z"}}
{"timestamp":"2025-10-01T00:12:15.092Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.107Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.107Z"}}
{"timestamp":"2025-10-01T00:12:15.107Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.109Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.109Z"}}
{"timestamp":"2025-10-01T00:12:15.109Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.111Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.111Z"}}
{"timestamp":"2025-10-01T00:12:15.111Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.120Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.120Z"}}
{"timestamp":"2025-10-01T00:12:15.120Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.152Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.152Z"}}
{"timestamp":"2025-10-01T00:12:15.152Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:15 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
{"timestamp":"2025-10-01T00:12:15.164Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.164Z"}}
{"timestamp":"2025-10-01T00:12:15.164Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:15 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.182Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.182Z"}}
{"timestamp":"2025-10-01T00:12:15.182Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:15.182Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.182Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:12:15.182Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:15.182Z"}}
6:12:15 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
{"timestamp":"2025-10-01T00:12:15.184Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.184Z"}}
{"timestamp":"2025-10-01T00:12:15.186Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 4ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
{"timestamp":"2025-10-01T00:12:15.188Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.188Z"}}
{"timestamp":"2025-10-01T00:12:15.188Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.189Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.189Z"}}
{"timestamp":"2025-10-01T00:12:15.189Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.189Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.189Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.189Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
{"timestamp":"2025-10-01T00:12:15.189Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.189Z"}}
{"timestamp":"2025-10-01T00:12:15.189Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.192Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.192Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.192Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.208Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.208Z"}}
{"timestamp":"2025-10-01T00:12:15.208Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.231Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.231Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.231Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:15.231Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.231Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.231Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:15.231Z"}}
[Server STDOUT]: 6:12:15 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.233Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.233Z"}}
{"timestamp":"2025-10-01T00:12:15.233Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.239Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.239Z"}}
{"timestamp":"2025-10-01T00:12:15.239Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.240Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.240Z"}}
{"timestamp":"2025-10-01T00:12:15.240Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.242Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.242Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.242Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.243Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.243Z"}}
{"timestamp":"2025-10-01T00:12:15.243Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.248Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.248Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.248Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.250Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.250Z"}}
{"timestamp":"2025-10-01T00:12:15.250Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.256Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.256Z"}}
{"timestamp":"2025-10-01T00:12:15.256Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.258Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.258Z"}}
{"timestamp":"2025-10-01T00:12:15.258Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.263Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.263Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.263Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.264Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.264Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.264Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.281Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.281Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.281Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.291Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.291Z"}}
{"timestamp":"2025-10-01T00:12:15.291Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.298Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.298Z"}}
{"timestamp":"2025-10-01T00:12:15.298Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.302Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.302Z"}}
{"timestamp":"2025-10-01T00:12:15.302Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.303Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.303Z"}}
{"timestamp":"2025-10-01T00:12:15.303Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.312Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.312Z"}}
{"timestamp":"2025-10-01T00:12:15.312Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.319Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.319Z"}}
{"timestamp":"2025-10-01T00:12:15.319Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.319Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.319Z"}}
{"timestamp":"2025-10-01T00:12:15.319Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.322Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.322Z"}}
{"timestamp":"2025-10-01T00:12:15.322Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.327Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.327Z"}}
{"timestamp":"2025-10-01T00:12:15.327Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.327Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.327Z"}}
{"timestamp":"2025-10-01T00:12:15.327Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.330Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.330Z"}}
{"timestamp":"2025-10-01T00:12:15.330Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.340Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.340Z"}}
{"timestamp":"2025-10-01T00:12:15.340Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.349Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.349Z"}}
{"timestamp":"2025-10-01T00:12:15.349Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.358Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.358Z"}}
{"timestamp":"2025-10-01T00:12:15.358Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.389Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.389Z"}}
{"timestamp":"2025-10-01T00:12:15.389Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.395Z"}}
{"timestamp":"2025-10-01T00:12:15.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.400Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.400Z"}}
{"timestamp":"2025-10-01T00:12:15.400Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.403Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.403Z"}}
{"timestamp":"2025-10-01T00:12:15.403Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.403Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.403Z"}}
{"timestamp":"2025-10-01T00:12:15.403Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.404Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.404Z"}}
{"timestamp":"2025-10-01T00:12:15.404Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.414Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.414Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.414Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.422Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.422Z"}}
{"timestamp":"2025-10-01T00:12:15.422Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.425Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.425Z"}}
{"timestamp":"2025-10-01T00:12:15.425Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.433Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.433Z"}}
{"timestamp":"2025-10-01T00:12:15.433Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.439Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.439Z"}}
{"timestamp":"2025-10-01T00:12:15.439Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.441Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.441Z"}}
{"timestamp":"2025-10-01T00:12:15.441Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.449Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.449Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.449Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.456Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.456Z"}}
{"timestamp":"2025-10-01T00:12:15.456Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.490Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.490Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.490Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.492Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.492Z"}}
{"timestamp":"2025-10-01T00:12:15.492Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.498Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.498Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.498Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.501Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.501Z"}}
{"timestamp":"2025-10-01T00:12:15.501Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.505Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.505Z"}}
{"timestamp":"2025-10-01T00:12:15.505Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.537Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.537Z"}}
{"timestamp":"2025-10-01T00:12:15.537Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.542Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.542Z"}}
{"timestamp":"2025-10-01T00:12:15.542Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.556Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.556Z"}}
{"timestamp":"2025-10-01T00:12:15.556Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.561Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.561Z"}}
{"timestamp":"2025-10-01T00:12:15.561Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.574Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.574Z"}}
{"timestamp":"2025-10-01T00:12:15.574Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.579Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.579Z"}}
{"timestamp":"2025-10-01T00:12:15.579Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.598Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.598Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.598Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
{"timestamp":"2025-10-01T00:12:15.598Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.598Z"}}
{"timestamp":"2025-10-01T00:12:15.598Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.608Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.608Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.608Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.618Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.618Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.618Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.621Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.621Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.621Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.624Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.624Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.624Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:15.624Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.624Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:12:15.624Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:15.624Z"}}
[Server STDOUT]: 6:12:15 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.633Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.633Z"}}
{"timestamp":"2025-10-01T00:12:15.633Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.633Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.633Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.633Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.639Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.639Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.639Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.641Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.641Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.641Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.652Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.652Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.652Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.671Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.671Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.671Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.673Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.673Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.673Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.673Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.673Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.673Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.673Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.673Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.673Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.683Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.683Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.683Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.701Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.701Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.701Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.712Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.712Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.712Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.724Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.724Z"}}
{"timestamp":"2025-10-01T00:12:15.724Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.727Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.727Z"}}
{"timestamp":"2025-10-01T00:12:15.727Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.731Z","level":"info","message":"Connection metrics","context":{"activeConnections":-3298,"totalConnections":3300,"timestamp":"2025-10-01T00:12:15.731Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.732Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.732Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.732Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.741Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.741Z"}}
{"timestamp":"2025-10-01T00:12:15.741Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.753Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.753Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.753Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.754Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.754Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.754Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.767Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.767Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.767Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.767Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.767Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.767Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.777Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.785Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.785Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.785Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.808Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.808Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.808Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.817Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.817Z"}}
{"timestamp":"2025-10-01T00:12:15.817Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.828Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.828Z"}}
{"timestamp":"2025-10-01T00:12:15.828Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.840Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.840Z"}}
{"timestamp":"2025-10-01T00:12:15.840Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.840Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.840Z"}}
{"timestamp":"2025-10-01T00:12:15.840Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.844Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.844Z"}}
{"timestamp":"2025-10-01T00:12:15.844Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.851Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.851Z"}}
{"timestamp":"2025-10-01T00:12:15.851Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.857Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.857Z"}}
{"timestamp":"2025-10-01T00:12:15.857Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.857Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.857Z"}}
{"timestamp":"2025-10-01T00:12:15.857Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.873Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.873Z"}}
{"timestamp":"2025-10-01T00:12:15.873Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.879Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.879Z"}}
{"timestamp":"2025-10-01T00:12:15.879Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.882Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.882Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.882Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
{"timestamp":"2025-10-01T00:12:15.883Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.883Z"}}
{"timestamp":"2025-10-01T00:12:15.883Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:15 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.885Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.885Z"}}
{"timestamp":"2025-10-01T00:12:15.885Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.893Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.893Z"}}
{"timestamp":"2025-10-01T00:12:15.894Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.894Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.894Z"}}
{"timestamp":"2025-10-01T00:12:15.894Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.894Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.894Z"}}
{"timestamp":"2025-10-01T00:12:15.894Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.927Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.927Z"}}
{"timestamp":"2025-10-01T00:12:15.927Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.929Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.929Z"}}
{"timestamp":"2025-10-01T00:12:15.929Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.939Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.939Z"}}
{"timestamp":"2025-10-01T00:12:15.939Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.939Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.939Z"}}
{"timestamp":"2025-10-01T00:12:15.939Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.946Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.946Z"}}
{"timestamp":"2025-10-01T00:12:15.946Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.950Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.950Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.950Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.957Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.957Z"}}
{"timestamp":"2025-10-01T00:12:15.957Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.973Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.973Z"}}
{"timestamp":"2025-10-01T00:12:15.973Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.988Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.988Z"}}
{"timestamp":"2025-10-01T00:12:15.988Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.995Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:15.995Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:15.996Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:15 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.011Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.011Z"}}
{"timestamp":"2025-10-01T00:12:16.012Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.022Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.022Z"}}
{"timestamp":"2025-10-01T00:12:16.022Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.031Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.031Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.031Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.043Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.043Z"}}
{"timestamp":"2025-10-01T00:12:16.043Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.043Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.043Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.043Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:16.043Z"}}
[Server STDOUT]: 6:12:16 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.047Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.047Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.048Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.060Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.060Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.060Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.061Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.061Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.061Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.062Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.062Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.062Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.072Z"}}
{"timestamp":"2025-10-01T00:12:16.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.076Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.076Z"}}
{"timestamp":"2025-10-01T00:12:16.076Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.084Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.084Z"}}
{"timestamp":"2025-10-01T00:12:16.084Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.087Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.087Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.087Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.089Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.089Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.089Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.092Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.092Z"}}
{"timestamp":"2025-10-01T00:12:16.092Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.109Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.109Z"}}
{"timestamp":"2025-10-01T00:12:16.109Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.111Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.111Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.111Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.115Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.115Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.115Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.118Z","level":"info","message":"High heap utilization detected","context":{"heapUtilization":"82.95","heapUsed":22,"heapTotal":27}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.118Z","level":"info","message":"Potential memory leak detected","context":{"rssToHeapRatio":"3.59","rss":79,"heapUsed":22}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.118Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.118Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.118Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.121Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.121Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.121Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.123Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.123Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.123Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.123Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.123Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.123Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:16.123Z"}}
[Server STDOUT]: 6:12:16 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.126Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.02%"}}
{"timestamp":"2025-10-01T00:12:16.126Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.126Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.03%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.130Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.130Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.130Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.137Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.137Z"}}
{"timestamp":"2025-10-01T00:12:16.137Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.137Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.137Z"}}
{"timestamp":"2025-10-01T00:12:16.137Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.152Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.152Z"}}
{"timestamp":"2025-10-01T00:12:16.152Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.157Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.157Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.157Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.165Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.165Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.165Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.167Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.167Z"}}
{"timestamp":"2025-10-01T00:12:16.168Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.188Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.188Z"}}
{"timestamp":"2025-10-01T00:12:16.188Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.196Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.196Z"}}
{"timestamp":"2025-10-01T00:12:16.196Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.203Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.203Z"}}
{"timestamp":"2025-10-01T00:12:16.203Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.208Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.208Z"}}
{"timestamp":"2025-10-01T00:12:16.208Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.217Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.217Z"}}
{"timestamp":"2025-10-01T00:12:16.217Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.225Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.225Z"}}
{"timestamp":"2025-10-01T00:12:16.225Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.231Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.231Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.231Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.240Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.240Z"}}
{"timestamp":"2025-10-01T00:12:16.240Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.244Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.244Z"}}
{"timestamp":"2025-10-01T00:12:16.244Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.255Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.255Z"}}
{"timestamp":"2025-10-01T00:12:16.255Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.256Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.256Z"}}
{"timestamp":"2025-10-01T00:12:16.256Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.262Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.262Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.262Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.266Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.266Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.266Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.271Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.271Z"}}
{"timestamp":"2025-10-01T00:12:16.271Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.290Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.290Z"}}
{"timestamp":"2025-10-01T00:12:16.290Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.307Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.307Z"}}
{"timestamp":"2025-10-01T00:12:16.307Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.308Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.308Z"}}
{"timestamp":"2025-10-01T00:12:16.308Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.309Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.309Z"}}
{"timestamp":"2025-10-01T00:12:16.309Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.325Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.325Z"}}
{"timestamp":"2025-10-01T00:12:16.325Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.328Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.328Z"}}
{"timestamp":"2025-10-01T00:12:16.328Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.334Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.334Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.334Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:16.334Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.334Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:16.334Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:16.334Z"}}
[Server STDOUT]: 6:12:16 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.335Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.335Z"}}
{"timestamp":"2025-10-01T00:12:16.335Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.336Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.336Z"}}
{"timestamp":"2025-10-01T00:12:16.336Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.339Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.339Z"}}
{"timestamp":"2025-10-01T00:12:16.339Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.351Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.351Z"}}
{"timestamp":"2025-10-01T00:12:16.351Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.379Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.379Z"}}
{"timestamp":"2025-10-01T00:12:16.379Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.383Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.383Z"}}
{"timestamp":"2025-10-01T00:12:16.383Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.397Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.397Z"}}
{"timestamp":"2025-10-01T00:12:16.397Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.399Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.399Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.399Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.408Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.408Z"}}
{"timestamp":"2025-10-01T00:12:16.408Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.408Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.408Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.408Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:16.408Z"}}
[Server STDOUT]: 6:12:16 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.417Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.417Z"}}
{"timestamp":"2025-10-01T00:12:16.418Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.428Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.428Z"}}
{"timestamp":"2025-10-01T00:12:16.428Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.430Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.430Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.430Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.439Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.439Z"}}
{"timestamp":"2025-10-01T00:12:16.440Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.440Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.440Z"}}
{"timestamp":"2025-10-01T00:12:16.440Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.461Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.461Z"}}
{"timestamp":"2025-10-01T00:12:16.461Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.467Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.467Z"}}
{"timestamp":"2025-10-01T00:12:16.467Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.470Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.470Z"}}
{"timestamp":"2025-10-01T00:12:16.470Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.475Z","level":"info","message":"Connection metrics","context":{"activeConnections":-3398,"totalConnections":3400,"timestamp":"2025-10-01T00:12:16.475Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.475Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.475Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.475Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.477Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.477Z"}}
{"timestamp":"2025-10-01T00:12:16.477Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.482Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.482Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.482Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.495Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.495Z"}}
{"timestamp":"2025-10-01T00:12:16.495Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.504Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.504Z"}}
{"timestamp":"2025-10-01T00:12:16.504Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.523Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.523Z"}}
{"timestamp":"2025-10-01T00:12:16.523Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.531Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.531Z"}}
{"timestamp":"2025-10-01T00:12:16.531Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.533Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.533Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.533Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.541Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.541Z"}}
{"timestamp":"2025-10-01T00:12:16.541Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.551Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.551Z"}}
{"timestamp":"2025-10-01T00:12:16.551Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.555Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.555Z"}}
{"timestamp":"2025-10-01T00:12:16.555Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.557Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.557Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.557Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.566Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.566Z"}}
{"timestamp":"2025-10-01T00:12:16.566Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.580Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.580Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.580Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.587Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.587Z"}}
{"timestamp":"2025-10-01T00:12:16.587Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.588Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.588Z"}}
{"timestamp":"2025-10-01T00:12:16.588Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.604Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.604Z"}}
{"timestamp":"2025-10-01T00:12:16.604Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.614Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.614Z"}}
{"timestamp":"2025-10-01T00:12:16.614Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.619Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.619Z"}}
{"timestamp":"2025-10-01T00:12:16.619Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.620Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.620Z"}}
{"timestamp":"2025-10-01T00:12:16.620Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.621Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.621Z"}}
{"timestamp":"2025-10-01T00:12:16.621Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.633Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.633Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.633Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.640Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.640Z"}}
{"timestamp":"2025-10-01T00:12:16.640Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.647Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.647Z"}}
{"timestamp":"2025-10-01T00:12:16.647Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.662Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.662Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.662Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.675Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.675Z"}}
{"timestamp":"2025-10-01T00:12:16.675Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.675Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.675Z"}}
{"timestamp":"2025-10-01T00:12:16.675Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.691Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.691Z"}}
{"timestamp":"2025-10-01T00:12:16.691Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.693Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.693Z"}}
{"timestamp":"2025-10-01T00:12:16.693Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.700Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.700Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.700Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.714Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.714Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.714Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.719Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.719Z"}}
{"timestamp":"2025-10-01T00:12:16.719Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.726Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.726Z"}}
{"timestamp":"2025-10-01T00:12:16.726Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.727Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.727Z"}}
{"timestamp":"2025-10-01T00:12:16.727Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.729Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.729Z"}}
{"timestamp":"2025-10-01T00:12:16.729Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.737Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.737Z"}}
{"timestamp":"2025-10-01T00:12:16.737Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.738Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.738Z"}}
{"timestamp":"2025-10-01T00:12:16.738Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.748Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.748Z"}}
{"timestamp":"2025-10-01T00:12:16.748Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:16.748Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.748Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.748Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:16.748Z"}}
[Server STDOUT]: 6:12:16 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.748Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.748Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.748Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.766Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.766Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.766Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.768Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.769Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.769Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.769Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.781Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.781Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.781Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.782Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.782Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.782Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.782Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.782Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.782Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.782Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.782Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.782Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.791Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.791Z"}}
{"timestamp":"2025-10-01T00:12:16.791Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.791Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.791Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.791Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:16.791Z"}}
[Server STDOUT]: 6:12:16 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.819Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.819Z"}}
{"timestamp":"2025-10-01T00:12:16.819Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.827Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.827Z"}}
{"timestamp":"2025-10-01T00:12:16.827Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.842Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.842Z"}}
{"timestamp":"2025-10-01T00:12:16.842Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.843Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.843Z"}}
{"timestamp":"2025-10-01T00:12:16.843Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.882Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.882Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.882Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.888Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.888Z"}}
{"timestamp":"2025-10-01T00:12:16.888Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.893Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.893Z"}}
{"timestamp":"2025-10-01T00:12:16.893Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.894Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.894Z"}}
{"timestamp":"2025-10-01T00:12:16.894Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.903Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.903Z"}}
{"timestamp":"2025-10-01T00:12:16.904Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.904Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.904Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.904Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:16.904Z"}}
[Server STDOUT]: 6:12:16 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.909Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.909Z"}}
{"timestamp":"2025-10-01T00:12:16.909Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.914Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.914Z"}}
{"timestamp":"2025-10-01T00:12:16.914Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.924Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.924Z"}}
{"timestamp":"2025-10-01T00:12:16.924Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.937Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.937Z"}}
{"timestamp":"2025-10-01T00:12:16.937Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.939Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.939Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.939Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.943Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.943Z"}}
{"timestamp":"2025-10-01T00:12:16.943Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.945Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.945Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.945Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.951Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.951Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.951Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.956Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.956Z"}}
{"timestamp":"2025-10-01T00:12:16.956Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.957Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.957Z"}}
{"timestamp":"2025-10-01T00:12:16.957Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.977Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.977Z"}}
{"timestamp":"2025-10-01T00:12:16.977Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:16.977Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:16.977Z"}}
{"timestamp":"2025-10-01T00:12:16.977Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:16 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.003Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.003Z"}}
{"timestamp":"2025-10-01T00:12:17.003Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.007Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.007Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.007Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.019Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.019Z"}}
{"timestamp":"2025-10-01T00:12:17.019Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.021Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.021Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.021Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.046Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.046Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.046Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:17.046Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.046Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:17.046Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:17.046Z"}}
[Server STDOUT]: 6:12:17 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.048Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.048Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.048Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.053Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.053Z"}}
{"timestamp":"2025-10-01T00:12:17.053Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.065Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.065Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.065Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.067Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.067Z"}}
{"timestamp":"2025-10-01T00:12:17.067Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.071Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.071Z"}}
{"timestamp":"2025-10-01T00:12:17.071Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.074Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.074Z"}}
{"timestamp":"2025-10-01T00:12:17.074Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.116Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.116Z"}}
{"timestamp":"2025-10-01T00:12:17.116Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.122Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.122Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.122Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.128Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.128Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.128Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.131Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.131Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.132Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
{"timestamp":"2025-10-01T00:12:17.133Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.133Z"}}
{"timestamp":"2025-10-01T00:12:17.133Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.134Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.134Z"}}
{"timestamp":"2025-10-01T00:12:17.134Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:17.134Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.134Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.134Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:17.134Z"}}
[Server STDOUT]: 6:12:17 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.169Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.169Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.169Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.169Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.169Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.169Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.172Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.172Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.172Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.179Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.179Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.179Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.181Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.181Z"}}
{"timestamp":"2025-10-01T00:12:17.181Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.182Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.182Z"}}
{"timestamp":"2025-10-01T00:12:17.182Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.183Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.183Z"}}
{"timestamp":"2025-10-01T00:12:17.183Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.184Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.184Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.184Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.192Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.192Z"}}
{"timestamp":"2025-10-01T00:12:17.192Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.199Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.199Z"}}
{"timestamp":"2025-10-01T00:12:17.199Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.199Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.199Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.199Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.206Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.206Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.206Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.211Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.211Z"}}
{"timestamp":"2025-10-01T00:12:17.211Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.225Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.225Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.225Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.235Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.235Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.235Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
{"timestamp":"2025-10-01T00:12:17.236Z","level":"info","message":"Connection metrics","context":{"activeConnections":-3498,"totalConnections":3500,"timestamp":"2025-10-01T00:12:17.236Z"}}
{"timestamp":"2025-10-01T00:12:17.236Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.236Z"}}
{"timestamp":"2025-10-01T00:12:17.236Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.236Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.236Z"}}
{"timestamp":"2025-10-01T00:12:17.236Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.265Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.265Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.265Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.273Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.273Z"}}
{"timestamp":"2025-10-01T00:12:17.273Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.275Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.275Z"}}
{"timestamp":"2025-10-01T00:12:17.275Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.289Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.289Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.289Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.290Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.290Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.290Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.301Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.301Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.301Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.304Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.304Z"}}
{"timestamp":"2025-10-01T00:12:17.304Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.326Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.326Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.326Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.338Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.338Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.338Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.342Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.342Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.342Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.353Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.353Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.353Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.353Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.353Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.353Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.357Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.357Z"}}
{"timestamp":"2025-10-01T00:12:17.357Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.377Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.377Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.378Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.383Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.383Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.383Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.394Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.394Z"}}
{"timestamp":"2025-10-01T00:12:17.394Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.397Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.397Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.397Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.433Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.433Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.433Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.451Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.451Z"}}
{"timestamp":"2025-10-01T00:12:17.451Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.451Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.451Z"}}
{"timestamp":"2025-10-01T00:12:17.451Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.461Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.461Z"}}
{"timestamp":"2025-10-01T00:12:17.461Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.473Z"}}
{"timestamp":"2025-10-01T00:12:17.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.476Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.476Z"}}
{"timestamp":"2025-10-01T00:12:17.476Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.476Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.476Z"}}
{"timestamp":"2025-10-01T00:12:17.476Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.494Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.494Z"}}
{"timestamp":"2025-10-01T00:12:17.494Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.495Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.495Z"}}
{"timestamp":"2025-10-01T00:12:17.495Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.499Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.499Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.499Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.506Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.506Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.506Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.511Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.511Z"}}
{"timestamp":"2025-10-01T00:12:17.511Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:17.512Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.511Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:17.512Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:17.512Z"}}
[Server STDOUT]: 6:12:17 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.523Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.523Z"}}
{"timestamp":"2025-10-01T00:12:17.523Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/pos/sales 200 in 1ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.531Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.531Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.531Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:17.531Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.531Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.531Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:17.531Z"}}
[Server STDOUT]: 6:12:17 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.544Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.544Z"}}
{"timestamp":"2025-10-01T00:12:17.544Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.545Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.545Z"}}
{"timestamp":"2025-10-01T00:12:17.545Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.550Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.550Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.550Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.555Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.555Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.555Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.568Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.568Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.568Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.577Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.577Z"}}
{"timestamp":"2025-10-01T00:12:17.577Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.582Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.582Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.582Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.588Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.588Z"}}
{"timestamp":"2025-10-01T00:12:17.588Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.600Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.599Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.600Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.618Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.618Z"}}
{"timestamp":"2025-10-01T00:12:17.618Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.622Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.622Z"}}
{"timestamp":"2025-10-01T00:12:17.622Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.628Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.628Z"}}
{"timestamp":"2025-10-01T00:12:17.628Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.635Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.635Z"}}
{"timestamp":"2025-10-01T00:12:17.635Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.644Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.644Z"}}
{"timestamp":"2025-10-01T00:12:17.644Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.644Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.644Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.644Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.646Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.646Z"}}
{"timestamp":"2025-10-01T00:12:17.646Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.665Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.665Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.665Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.668Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.668Z"}}
{"timestamp":"2025-10-01T00:12:17.668Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.670Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.670Z"}}
{"timestamp":"2025-10-01T00:12:17.670Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.692Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.692Z"}}
{"timestamp":"2025-10-01T00:12:17.692Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.728Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.728Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.728Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.745Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.745Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.745Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.747Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.747Z"}}
{"timestamp":"2025-10-01T00:12:17.747Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.749Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.749Z"}}
{"timestamp":"2025-10-01T00:12:17.749Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.761Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.761Z"}}
{"timestamp":"2025-10-01T00:12:17.761Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.763Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.763Z"}}
{"timestamp":"2025-10-01T00:12:17.763Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.765Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.765Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.765Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.767Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.767Z"}}
{"timestamp":"2025-10-01T00:12:17.767Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.768Z"}}
{"timestamp":"2025-10-01T00:12:17.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.774Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.774Z"}}
{"timestamp":"2025-10-01T00:12:17.774Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.789Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.789Z"}}
{"timestamp":"2025-10-01T00:12:17.789Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.789Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.789Z"}}
{"timestamp":"2025-10-01T00:12:17.789Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.805Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.805Z"}}
{"timestamp":"2025-10-01T00:12:17.805Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.806Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.806Z"}}
{"timestamp":"2025-10-01T00:12:17.806Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.808Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.808Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.808Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.811Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.811Z"}}
{"timestamp":"2025-10-01T00:12:17.811Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.813Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.813Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.813Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.826Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.826Z"}}
{"timestamp":"2025-10-01T00:12:17.826Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.832Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.832Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.832Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.833Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.833Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.833Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.857Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.857Z"}}
{"timestamp":"2025-10-01T00:12:17.857Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.857Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.857Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.857Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.866Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.866Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.866Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.869Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.869Z"}}
{"timestamp":"2025-10-01T00:12:17.869Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.877Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.877Z"}}
{"timestamp":"2025-10-01T00:12:17.877Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.879Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.879Z"}}
{"timestamp":"2025-10-01T00:12:17.879Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.888Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.888Z"}}
{"timestamp":"2025-10-01T00:12:17.888Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.899Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.899Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.899Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.908Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.908Z"}}
{"timestamp":"2025-10-01T00:12:17.908Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.908Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.908Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.908Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:17.908Z"}}
[Server STDOUT]: 6:12:17 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.913Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.913Z"}}
{"timestamp":"2025-10-01T00:12:17.913Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.938Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.938Z"}}
{"timestamp":"2025-10-01T00:12:17.938Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
  Progress: 15% | RPS: 124 | Avg RT: 1ms | Errors: 4.0%
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.951Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.951Z"}}
{"timestamp":"2025-10-01T00:12:17.951Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.954Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.954Z"}}
{"timestamp":"2025-10-01T00:12:17.954Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.974Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.974Z"}}
{"timestamp":"2025-10-01T00:12:17.974Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.987Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.987Z"}}
{"timestamp":"2025-10-01T00:12:17.987Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.988Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.988Z"}}
{"timestamp":"2025-10-01T00:12:17.988Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.992Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.992Z"}}
{"timestamp":"2025-10-01T00:12:17.992Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:17.992Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:17.992Z"}}
{"timestamp":"2025-10-01T00:12:17.992Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:17 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.006Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.006Z"}}
{"timestamp":"2025-10-01T00:12:18.006Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.009Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.009Z"}}
{"timestamp":"2025-10-01T00:12:18.009Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.022Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.022Z"}}
{"timestamp":"2025-10-01T00:12:18.022Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.032Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.032Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.032Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.034Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.034Z"}}
{"timestamp":"2025-10-01T00:12:18.034Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.034Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.034Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.034Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:18.034Z"}}
[Server STDOUT]: 6:12:18 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.037Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.037Z"}}
{"timestamp":"2025-10-01T00:12:18.037Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.042Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.042Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.042Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.043Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.043Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.043Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.055Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.055Z"}}
{"timestamp":"2025-10-01T00:12:18.055Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.068Z","level":"info","message":"Connection metrics","context":{"activeConnections":-3598,"totalConnections":3600,"timestamp":"2025-10-01T00:12:18.068Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.068Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.068Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.068Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.082Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.082Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.082Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.085Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.085Z"}}
{"timestamp":"2025-10-01T00:12:18.085Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.096Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.096Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.096Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.097Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.097Z"}}
{"timestamp":"2025-10-01T00:12:18.097Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.098Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.098Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.099Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.113Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.113Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.114Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.148Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.148Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.148Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.152Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.152Z"}}
{"timestamp":"2025-10-01T00:12:18.152Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.158Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.158Z"}}
{"timestamp":"2025-10-01T00:12:18.158Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.161Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.161Z"}}
{"timestamp":"2025-10-01T00:12:18.161Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.190Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.190Z"}}
{"timestamp":"2025-10-01T00:12:18.190Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.191Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.191Z"}}
{"timestamp":"2025-10-01T00:12:18.191Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.191Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.191Z"}}
{"timestamp":"2025-10-01T00:12:18.191Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.202Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.202Z"}}
{"timestamp":"2025-10-01T00:12:18.202Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.211Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.211Z"}}
{"timestamp":"2025-10-01T00:12:18.211Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.231Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.231Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.231Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.235Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.235Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.235Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.237Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.237Z"}}
{"timestamp":"2025-10-01T00:12:18.237Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.238Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.238Z"}}
{"timestamp":"2025-10-01T00:12:18.238Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.242Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.242Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.242Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:18.242Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.242Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.242Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:18.242Z"}}
[Server STDOUT]: 6:12:18 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.242Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.242Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.242Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.248Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.248Z"}}
{"timestamp":"2025-10-01T00:12:18.248Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.249Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.249Z"}}
{"timestamp":"2025-10-01T00:12:18.249Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.258Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.258Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.258Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.263Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.263Z"}}
{"timestamp":"2025-10-01T00:12:18.263Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.263Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.263Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.263Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.275Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.275Z"}}
{"timestamp":"2025-10-01T00:12:18.275Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.280Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.280Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.280Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.293Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.293Z"}}
{"timestamp":"2025-10-01T00:12:18.293Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.293Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.293Z"}}
{"timestamp":"2025-10-01T00:12:18.293Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.293Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.293Z"}}
{"timestamp":"2025-10-01T00:12:18.293Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.298Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.297Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.298Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.311Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.311Z"}}
{"timestamp":"2025-10-01T00:12:18.311Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.315Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.315Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.315Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.325Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.325Z"}}
{"timestamp":"2025-10-01T00:12:18.325Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.339Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.339Z"}}
{"timestamp":"2025-10-01T00:12:18.339Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.358Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.358Z"}}
{"timestamp":"2025-10-01T00:12:18.358Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.373Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.373Z"}}
{"timestamp":"2025-10-01T00:12:18.373Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.394Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.394Z"}}
{"timestamp":"2025-10-01T00:12:18.394Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.395Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.395Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.399Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.399Z"}}
{"timestamp":"2025-10-01T00:12:18.399Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.400Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.400Z"}}
{"timestamp":"2025-10-01T00:12:18.400Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.406Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.406Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.406Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.412Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.412Z"}}
{"timestamp":"2025-10-01T00:12:18.412Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:18.412Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.412Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.413Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:18.412Z"}}
[Server STDOUT]: 6:12:18 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.425Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.425Z"}}
{"timestamp":"2025-10-01T00:12:18.425Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.425Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.425Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.425Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:18.425Z"}}
[Server STDOUT]: 6:12:18 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.432Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.432Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.432Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.438Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.438Z"}}
{"timestamp":"2025-10-01T00:12:18.438Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.443Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.443Z"}}
{"timestamp":"2025-10-01T00:12:18.443Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.451Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.451Z"}}
{"timestamp":"2025-10-01T00:12:18.451Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.473Z"}}
{"timestamp":"2025-10-01T00:12:18.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.477Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.477Z"}}
{"timestamp":"2025-10-01T00:12:18.477Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.477Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.477Z"}}
{"timestamp":"2025-10-01T00:12:18.477Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.483Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.483Z"}}
{"timestamp":"2025-10-01T00:12:18.483Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.485Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.485Z"}}
{"timestamp":"2025-10-01T00:12:18.485Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.493Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.493Z"}}
{"timestamp":"2025-10-01T00:12:18.493Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.498Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.498Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.498Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.498Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.498Z"}}
{"timestamp":"2025-10-01T00:12:18.498Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.525Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.525Z"}}
{"timestamp":"2025-10-01T00:12:18.525Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.530Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.530Z"}}
{"timestamp":"2025-10-01T00:12:18.530Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.531Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.531Z"}}
{"timestamp":"2025-10-01T00:12:18.531Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.536Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.536Z"}}
{"timestamp":"2025-10-01T00:12:18.536Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.538Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.538Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.538Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.552Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.552Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.552Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.555Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.555Z"}}
{"timestamp":"2025-10-01T00:12:18.555Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.564Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.564Z"}}
{"timestamp":"2025-10-01T00:12:18.564Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.585Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.585Z"}}
{"timestamp":"2025-10-01T00:12:18.585Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.603Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.603Z"}}
{"timestamp":"2025-10-01T00:12:18.603Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.612Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.612Z"}}
{"timestamp":"2025-10-01T00:12:18.612Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.619Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.619Z"}}
{"timestamp":"2025-10-01T00:12:18.619Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.620Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.620Z"}}
{"timestamp":"2025-10-01T00:12:18.620Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.621Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.621Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.621Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.622Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.622Z"}}
{"timestamp":"2025-10-01T00:12:18.622Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.631Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.631Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.631Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.633Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.633Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.633Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.633Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.633Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.633Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.640Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.640Z"}}
{"timestamp":"2025-10-01T00:12:18.640Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.657Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.657Z"}}
{"timestamp":"2025-10-01T00:12:18.657Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.690Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.690Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.690Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.709Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.709Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.709Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.730Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.730Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.730Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.733Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.733Z"}}
{"timestamp":"2025-10-01T00:12:18.733Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.741Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.741Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.741Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.744Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.744Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.744Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.756Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.756Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.756Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.771Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.771Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.771Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.772Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.772Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.772Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.777Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.777Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.777Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.790Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.790Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.790Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:18.790Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.790Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:18.790Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:18.790Z"}}
[Server STDOUT]: 6:12:18 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.790Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.790Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.790Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.793Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.793Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.793Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.804Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.804Z"}}
{"timestamp":"2025-10-01T00:12:18.804Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.804Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.804Z"}}
{"timestamp":"2025-10-01T00:12:18.805Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.806Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.806Z"}}
{"timestamp":"2025-10-01T00:12:18.806Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.807Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.807Z"}}
{"timestamp":"2025-10-01T00:12:18.807Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.812Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.812Z"}}
{"timestamp":"2025-10-01T00:12:18.813Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.829Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.829Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.829Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.839Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.839Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.839Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.862Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.862Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.862Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.863Z","level":"info","message":"Connection metrics","context":{"activeConnections":-3698,"totalConnections":3700,"timestamp":"2025-10-01T00:12:18.863Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.863Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.863Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.863Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.875Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.875Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.875Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.884Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.884Z"}}
{"timestamp":"2025-10-01T00:12:18.885Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.897Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.896Z"}}
{"timestamp":"2025-10-01T00:12:18.897Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
{"timestamp":"2025-10-01T00:12:18.897Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.897Z"}}
{"timestamp":"2025-10-01T00:12:18.897Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.899Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.899Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.899Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.920Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.920Z"}}
{"timestamp":"2025-10-01T00:12:18.920Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.937Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.937Z"}}
{"timestamp":"2025-10-01T00:12:18.937Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.944Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.944Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.944Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.952Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.952Z"}}
{"timestamp":"2025-10-01T00:12:18.952Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.959Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.959Z"}}
{"timestamp":"2025-10-01T00:12:18.959Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.965Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.965Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.965Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.968Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.968Z"}}
{"timestamp":"2025-10-01T00:12:18.968Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.982Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.982Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.982Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.985Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.985Z"}}
{"timestamp":"2025-10-01T00:12:18.985Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.985Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.985Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.985Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:18.985Z"}}
[Server STDOUT]: 6:12:18 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.988Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.988Z"}}
{"timestamp":"2025-10-01T00:12:18.988Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:18 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.999Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:18.999Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:18.999Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.006Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.006Z"}}
{"timestamp":"2025-10-01T00:12:19.006Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.009Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.009Z"}}
{"timestamp":"2025-10-01T00:12:19.009Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.025Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.025Z"}}
{"timestamp":"2025-10-01T00:12:19.025Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.031Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.031Z"}}
{"timestamp":"2025-10-01T00:12:19.031Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.066Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.066Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.066Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.085Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.085Z"}}
{"timestamp":"2025-10-01T00:12:19.085Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.112Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.112Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.112Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.114Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.114Z"}}
{"timestamp":"2025-10-01T00:12:19.114Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.115Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.115Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.115Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.115Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.115Z"}}
{"timestamp":"2025-10-01T00:12:19.115Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.126Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.05%"}}
{"timestamp":"2025-10-01T00:12:19.127Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.127Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.06%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.128Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.128Z"}}
{"timestamp":"2025-10-01T00:12:19.128Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.147Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.147Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.147Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.148Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.148Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.148Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.174Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.174Z"}}
{"timestamp":"2025-10-01T00:12:19.174Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.180Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.180Z"}}
{"timestamp":"2025-10-01T00:12:19.181Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.189Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.189Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.189Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.195Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.195Z"}}
{"timestamp":"2025-10-01T00:12:19.195Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.228Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.228Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.228Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.229Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.229Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.229Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.244Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.244Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.244Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.246Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.246Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.246Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.254Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.254Z"}}
{"timestamp":"2025-10-01T00:12:19.254Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.261Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.261Z"}}
{"timestamp":"2025-10-01T00:12:19.261Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.265Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.265Z"}}
{"timestamp":"2025-10-01T00:12:19.265Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.266Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.266Z"}}
{"timestamp":"2025-10-01T00:12:19.266Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.280Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.280Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.280Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.281Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.281Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.281Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.282Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.282Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.282Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.282Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.282Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.282Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.288Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.288Z"}}
{"timestamp":"2025-10-01T00:12:19.288Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.316Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.316Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.316Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:19.316Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.316Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.316Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:19.316Z"}}
[Server STDOUT]: 6:12:19 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.318Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.318Z"}}
{"timestamp":"2025-10-01T00:12:19.318Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.321Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.321Z"}}
{"timestamp":"2025-10-01T00:12:19.321Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.321Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.321Z"}}
{"timestamp":"2025-10-01T00:12:19.321Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.335Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.335Z"}}
{"timestamp":"2025-10-01T00:12:19.335Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.345Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.345Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.345Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.346Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.346Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.346Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.350Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.350Z"}}
{"timestamp":"2025-10-01T00:12:19.350Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.370Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.370Z"}}
{"timestamp":"2025-10-01T00:12:19.370Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.370Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.370Z"}}
{"timestamp":"2025-10-01T00:12:19.370Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.370Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.370Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.370Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:19.370Z"}}
[Server STDOUT]: 6:12:19 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.374Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.374Z"}}
{"timestamp":"2025-10-01T00:12:19.374Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.375Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.375Z"}}
{"timestamp":"2025-10-01T00:12:19.375Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.393Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.393Z"}}
{"timestamp":"2025-10-01T00:12:19.393Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.395Z"}}
{"timestamp":"2025-10-01T00:12:19.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:19.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.395Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:19.395Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:19.395Z"}}
[Server STDOUT]: 6:12:19 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.401Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.401Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.401Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.404Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.404Z"}}
{"timestamp":"2025-10-01T00:12:19.404Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.440Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.440Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.440Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.451Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.451Z"}}
{"timestamp":"2025-10-01T00:12:19.451Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.452Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.452Z"}}
{"timestamp":"2025-10-01T00:12:19.452Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.470Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.470Z"}}
{"timestamp":"2025-10-01T00:12:19.470Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.473Z"}}
{"timestamp":"2025-10-01T00:12:19.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.474Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.474Z"}}
{"timestamp":"2025-10-01T00:12:19.474Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.482Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.482Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.482Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.492Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.492Z"}}
{"timestamp":"2025-10-01T00:12:19.492Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.511Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.511Z"}}
{"timestamp":"2025-10-01T00:12:19.511Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:19 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
{"timestamp":"2025-10-01T00:12:19.512Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.512Z"}}
{"timestamp":"2025-10-01T00:12:19.512Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:19 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.529Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.529Z"}}
{"timestamp":"2025-10-01T00:12:19.529Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.536Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.536Z"}}
{"timestamp":"2025-10-01T00:12:19.536Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.555Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.555Z"}}
{"timestamp":"2025-10-01T00:12:19.555Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.582Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.582Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.583Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.583Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.583Z"}}
{"timestamp":"2025-10-01T00:12:19.583Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.593Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.593Z"}}
{"timestamp":"2025-10-01T00:12:19.593Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.604Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.604Z"}}
{"timestamp":"2025-10-01T00:12:19.604Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.613Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.613Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.624Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.624Z"}}
{"timestamp":"2025-10-01T00:12:19.624Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:19.624Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.624Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.624Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:19.624Z"}}
[Server STDOUT]: 6:12:19 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.626Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.626Z"}}
{"timestamp":"2025-10-01T00:12:19.626Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.633Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.633Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.633Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.634Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.634Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.634Z"}}
{"timestamp":"2025-10-01T00:12:19.634Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:19.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.634Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:12:19.634Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:19.634Z"}}
[Server STDOUT]: 6:12:19 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.669Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.669Z"}}
{"timestamp":"2025-10-01T00:12:19.669Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.670Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.670Z"}}
{"timestamp":"2025-10-01T00:12:19.670Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.672Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.672Z"}}
{"timestamp":"2025-10-01T00:12:19.672Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.673Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.673Z"}}
{"timestamp":"2025-10-01T00:12:19.673Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.695Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.695Z"}}
{"timestamp":"2025-10-01T00:12:19.695Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.696Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.696Z"}}
{"timestamp":"2025-10-01T00:12:19.696Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.698Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.698Z"}}
{"timestamp":"2025-10-01T00:12:19.698Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.700Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.700Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.700Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.701Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.701Z"}}
{"timestamp":"2025-10-01T00:12:19.701Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.709Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.709Z"}}
{"timestamp":"2025-10-01T00:12:19.709Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.720Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.720Z"}}
{"timestamp":"2025-10-01T00:12:19.720Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.732Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.732Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.732Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.741Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.741Z"}}
{"timestamp":"2025-10-01T00:12:19.741Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.741Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.741Z"}}
{"timestamp":"2025-10-01T00:12:19.741Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.743Z","level":"info","message":"Connection metrics","context":{"activeConnections":-3798,"totalConnections":3800,"timestamp":"2025-10-01T00:12:19.743Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.743Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.743Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.743Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.748Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.748Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.748Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.750Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.750Z"}}
{"timestamp":"2025-10-01T00:12:19.750Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.773Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.773Z"}}
{"timestamp":"2025-10-01T00:12:19.773Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.774Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.774Z"}}
{"timestamp":"2025-10-01T00:12:19.774Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.786Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.786Z"}}
{"timestamp":"2025-10-01T00:12:19.786Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.795Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.795Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.795Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.802Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.802Z"}}
{"timestamp":"2025-10-01T00:12:19.802Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.807Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.807Z"}}
{"timestamp":"2025-10-01T00:12:19.807Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.819Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.819Z"}}
{"timestamp":"2025-10-01T00:12:19.819Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.870Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.870Z"}}
{"timestamp":"2025-10-01T00:12:19.870Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.879Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.879Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.879Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.903Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.903Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.903Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.909Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.909Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.909Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.916Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.916Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.916Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.916Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.916Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.916Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.919Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.919Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.919Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.921Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.921Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.948Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.948Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.948Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.948Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.948Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.948Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.951Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.951Z"}}
{"timestamp":"2025-10-01T00:12:19.951Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.958Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.958Z"}}
{"timestamp":"2025-10-01T00:12:19.958Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.982Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.982Z"}}
{"timestamp":"2025-10-01T00:12:19.983Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:19.989Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:19.989Z"}}
{"timestamp":"2025-10-01T00:12:19.989Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:19 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.009Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.009Z"}}
{"timestamp":"2025-10-01T00:12:20.009Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.018Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.018Z"}}
{"timestamp":"2025-10-01T00:12:20.018Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.027Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.027Z"}}
{"timestamp":"2025-10-01T00:12:20.027Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.044Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.044Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.044Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.045Z"}}
{"timestamp":"2025-10-01T00:12:20.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.045Z"}}
{"timestamp":"2025-10-01T00:12:20.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.047Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.047Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.047Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.060Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.060Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.060Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.069Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.069Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.070Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.070Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.070Z"}}
{"timestamp":"2025-10-01T00:12:20.070Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.070Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.070Z"}}
{"timestamp":"2025-10-01T00:12:20.070Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.074Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.074Z"}}
{"timestamp":"2025-10-01T00:12:20.074Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.082Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.082Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.082Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.083Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.083Z"}}
{"timestamp":"2025-10-01T00:12:20.083Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.083Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.083Z"}}
{"timestamp":"2025-10-01T00:12:20.083Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.093Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.093Z"}}
{"timestamp":"2025-10-01T00:12:20.093Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.093Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.093Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.093Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:20.093Z"}}
[Server STDOUT]: 6:12:20 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.093Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.093Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.093Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.108Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.108Z"}}
{"timestamp":"2025-10-01T00:12:20.108Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.128Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.128Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.128Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.144Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.144Z"}}
{"timestamp":"2025-10-01T00:12:20.144Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.145Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.145Z"}}
{"timestamp":"2025-10-01T00:12:20.145Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.145Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.145Z"}}
{"timestamp":"2025-10-01T00:12:20.145Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.166Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.166Z"}}
{"timestamp":"2025-10-01T00:12:20.166Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.176Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.176Z"}}
{"timestamp":"2025-10-01T00:12:20.176Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.178Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.178Z"}}
{"timestamp":"2025-10-01T00:12:20.178Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.202Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.202Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.203Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.203Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.203Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.203Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.224Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.224Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.224Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.224Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.224Z"}}
{"timestamp":"2025-10-01T00:12:20.224Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.238Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.238Z"}}
{"timestamp":"2025-10-01T00:12:20.238Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.253Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.253Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.253Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.253Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.253Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.253Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.255Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.255Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.255Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.265Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.265Z"}}
{"timestamp":"2025-10-01T00:12:20.265Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.269Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.269Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.269Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.269Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.269Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.269Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.297Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.297Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.298Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.320Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.320Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.320Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.323Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.323Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.323Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.332Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.332Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.332Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.334Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.334Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.334Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.344Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.344Z"}}
{"timestamp":"2025-10-01T00:12:20.344Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.344Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.344Z"}}
{"timestamp":"2025-10-01T00:12:20.344Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.365Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.365Z"}}
{"timestamp":"2025-10-01T00:12:20.365Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.372Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.371Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.372Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.378Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.378Z"}}
{"timestamp":"2025-10-01T00:12:20.378Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.406Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.406Z"}}
{"timestamp":"2025-10-01T00:12:20.406Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.406Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.406Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.406Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.408Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.408Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.408Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.411Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.411Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.411Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.420Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.420Z"}}
{"timestamp":"2025-10-01T00:12:20.420Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.431Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.431Z"}}
{"timestamp":"2025-10-01T00:12:20.431Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.437Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.437Z"}}
{"timestamp":"2025-10-01T00:12:20.437Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.475Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.475Z"}}
{"timestamp":"2025-10-01T00:12:20.475Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.483Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.483Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.483Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.493Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.493Z"}}
{"timestamp":"2025-10-01T00:12:20.493Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.493Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.493Z"}}
{"timestamp":"2025-10-01T00:12:20.493Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:20.493Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.493Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:20.493Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:20.493Z"}}
[Server STDOUT]: 6:12:20 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.509Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.509Z"}}
{"timestamp":"2025-10-01T00:12:20.509Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.537Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.537Z"}}
{"timestamp":"2025-10-01T00:12:20.537Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.538Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.538Z"}}
{"timestamp":"2025-10-01T00:12:20.538Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.555Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.555Z"}}
{"timestamp":"2025-10-01T00:12:20.555Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.558Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.558Z"}}
{"timestamp":"2025-10-01T00:12:20.558Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.564Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.564Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.564Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.565Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.565Z"}}
{"timestamp":"2025-10-01T00:12:20.565Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.566Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.566Z"}}
{"timestamp":"2025-10-01T00:12:20.566Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.567Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.567Z"}}
{"timestamp":"2025-10-01T00:12:20.567Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.585Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.585Z"}}
{"timestamp":"2025-10-01T00:12:20.585Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.600Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.600Z"}}
{"timestamp":"2025-10-01T00:12:20.600Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.601Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.601Z"}}
{"timestamp":"2025-10-01T00:12:20.601Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.611Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.611Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.611Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.612Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.612Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.612Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.620Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.620Z"}}
{"timestamp":"2025-10-01T00:12:20.620Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.626Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.626Z"}}
{"timestamp":"2025-10-01T00:12:20.626Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.649Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.649Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.649Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.658Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.658Z"}}
{"timestamp":"2025-10-01T00:12:20.658Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.672Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.672Z"}}
{"timestamp":"2025-10-01T00:12:20.672Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.685Z","level":"info","message":"Connection metrics","context":{"activeConnections":-3898,"totalConnections":3900,"timestamp":"2025-10-01T00:12:20.685Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.685Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.694Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.694Z"}}
{"timestamp":"2025-10-01T00:12:20.694Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.698Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.698Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.698Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.698Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.698Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.698Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.712Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.712Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.712Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.714Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.714Z"}}
{"timestamp":"2025-10-01T00:12:20.714Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.715Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.715Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.715Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.721Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.721Z"}}
{"timestamp":"2025-10-01T00:12:20.721Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.726Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.726Z"}}
{"timestamp":"2025-10-01T00:12:20.726Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.726Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.726Z"}}
{"timestamp":"2025-10-01T00:12:20.726Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.743Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.743Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.743Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.744Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.744Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.744Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.755Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.755Z"}}
{"timestamp":"2025-10-01T00:12:20.755Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.785Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.785Z"}}
{"timestamp":"2025-10-01T00:12:20.785Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.794Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.794Z"}}
{"timestamp":"2025-10-01T00:12:20.794Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.798Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.798Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.798Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.829Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.829Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.829Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.832Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.832Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.832Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.832Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.832Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.832Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.844Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.844Z"}}
{"timestamp":"2025-10-01T00:12:20.844Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.844Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.844Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.844Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:20.844Z"}}
[Server STDOUT]: 6:12:20 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.857Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.857Z"}}
{"timestamp":"2025-10-01T00:12:20.857Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.861Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.861Z"}}
{"timestamp":"2025-10-01T00:12:20.861Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:20.861Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.861Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.861Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:20.861Z"}}
[Server STDOUT]: 6:12:20 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.861Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.861Z"}}
{"timestamp":"2025-10-01T00:12:20.861Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.864Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.864Z"}}
{"timestamp":"2025-10-01T00:12:20.864Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.870Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.869Z"}}
{"timestamp":"2025-10-01T00:12:20.870Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.880Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.880Z"}}
{"timestamp":"2025-10-01T00:12:20.880Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.889Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.889Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.889Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.903Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.903Z"}}
{"timestamp":"2025-10-01T00:12:20.903Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.915Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.915Z"}}
{"timestamp":"2025-10-01T00:12:20.915Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.948Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.948Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.948Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.951Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.951Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.951Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.961Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.961Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.961Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.971Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.971Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.971Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.974Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.974Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.974Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.979Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.979Z"}}
{"timestamp":"2025-10-01T00:12:20.979Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:20.983Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:20.983Z"}}
{"timestamp":"2025-10-01T00:12:20.983Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:20 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.000Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.000Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.000Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.002Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.002Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.002Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.005Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.005Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.005Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.042Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.042Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.042Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.043Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.043Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.043Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.066Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.066Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.066Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.067Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.067Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.067Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.080Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.080Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.080Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.088Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.088Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.088Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.103Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.103Z"}}
{"timestamp":"2025-10-01T00:12:21.103Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.103Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.103Z"}}
{"timestamp":"2025-10-01T00:12:21.103Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.114Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.114Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.114Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.115Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.115Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.115Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.121Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.121Z"}}
{"timestamp":"2025-10-01T00:12:21.121Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.123Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.123Z"}}
{"timestamp":"2025-10-01T00:12:21.123Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.130Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.130Z"}}
{"timestamp":"2025-10-01T00:12:21.130Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.141Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.141Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.141Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.150Z"}}
{"timestamp":"2025-10-01T00:12:21.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.151Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.151Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.151Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.157Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.157Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.157Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.168Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.168Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.168Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.174Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.174Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.174Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.190Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.190Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.190Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.207Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.207Z"}}
{"timestamp":"2025-10-01T00:12:21.208Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:21.208Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.208Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.208Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:21.208Z"}}
[Server STDOUT]: 6:12:21 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.219Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.219Z"}}
{"timestamp":"2025-10-01T00:12:21.219Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.219Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.219Z"}}
{"timestamp":"2025-10-01T00:12:21.219Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.221Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.221Z"}}
{"timestamp":"2025-10-01T00:12:21.221Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:21 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.232Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.232Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.233Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.237Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.237Z"}}
{"timestamp":"2025-10-01T00:12:21.237Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.237Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.237Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.237Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:21.237Z"}}
[Server STDOUT]: 6:12:21 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.253Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.253Z"}}
{"timestamp":"2025-10-01T00:12:21.253Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.253Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.253Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.253Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:21.253Z"}}
[Server STDOUT]: 6:12:21 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.260Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.260Z"}}
{"timestamp":"2025-10-01T00:12:21.260Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.264Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.264Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.264Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.271Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.271Z"}}
{"timestamp":"2025-10-01T00:12:21.271Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.271Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.271Z"}}
{"timestamp":"2025-10-01T00:12:21.271Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.291Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.291Z"}}
{"timestamp":"2025-10-01T00:12:21.291Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.299Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.299Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.299Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.303Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.303Z"}}
{"timestamp":"2025-10-01T00:12:21.303Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.313Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.313Z"}}
{"timestamp":"2025-10-01T00:12:21.313Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.319Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.319Z"}}
{"timestamp":"2025-10-01T00:12:21.319Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.341Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.341Z"}}
{"timestamp":"2025-10-01T00:12:21.341Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.357Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.357Z"}}
{"timestamp":"2025-10-01T00:12:21.357Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.361Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.361Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.361Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.366Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.366Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.366Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.377Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.377Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.377Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.388Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.388Z"}}
{"timestamp":"2025-10-01T00:12:21.388Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.399Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.399Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.399Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.425Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.425Z"}}
{"timestamp":"2025-10-01T00:12:21.425Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.438Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.438Z"}}
{"timestamp":"2025-10-01T00:12:21.438Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.445Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.445Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.445Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.461Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.461Z"}}
{"timestamp":"2025-10-01T00:12:21.461Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.498Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.498Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.498Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.499Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.499Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.499Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.504Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.504Z"}}
{"timestamp":"2025-10-01T00:12:21.504Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.506Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.506Z"}}
{"timestamp":"2025-10-01T00:12:21.506Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.524Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.524Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.524Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.525Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.525Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.525Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.538Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.538Z"}}
{"timestamp":"2025-10-01T00:12:21.538Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.542Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.542Z"}}
{"timestamp":"2025-10-01T00:12:21.542Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.548Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.548Z"}}
{"timestamp":"2025-10-01T00:12:21.548Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.565Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.565Z"}}
{"timestamp":"2025-10-01T00:12:21.565Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.571Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.571Z"}}
{"timestamp":"2025-10-01T00:12:21.571Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.588Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.588Z"}}
{"timestamp":"2025-10-01T00:12:21.588Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.598Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.598Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.598Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.605Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.605Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.605Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.625Z","level":"info","message":"Connection metrics","context":{"activeConnections":-3998,"totalConnections":4000,"timestamp":"2025-10-01T00:12:21.625Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.625Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.625Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.625Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.637Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.637Z"}}
{"timestamp":"2025-10-01T00:12:21.637Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.644Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.644Z"}}
{"timestamp":"2025-10-01T00:12:21.644Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.649Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.649Z"}}
{"timestamp":"2025-10-01T00:12:21.650Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.653Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.653Z"}}
{"timestamp":"2025-10-01T00:12:21.654Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.654Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.654Z"}}
{"timestamp":"2025-10-01T00:12:21.654Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.657Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.657Z"}}
{"timestamp":"2025-10-01T00:12:21.657Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.658Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.658Z"}}
{"timestamp":"2025-10-01T00:12:21.658Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.672Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.672Z"}}
{"timestamp":"2025-10-01T00:12:21.672Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.673Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.673Z"}}
{"timestamp":"2025-10-01T00:12:21.673Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.681Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.681Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.681Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.685Z"}}
{"timestamp":"2025-10-01T00:12:21.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.688Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.688Z"}}
{"timestamp":"2025-10-01T00:12:21.688Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.708Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.708Z"}}
{"timestamp":"2025-10-01T00:12:21.708Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.719Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.719Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.719Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.725Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.725Z"}}
{"timestamp":"2025-10-01T00:12:21.725Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.753Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.753Z"}}
{"timestamp":"2025-10-01T00:12:21.753Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.753Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.753Z"}}
{"timestamp":"2025-10-01T00:12:21.753Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:21.753Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.753Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.753Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:21.753Z"}}
[Server STDOUT]: 6:12:21 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.754Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.754Z"}}
{"timestamp":"2025-10-01T00:12:21.754Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.791Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.791Z"}}
{"timestamp":"2025-10-01T00:12:21.791Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.792Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.792Z"}}
{"timestamp":"2025-10-01T00:12:21.792Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.793Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.793Z"}}
{"timestamp":"2025-10-01T00:12:21.793Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.801Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.801Z"}}
{"timestamp":"2025-10-01T00:12:21.801Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.805Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.805Z"}}
{"timestamp":"2025-10-01T00:12:21.805Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.805Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.805Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.805Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.808Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.808Z"}}
{"timestamp":"2025-10-01T00:12:21.808Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.817Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.817Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.817Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.826Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.826Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.826Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.829Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.829Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.829Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.843Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.843Z"}}
{"timestamp":"2025-10-01T00:12:21.844Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.850Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.850Z"}}
{"timestamp":"2025-10-01T00:12:21.850Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.851Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.851Z"}}
{"timestamp":"2025-10-01T00:12:21.851Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.860Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.860Z"}}
{"timestamp":"2025-10-01T00:12:21.860Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.875Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.875Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.875Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.917Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.917Z"}}
{"timestamp":"2025-10-01T00:12:21.917Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.921Z"}}
{"timestamp":"2025-10-01T00:12:21.921Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:21.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.921Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.921Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:21.921Z"}}
[Server STDOUT]: 6:12:21 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.927Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.927Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.927Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.927Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.927Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.927Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:21.927Z"}}
[Server STDOUT]: 6:12:21 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.935Z"}}
{"timestamp":"2025-10-01T00:12:21.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.946Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.946Z"}}
{"timestamp":"2025-10-01T00:12:21.946Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.967Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.967Z"}}
{"timestamp":"2025-10-01T00:12:21.967Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.967Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.967Z"}}
{"timestamp":"2025-10-01T00:12:21.967Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.970Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.970Z"}}
{"timestamp":"2025-10-01T00:12:21.970Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.972Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.972Z"}}
{"timestamp":"2025-10-01T00:12:21.972Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.976Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.976Z"}}
{"timestamp":"2025-10-01T00:12:21.976Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.978Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.978Z"}}
{"timestamp":"2025-10-01T00:12:21.978Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.987Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.987Z"}}
{"timestamp":"2025-10-01T00:12:21.987Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:21.989Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:21.989Z"}}
{"timestamp":"2025-10-01T00:12:21.989Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:21 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.008Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.008Z"}}
{"timestamp":"2025-10-01T00:12:22.008Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.008Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.008Z"}}
{"timestamp":"2025-10-01T00:12:22.008Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.009Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.009Z"}}
{"timestamp":"2025-10-01T00:12:22.009Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:22.009Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.009Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:22.009Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:22.009Z"}}
[Server STDOUT]: 6:12:22 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.015Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.015Z"}}
{"timestamp":"2025-10-01T00:12:22.015Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.031Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.031Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.031Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.040Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.040Z"}}
{"timestamp":"2025-10-01T00:12:22.040Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.056Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.056Z"}}
{"timestamp":"2025-10-01T00:12:22.056Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.060Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.060Z"}}
{"timestamp":"2025-10-01T00:12:22.060Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.065Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.065Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.065Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.094Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.094Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.094Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.103Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.103Z"}}
{"timestamp":"2025-10-01T00:12:22.103Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.107Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.107Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.107Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.128Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.08%"}}
{"timestamp":"2025-10-01T00:12:22.128Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.128Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.10%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.148Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.148Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.149Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.166Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.166Z"}}
{"timestamp":"2025-10-01T00:12:22.166Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.167Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.167Z"}}
{"timestamp":"2025-10-01T00:12:22.167Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.171Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.171Z"}}
{"timestamp":"2025-10-01T00:12:22.171Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.172Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.172Z"}}
{"timestamp":"2025-10-01T00:12:22.172Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:22.172Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.172Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:22.172Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:22.172Z"}}
[Server STDOUT]: 6:12:22 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.175Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.175Z"}}
{"timestamp":"2025-10-01T00:12:22.175Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.179Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.179Z"}}
{"timestamp":"2025-10-01T00:12:22.179Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.191Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.191Z"}}
{"timestamp":"2025-10-01T00:12:22.191Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.211Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.211Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.211Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.231Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.231Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.231Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.257Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.257Z"}}
{"timestamp":"2025-10-01T00:12:22.257Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:22.257Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.257Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.257Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:22.257Z"}}
[Server STDOUT]: 6:12:22 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.264Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.264Z"}}
{"timestamp":"2025-10-01T00:12:22.265Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:22.265Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.265Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.265Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:22.265Z"}}
[Server STDOUT]: 6:12:22 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.279Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.279Z"}}
{"timestamp":"2025-10-01T00:12:22.279Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.280Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.280Z"}}
{"timestamp":"2025-10-01T00:12:22.280Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.282Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.282Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.282Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.315Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.315Z"}}
{"timestamp":"2025-10-01T00:12:22.315Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.323Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.323Z"}}
{"timestamp":"2025-10-01T00:12:22.323Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.334Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.334Z"}}
{"timestamp":"2025-10-01T00:12:22.334Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.335Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.335Z"}}
{"timestamp":"2025-10-01T00:12:22.335Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.336Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.336Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.336Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.337Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.337Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.337Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.339Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.339Z"}}
{"timestamp":"2025-10-01T00:12:22.339Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.344Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.344Z"}}
{"timestamp":"2025-10-01T00:12:22.344Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.359Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.359Z"}}
{"timestamp":"2025-10-01T00:12:22.359Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.371Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.371Z"}}
{"timestamp":"2025-10-01T00:12:22.371Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.376Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.376Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.376Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.377Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.377Z"}}
{"timestamp":"2025-10-01T00:12:22.377Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.385Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.385Z"}}
{"timestamp":"2025-10-01T00:12:22.385Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.388Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.388Z"}}
{"timestamp":"2025-10-01T00:12:22.388Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.393Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.393Z"}}
{"timestamp":"2025-10-01T00:12:22.393Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.410Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.410Z"}}
{"timestamp":"2025-10-01T00:12:22.410Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.410Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.410Z"}}
{"timestamp":"2025-10-01T00:12:22.410Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.424Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.424Z"}}
{"timestamp":"2025-10-01T00:12:22.424Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.440Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.440Z"}}
{"timestamp":"2025-10-01T00:12:22.440Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.454Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.454Z"}}
{"timestamp":"2025-10-01T00:12:22.454Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.473Z"}}
{"timestamp":"2025-10-01T00:12:22.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.482Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.482Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.482Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.483Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.483Z"}}
{"timestamp":"2025-10-01T00:12:22.483Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.493Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.493Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.493Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.503Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.503Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.504Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.507Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.507Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.508Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.547Z","level":"info","message":"Connection metrics","context":{"activeConnections":-4098,"totalConnections":4100,"timestamp":"2025-10-01T00:12:22.547Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.548Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.548Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.548Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.563Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.563Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.563Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.587Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.587Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.588Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.593Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.593Z"}}
{"timestamp":"2025-10-01T00:12:22.593Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.613Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.613Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:22 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.614Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.614Z"}}
{"timestamp":"2025-10-01T00:12:22.614Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.614Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.614Z"}}
{"timestamp":"2025-10-01T00:12:22.614Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.618Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.618Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.618Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.619Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.619Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.619Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.620Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.620Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.620Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.635Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.635Z"}}
{"timestamp":"2025-10-01T00:12:22.635Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.644Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.644Z"}}
{"timestamp":"2025-10-01T00:12:22.644Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.648Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.648Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.648Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.652Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.652Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.652Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.664Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.664Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.664Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.670Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.670Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.670Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.695Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.695Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.695Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.709Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.709Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.709Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.725Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.725Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.725Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.734Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.734Z"}}
{"timestamp":"2025-10-01T00:12:22.734Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.743Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.743Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.743Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.755Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.755Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.755Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.761Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.761Z"}}
{"timestamp":"2025-10-01T00:12:22.761Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.767Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.767Z"}}
{"timestamp":"2025-10-01T00:12:22.767Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.770Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.770Z"}}
{"timestamp":"2025-10-01T00:12:22.770Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.776Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.776Z"}}
{"timestamp":"2025-10-01T00:12:22.776Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.780Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.780Z"}}
{"timestamp":"2025-10-01T00:12:22.780Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.782Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.782Z"}}
{"timestamp":"2025-10-01T00:12:22.782Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.782Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.782Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.782Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:22.782Z"}}
[Server STDOUT]: 6:12:22 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.791Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.791Z"}}
{"timestamp":"2025-10-01T00:12:22.791Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.804Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.804Z"}}
{"timestamp":"2025-10-01T00:12:22.804Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.809Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.809Z"}}
{"timestamp":"2025-10-01T00:12:22.809Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.809Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.809Z"}}
{"timestamp":"2025-10-01T00:12:22.809Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.831Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.831Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.831Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.849Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.849Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.849Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.850Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.850Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.850Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.859Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.859Z"}}
{"timestamp":"2025-10-01T00:12:22.859Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.872Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.872Z"}}
{"timestamp":"2025-10-01T00:12:22.872Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.879Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.879Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.879Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.881Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.881Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.882Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.888Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.888Z"}}
{"timestamp":"2025-10-01T00:12:22.888Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.896Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.896Z"}}
{"timestamp":"2025-10-01T00:12:22.896Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.925Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.925Z"}}
{"timestamp":"2025-10-01T00:12:22.925Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.955Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.955Z"}}
{"timestamp":"2025-10-01T00:12:22.955Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.959Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.959Z"}}
{"timestamp":"2025-10-01T00:12:22.959Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.967Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.967Z"}}
{"timestamp":"2025-10-01T00:12:22.967Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.971Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.971Z"}}
{"timestamp":"2025-10-01T00:12:22.972Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.972Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.972Z"}}
{"timestamp":"2025-10-01T00:12:22.972Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.999Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:22.999Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:22.999Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:22 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.000Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.000Z"}}
{"timestamp":"2025-10-01T00:12:23.000Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.028Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.028Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.029Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.037Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.037Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.037Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.038Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.038Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.038Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.041Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.041Z"}}
{"timestamp":"2025-10-01T00:12:23.041Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.046Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.046Z"}}
{"timestamp":"2025-10-01T00:12:23.046Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.050Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.050Z"}}
{"timestamp":"2025-10-01T00:12:23.050Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.059Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.059Z"}}
{"timestamp":"2025-10-01T00:12:23.059Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.082Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.082Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.083Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.110Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.110Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.110Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.113Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.113Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.113Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.116Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.116Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.116Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.129Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.129Z"}}
{"timestamp":"2025-10-01T00:12:23.129Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.145Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.145Z"}}
{"timestamp":"2025-10-01T00:12:23.145Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.157Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.157Z"}}
{"timestamp":"2025-10-01T00:12:23.157Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.164Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.164Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.164Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/pos/sales 200 in 1ms :: []
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.168Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.168Z"}}
{"timestamp":"2025-10-01T00:12:23.168Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.168Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.168Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.168Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:23.168Z"}}
[Server STDOUT]: 6:12:23 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.169Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.169Z"}}
{"timestamp":"2025-10-01T00:12:23.169Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.179Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.179Z"}}
{"timestamp":"2025-10-01T00:12:23.179Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.225Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.225Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.226Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.252Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.252Z"}}
{"timestamp":"2025-10-01T00:12:23.252Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.253Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.253Z"}}
{"timestamp":"2025-10-01T00:12:23.253Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.255Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.255Z"}}
{"timestamp":"2025-10-01T00:12:23.255Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.269Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.269Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.269Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.277Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.277Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.277Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.280Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.280Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.280Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.284Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.284Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.284Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.297Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.297Z"}}
{"timestamp":"2025-10-01T00:12:23.297Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.303Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.303Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.303Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.324Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.324Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.324Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.324Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.324Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.324Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.337Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.337Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.337Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.337Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.337Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.337Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.338Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.338Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.338Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.351Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.351Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.351Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.364Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.364Z"}}
{"timestamp":"2025-10-01T00:12:23.365Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.377Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.377Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.378Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.418Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.418Z"}}
{"timestamp":"2025-10-01T00:12:23.418Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.433Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.433Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.433Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.435Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.435Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.435Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.440Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.440Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.440Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.459Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.459Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.459Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.465Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.465Z"}}
{"timestamp":"2025-10-01T00:12:23.465Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.465Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.465Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.465Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.469Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.469Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.469Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.485Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.485Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.485Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.508Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.508Z"}}
{"timestamp":"2025-10-01T00:12:23.508Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.511Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.511Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.511Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.517Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.517Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.517Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.517Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.517Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.517Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.517Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.517Z"}}
{"timestamp":"2025-10-01T00:12:23.517Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.529Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.529Z"}}
{"timestamp":"2025-10-01T00:12:23.529Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.543Z","level":"info","message":"Connection metrics","context":{"activeConnections":-4198,"totalConnections":4200,"timestamp":"2025-10-01T00:12:23.543Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.543Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.543Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.543Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.550Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.550Z"}}
{"timestamp":"2025-10-01T00:12:23.550Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.551Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.551Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.551Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.558Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.558Z"}}
{"timestamp":"2025-10-01T00:12:23.558Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:23.558Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.558Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.558Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:23.558Z"}}
[Server STDOUT]: 6:12:23 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.602Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.602Z"}}
{"timestamp":"2025-10-01T00:12:23.603Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.617Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.617Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.617Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.622Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.622Z"}}
{"timestamp":"2025-10-01T00:12:23.622Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:23.622Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.622Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:23.622Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:23.622Z"}}
[Server STDOUT]: 6:12:23 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.622Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.622Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.622Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.622Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.622Z"}}
{"timestamp":"2025-10-01T00:12:23.622Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.654Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.654Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.654Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.655Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.655Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.655Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.655Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.655Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.655Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:23.655Z"}}
[Server STDOUT]: 6:12:23 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.655Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.655Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.655Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.677Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.677Z"}}
{"timestamp":"2025-10-01T00:12:23.677Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.685Z"}}
{"timestamp":"2025-10-01T00:12:23.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.718Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.718Z"}}
{"timestamp":"2025-10-01T00:12:23.718Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.721Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.721Z"}}
{"timestamp":"2025-10-01T00:12:23.721Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.723Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.723Z"}}
{"timestamp":"2025-10-01T00:12:23.723Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.723Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.723Z"}}
{"timestamp":"2025-10-01T00:12:23.723Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.723Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.723Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.723Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:23.723Z"}}
[Server STDOUT]: 6:12:23 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.725Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.725Z"}}
{"timestamp":"2025-10-01T00:12:23.725Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.727Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.727Z"}}
{"timestamp":"2025-10-01T00:12:23.727Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.728Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.728Z"}}
{"timestamp":"2025-10-01T00:12:23.728Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.728Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.728Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.728Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:23.728Z"}}
[Server STDOUT]: 6:12:23 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.731Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.731Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.731Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.732Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.732Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.732Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.738Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.738Z"}}
{"timestamp":"2025-10-01T00:12:23.738Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.748Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.748Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.748Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.768Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.768Z"}}
{"timestamp":"2025-10-01T00:12:23.768Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.779Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.779Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.779Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.792Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.792Z"}}
{"timestamp":"2025-10-01T00:12:23.792Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.827Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.827Z"}}
{"timestamp":"2025-10-01T00:12:23.827Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.844Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.844Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.844Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.865Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.865Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.865Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.878Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.878Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.878Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.879Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.879Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.879Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.933Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.934Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.934Z"}}
{"timestamp":"2025-10-01T00:12:23.934Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.968Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.968Z"}}
{"timestamp":"2025-10-01T00:12:23.968Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.969Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.969Z"}}
{"timestamp":"2025-10-01T00:12:23.969Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.969Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.969Z"}}
{"timestamp":"2025-10-01T00:12:23.969Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.984Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.984Z"}}
{"timestamp":"2025-10-01T00:12:23.984Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.984Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.984Z"}}
{"timestamp":"2025-10-01T00:12:23.984Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.993Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:23.993Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:23.993Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:23 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.014Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.014Z"}}
{"timestamp":"2025-10-01T00:12:24.014Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.038Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.038Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.038Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.046Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.046Z"}}
{"timestamp":"2025-10-01T00:12:24.046Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.057Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.057Z"}}
{"timestamp":"2025-10-01T00:12:24.057Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.076Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.076Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.076Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.078Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.078Z"}}
{"timestamp":"2025-10-01T00:12:24.078Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.081Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.081Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.081Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.084Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.084Z"}}
{"timestamp":"2025-10-01T00:12:24.084Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.091Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.091Z"}}
{"timestamp":"2025-10-01T00:12:24.091Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.102Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.102Z"}}
{"timestamp":"2025-10-01T00:12:24.102Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.111Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.111Z"}}
{"timestamp":"2025-10-01T00:12:24.111Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.142Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.142Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.142Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.150Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.150Z"}}
{"timestamp":"2025-10-01T00:12:24.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.156Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.156Z"}}
{"timestamp":"2025-10-01T00:12:24.156Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.158Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.158Z"}}
{"timestamp":"2025-10-01T00:12:24.158Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.177Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.177Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.177Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.180Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.180Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.180Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.202Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.202Z"}}
{"timestamp":"2025-10-01T00:12:24.202Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.236Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.236Z"}}
{"timestamp":"2025-10-01T00:12:24.236Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.237Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.237Z"}}
{"timestamp":"2025-10-01T00:12:24.237Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.242Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.242Z"}}
{"timestamp":"2025-10-01T00:12:24.242Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.251Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.251Z"}}
{"timestamp":"2025-10-01T00:12:24.251Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.261Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.261Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.261Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.268Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.268Z"}}
{"timestamp":"2025-10-01T00:12:24.268Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.270Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.270Z"}}
{"timestamp":"2025-10-01T00:12:24.270Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.298Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.298Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.298Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.298Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.298Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.298Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:24.298Z"}}
[Server STDOUT]: 6:12:24 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.314Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.314Z"}}
{"timestamp":"2025-10-01T00:12:24.314Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.334Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.334Z"}}
{"timestamp":"2025-10-01T00:12:24.334Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.340Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.340Z"}}
{"timestamp":"2025-10-01T00:12:24.340Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.344Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.344Z"}}
{"timestamp":"2025-10-01T00:12:24.344Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.363Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.363Z"}}
{"timestamp":"2025-10-01T00:12:24.363Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.363Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.363Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.364Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: 6:12:24 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.368Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.368Z"}}
{"timestamp":"2025-10-01T00:12:24.368Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.374Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.374Z"}}
{"timestamp":"2025-10-01T00:12:24.374Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.376Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.376Z"}}
{"timestamp":"2025-10-01T00:12:24.376Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.394Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.394Z"}}
{"timestamp":"2025-10-01T00:12:24.394Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.407Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.407Z"}}
{"timestamp":"2025-10-01T00:12:24.407Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.425Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.425Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.425Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.450Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.450Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.450Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.478Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.478Z"}}
{"timestamp":"2025-10-01T00:12:24.478Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.500Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.499Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.500Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.522Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.522Z"}}
{"timestamp":"2025-10-01T00:12:24.522Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.524Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.524Z"}}
{"timestamp":"2025-10-01T00:12:24.524Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.544Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.544Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.544Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.549Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.549Z"}}
{"timestamp":"2025-10-01T00:12:24.549Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.564Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.564Z"}}
{"timestamp":"2025-10-01T00:12:24.564Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:24.564Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.564Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.564Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:24.564Z"}}
[Server STDOUT]: 6:12:24 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.571Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.570Z"}}
{"timestamp":"2025-10-01T00:12:24.571Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.589Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.589Z"}}
{"timestamp":"2025-10-01T00:12:24.589Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.594Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.594Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.594Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.602Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.602Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.602Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.606Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.606Z"}}
{"timestamp":"2025-10-01T00:12:24.606Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.619Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.619Z"}}
{"timestamp":"2025-10-01T00:12:24.619Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.620Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.620Z"}}
{"timestamp":"2025-10-01T00:12:24.620Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.630Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.630Z"}}
{"timestamp":"2025-10-01T00:12:24.630Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.641Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.641Z"}}
{"timestamp":"2025-10-01T00:12:24.641Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.641Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.641Z"}}
{"timestamp":"2025-10-01T00:12:24.641Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.645Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.645Z"}}
{"timestamp":"2025-10-01T00:12:24.645Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.680Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.680Z"}}
{"timestamp":"2025-10-01T00:12:24.680Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.684Z","level":"info","message":"Connection metrics","context":{"activeConnections":-4298,"totalConnections":4300,"timestamp":"2025-10-01T00:12:24.684Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.684Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.684Z"}}
{"timestamp":"2025-10-01T00:12:24.684Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.698Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.698Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.698Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.699Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.699Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.699Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.705Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.705Z"}}
{"timestamp":"2025-10-01T00:12:24.705Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.713Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.713Z"}}
{"timestamp":"2025-10-01T00:12:24.713Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.723Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.723Z"}}
{"timestamp":"2025-10-01T00:12:24.723Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.724Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.724Z"}}
{"timestamp":"2025-10-01T00:12:24.724Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.739Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.739Z"}}
{"timestamp":"2025-10-01T00:12:24.739Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.739Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.739Z"}}
{"timestamp":"2025-10-01T00:12:24.739Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.754Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.754Z"}}
{"timestamp":"2025-10-01T00:12:24.754Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.760Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.760Z"}}
{"timestamp":"2025-10-01T00:12:24.760Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.761Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.761Z"}}
{"timestamp":"2025-10-01T00:12:24.761Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.783Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.783Z"}}
{"timestamp":"2025-10-01T00:12:24.783Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.785Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.785Z"}}
{"timestamp":"2025-10-01T00:12:24.785Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.800Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.800Z"}}
{"timestamp":"2025-10-01T00:12:24.800Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.812Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.812Z"}}
{"timestamp":"2025-10-01T00:12:24.812Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.813Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.813Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.813Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.814Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.814Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.814Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.842Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.842Z"}}
{"timestamp":"2025-10-01T00:12:24.842Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.842Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.842Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.843Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.855Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.855Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.855Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.877Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.877Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.877Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.913Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.913Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.913Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.917Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.917Z"}}
{"timestamp":"2025-10-01T00:12:24.917Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.917Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.917Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.917Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.932Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.932Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.932Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.939Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.939Z"}}
{"timestamp":"2025-10-01T00:12:24.939Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.961Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:24.961Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:24.961Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:24 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.001Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.001Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.001Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.010Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.010Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.010Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.021Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.021Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.021Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.071Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.071Z"}}
{"timestamp":"2025-10-01T00:12:25.071Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.074Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.074Z"}}
{"timestamp":"2025-10-01T00:12:25.074Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.090Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.090Z"}}
{"timestamp":"2025-10-01T00:12:25.090Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.100Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.100Z"}}
{"timestamp":"2025-10-01T00:12:25.100Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.107Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.107Z"}}
{"timestamp":"2025-10-01T00:12:25.107Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.110Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.110Z"}}
{"timestamp":"2025-10-01T00:12:25.110Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.110Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.110Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.110Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.129Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.12%"}}
{"timestamp":"2025-10-01T00:12:25.129Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.129Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.13%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.150Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.150Z"}}
{"timestamp":"2025-10-01T00:12:25.150Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.151Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.151Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.151Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.159Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.159Z"}}
{"timestamp":"2025-10-01T00:12:25.159Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.164Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.164Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.164Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.175Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.175Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.175Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.181Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.181Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.181Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.195Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.195Z"}}
{"timestamp":"2025-10-01T00:12:25.195Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.201Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.201Z"}}
{"timestamp":"2025-10-01T00:12:25.201Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.212Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.212Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.212Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.228Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.228Z"}}
{"timestamp":"2025-10-01T00:12:25.228Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.250Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.250Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.250Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.252Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.252Z"}}
{"timestamp":"2025-10-01T00:12:25.252Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.265Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.265Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.265Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.268Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.268Z"}}
{"timestamp":"2025-10-01T00:12:25.268Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.272Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.272Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.272Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.304Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.304Z"}}
{"timestamp":"2025-10-01T00:12:25.304Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.317Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.317Z"}}
{"timestamp":"2025-10-01T00:12:25.317Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.319Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.319Z"}}
{"timestamp":"2025-10-01T00:12:25.319Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.352Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.352Z"}}
{"timestamp":"2025-10-01T00:12:25.352Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.359Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.359Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.359Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.377Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.377Z"}}
{"timestamp":"2025-10-01T00:12:25.377Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.382Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.382Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.382Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.385Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.385Z"}}
{"timestamp":"2025-10-01T00:12:25.385Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.389Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.389Z"}}
{"timestamp":"2025-10-01T00:12:25.389Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.396Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.396Z"}}
{"timestamp":"2025-10-01T00:12:25.396Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.427Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.427Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.427Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.431Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.431Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.431Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.439Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.439Z"}}
{"timestamp":"2025-10-01T00:12:25.439Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.465Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.465Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.465Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.472Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.472Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.472Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.479Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.479Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.479Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.487Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.487Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.487Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.492Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.492Z"}}
{"timestamp":"2025-10-01T00:12:25.492Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.504Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.504Z"}}
{"timestamp":"2025-10-01T00:12:25.504Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.518Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.518Z"}}
{"timestamp":"2025-10-01T00:12:25.518Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.537Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.537Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.537Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.561Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.561Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.561Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.572Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.572Z"}}
{"timestamp":"2025-10-01T00:12:25.572Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.590Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.590Z"}}
{"timestamp":"2025-10-01T00:12:25.590Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.596Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.596Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.596Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.597Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.597Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.597Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.607Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.607Z"}}
{"timestamp":"2025-10-01T00:12:25.607Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.612Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.612Z"}}
{"timestamp":"2025-10-01T00:12:25.612Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.654Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.654Z"}}
{"timestamp":"2025-10-01T00:12:25.655Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.658Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.658Z"}}
{"timestamp":"2025-10-01T00:12:25.658Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.662Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.662Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.662Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.705Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.705Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.705Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.709Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.709Z"}}
{"timestamp":"2025-10-01T00:12:25.709Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.710Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.710Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.710Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.724Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.724Z"}}
{"timestamp":"2025-10-01T00:12:25.724Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.726Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.726Z"}}
{"timestamp":"2025-10-01T00:12:25.726Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.751Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.751Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.751Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.751Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.751Z"}}
{"timestamp":"2025-10-01T00:12:25.751Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.787Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.787Z"}}
{"timestamp":"2025-10-01T00:12:25.787Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.808Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.808Z"}}
{"timestamp":"2025-10-01T00:12:25.809Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/pos/sales 200 in 1ms :: []
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.812Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.812Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.812Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.813Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.813Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
{"timestamp":"2025-10-01T00:12:25.813Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:25.813Z"}}
[Server STDOUT]: 6:12:25 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.824Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.824Z"}}
{"timestamp":"2025-10-01T00:12:25.824Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.829Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.829Z"}}
{"timestamp":"2025-10-01T00:12:25.829Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.842Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.842Z"}}
{"timestamp":"2025-10-01T00:12:25.842Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.852Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.852Z"}}
{"timestamp":"2025-10-01T00:12:25.852Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.877Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.877Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.877Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.880Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.880Z"}}
{"timestamp":"2025-10-01T00:12:25.881Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.931Z","level":"info","message":"Connection metrics","context":{"activeConnections":-4398,"totalConnections":4400,"timestamp":"2025-10-01T00:12:25.930Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.931Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.931Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.931Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.933Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.954Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.954Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.954Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.958Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.958Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.958Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.965Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.965Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.965Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.991Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.991Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.991Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.998Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:25.998Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:25.998Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:25 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.016Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.016Z"}}
{"timestamp":"2025-10-01T00:12:26.016Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.018Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.018Z"}}
{"timestamp":"2025-10-01T00:12:26.018Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.019Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.019Z"}}
{"timestamp":"2025-10-01T00:12:26.019Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.022Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.022Z"}}
{"timestamp":"2025-10-01T00:12:26.022Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.027Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.027Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.027Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.027Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.027Z"}}
{"timestamp":"2025-10-01T00:12:26.027Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.031Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.031Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.031Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.031Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.031Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.031Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:26.031Z"}}
[Server STDOUT]: 6:12:26 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.037Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.037Z"}}
{"timestamp":"2025-10-01T00:12:26.037Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.050Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.050Z"}}
{"timestamp":"2025-10-01T00:12:26.050Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.060Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.060Z"}}
{"timestamp":"2025-10-01T00:12:26.060Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.069Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.069Z"}}
{"timestamp":"2025-10-01T00:12:26.069Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.070Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.070Z"}}
{"timestamp":"2025-10-01T00:12:26.070Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.072Z"}}
{"timestamp":"2025-10-01T00:12:26.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.137Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.137Z"}}
{"timestamp":"2025-10-01T00:12:26.137Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.143Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.143Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.143Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.144Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.144Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.144Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.181Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.181Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.181Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.182Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.182Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.182Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.182Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.182Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.182Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.193Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.193Z"}}
{"timestamp":"2025-10-01T00:12:26.193Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.199Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.199Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.199Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.204Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.204Z"}}
{"timestamp":"2025-10-01T00:12:26.204Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.218Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.218Z"}}
{"timestamp":"2025-10-01T00:12:26.218Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.240Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.240Z"}}
{"timestamp":"2025-10-01T00:12:26.240Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.266Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.266Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.266Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.272Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.272Z"}}
{"timestamp":"2025-10-01T00:12:26.272Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.288Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.288Z"}}
{"timestamp":"2025-10-01T00:12:26.288Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.291Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.291Z"}}
{"timestamp":"2025-10-01T00:12:26.291Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.315Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.315Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.315Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.320Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.320Z"}}
{"timestamp":"2025-10-01T00:12:26.320Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.334Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.334Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.334Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.361Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.361Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.361Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.380Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.380Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.381Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.381Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.381Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.381Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.433Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.433Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.433Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.437Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.437Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.437Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.442Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.442Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.442Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.450Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.450Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.450Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.467Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.467Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.467Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.470Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.470Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.470Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.499Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.499Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.499Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.518Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.518Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.518Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.541Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.541Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.541Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.545Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.545Z"}}
{"timestamp":"2025-10-01T00:12:26.545Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.548Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.548Z"}}
{"timestamp":"2025-10-01T00:12:26.548Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.568Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.568Z"}}
{"timestamp":"2025-10-01T00:12:26.568Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.613Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.613Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.613Z"}}
{"timestamp":"2025-10-01T00:12:26.614Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.616Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.616Z"}}
{"timestamp":"2025-10-01T00:12:26.616Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.625Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.625Z"}}
{"timestamp":"2025-10-01T00:12:26.625Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.634Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.634Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.634Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.634Z"}}
{"timestamp":"2025-10-01T00:12:26.634Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.650Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.650Z"}}
{"timestamp":"2025-10-01T00:12:26.650Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.651Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.651Z"}}
{"timestamp":"2025-10-01T00:12:26.651Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.656Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.656Z"}}
{"timestamp":"2025-10-01T00:12:26.656Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.658Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.658Z"}}
{"timestamp":"2025-10-01T00:12:26.659Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.659Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.659Z"}}
{"timestamp":"2025-10-01T00:12:26.659Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.694Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.694Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.694Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.708Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.708Z"}}
{"timestamp":"2025-10-01T00:12:26.708Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
{"timestamp":"2025-10-01T00:12:26.709Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.709Z"}}
{"timestamp":"2025-10-01T00:12:26.709Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:26 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.718Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.718Z"}}
{"timestamp":"2025-10-01T00:12:26.718Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.718Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.718Z"}}
{"timestamp":"2025-10-01T00:12:26.718Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.718Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.718Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.718Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:26.718Z"}}
[Server STDOUT]: 6:12:26 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.737Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.737Z"}}
{"timestamp":"2025-10-01T00:12:26.737Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.742Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.742Z"}}
{"timestamp":"2025-10-01T00:12:26.742Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.746Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.746Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.746Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.760Z","level":"info","message":"Potential memory leak detected","context":{"rssToHeapRatio":"4.46","rss":125,"heapUsed":28}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.839Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.839Z"}}
{"timestamp":"2025-10-01T00:12:26.839Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.848Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.848Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.848Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.849Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.849Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.849Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.858Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.858Z"}}
{"timestamp":"2025-10-01T00:12:26.858Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.859Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.859Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.859Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.918Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.918Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.918Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.921Z"}}
{"timestamp":"2025-10-01T00:12:26.921Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:26.921Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.921Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:26.921Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:26.921Z"}}
[Server STDOUT]: 6:12:26 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.924Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.924Z"}}
{"timestamp":"2025-10-01T00:12:26.924Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.941Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.941Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.941Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.942Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.942Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.942Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.948Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.948Z"}}
{"timestamp":"2025-10-01T00:12:26.948Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:26 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.964Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.964Z"}}
{"timestamp":"2025-10-01T00:12:26.964Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:26 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.980Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.980Z"}}
{"timestamp":"2025-10-01T00:12:26.980Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:26 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:26.994Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:26.994Z"}}
{"timestamp":"2025-10-01T00:12:26.994Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/customers 200 in 6ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.018Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.018Z"}}
{"timestamp":"2025-10-01T00:12:27.018Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:27 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.020Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.020Z"}}
{"timestamp":"2025-10-01T00:12:27.020Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:27 PM [express] GET /api/staff 200 in 3ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.024Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.024Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.024Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.027Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.027Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.027Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.040Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.040Z"}}
{"timestamp":"2025-10-01T00:12:27.040Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.045Z"}}
{"timestamp":"2025-10-01T00:12:27.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.048Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.048Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.048Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.050Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.050Z"}}
{"timestamp":"2025-10-01T00:12:27.050Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.051Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.051Z"}}
{"timestamp":"2025-10-01T00:12:27.051Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.072Z"}}
{"timestamp":"2025-10-01T00:12:27.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.085Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.085Z"}}
{"timestamp":"2025-10-01T00:12:27.085Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.102Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.102Z"}}
{"timestamp":"2025-10-01T00:12:27.102Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.127Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.127Z"}}
{"timestamp":"2025-10-01T00:12:27.127Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.131Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.131Z"}}
{"timestamp":"2025-10-01T00:12:27.131Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.143Z","level":"info","message":"Connection metrics","context":{"activeConnections":-4498,"totalConnections":4500,"timestamp":"2025-10-01T00:12:27.143Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.143Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.143Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.143Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.151Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.151Z"}}
{"timestamp":"2025-10-01T00:12:27.151Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.156Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.156Z"}}
{"timestamp":"2025-10-01T00:12:27.156Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.177Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.177Z"}}
{"timestamp":"2025-10-01T00:12:27.177Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.179Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.179Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.179Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.183Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.183Z"}}
{"timestamp":"2025-10-01T00:12:27.183Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.188Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.188Z"}}
{"timestamp":"2025-10-01T00:12:27.188Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.196Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.196Z"}}
{"timestamp":"2025-10-01T00:12:27.196Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.200Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.200Z"}}
{"timestamp":"2025-10-01T00:12:27.200Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.224Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.224Z"}}
{"timestamp":"2025-10-01T00:12:27.224Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.249Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.249Z"}}
{"timestamp":"2025-10-01T00:12:27.249Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.257Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.257Z"}}
{"timestamp":"2025-10-01T00:12:27.257Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.266Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.266Z"}}
{"timestamp":"2025-10-01T00:12:27.266Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.267Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.267Z"}}
{"timestamp":"2025-10-01T00:12:27.267Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.278Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.278Z"}}
{"timestamp":"2025-10-01T00:12:27.278Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.296Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.296Z"}}
{"timestamp":"2025-10-01T00:12:27.296Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.300Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.300Z"}}
{"timestamp":"2025-10-01T00:12:27.300Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.306Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.306Z"}}
{"timestamp":"2025-10-01T00:12:27.306Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.314Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.314Z"}}
{"timestamp":"2025-10-01T00:12:27.315Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.315Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.315Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.315Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.330Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.330Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.330Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.359Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.359Z"}}
{"timestamp":"2025-10-01T00:12:27.359Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.368Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.368Z"}}
{"timestamp":"2025-10-01T00:12:27.368Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.371Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.371Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.371Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.372Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.372Z"}}
{"timestamp":"2025-10-01T00:12:27.372Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.374Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.374Z"}}
{"timestamp":"2025-10-01T00:12:27.374Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.400Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.400Z"}}
{"timestamp":"2025-10-01T00:12:27.400Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.419Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.419Z"}}
{"timestamp":"2025-10-01T00:12:27.419Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.457Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.457Z"}}
{"timestamp":"2025-10-01T00:12:27.457Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.460Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.460Z"}}
{"timestamp":"2025-10-01T00:12:27.460Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.478Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.478Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.478Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.484Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.484Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.484Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.491Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.491Z"}}
{"timestamp":"2025-10-01T00:12:27.491Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.515Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.515Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.515Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.516Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.516Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.516Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.530Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.530Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.530Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.554Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.554Z"}}
{"timestamp":"2025-10-01T00:12:27.554Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.563Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.563Z"}}
{"timestamp":"2025-10-01T00:12:27.563Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/pos/sales 200 in 0ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.578Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.578Z"}}
{"timestamp":"2025-10-01T00:12:27.578Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:27.578Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.578Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.578Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:27.578Z"}}
[Server STDOUT]: 6:12:27 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.589Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.589Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.589Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.589Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.589Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.589Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:27.589Z"}}
[Server STDOUT]: 6:12:27 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.605Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.605Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.605Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.605Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.605Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.605Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.606Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.606Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.606Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:27.606Z"}}
[Server STDOUT]: 6:12:27 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.609Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.609Z"}}
{"timestamp":"2025-10-01T00:12:27.609Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.641Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.641Z"}}
{"timestamp":"2025-10-01T00:12:27.641Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.646Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.646Z"}}
{"timestamp":"2025-10-01T00:12:27.646Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.669Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.669Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.669Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.677Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.677Z"}}
{"timestamp":"2025-10-01T00:12:27.677Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.700Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.700Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.700Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.703Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.703Z"}}
{"timestamp":"2025-10-01T00:12:27.703Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.713Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.713Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.713Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.729Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.729Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.729Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.731Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.731Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.731Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.741Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.741Z"}}
{"timestamp":"2025-10-01T00:12:27.741Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.742Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.742Z"}}
{"timestamp":"2025-10-01T00:12:27.742Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.762Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.762Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.763Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.793Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.793Z"}}
{"timestamp":"2025-10-01T00:12:27.793Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.795Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.795Z"}}
{"timestamp":"2025-10-01T00:12:27.795Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.813Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.813Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.813Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.820Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.820Z"}}
{"timestamp":"2025-10-01T00:12:27.820Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.838Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.838Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.838Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.869Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.869Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.869Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.889Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.889Z"}}
{"timestamp":"2025-10-01T00:12:27.889Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.891Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.891Z"}}
{"timestamp":"2025-10-01T00:12:27.891Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.897Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.897Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.897Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.914Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.914Z"}}
{"timestamp":"2025-10-01T00:12:27.914Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.928Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.928Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.929Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.935Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.935Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.935Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.944Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.944Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.944Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.947Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.947Z"}}
  Progress: 32% | RPS: 85 | Avg RT: 1ms | Errors: 3.5%
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.947Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.981Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.981Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.981Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.982Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.982Z"}}
{"timestamp":"2025-10-01T00:12:27.982Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.982Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.982Z"}}
{"timestamp":"2025-10-01T00:12:27.982Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.992Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:27.992Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:27.992Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:27 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.022Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.022Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.022Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.026Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.026Z"}}
{"timestamp":"2025-10-01T00:12:28.026Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.049Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.049Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.049Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.064Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.064Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.064Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.064Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.064Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.064Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:28.064Z"}}
[Server STDOUT]: 6:12:28 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.087Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.087Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.087Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.099Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.099Z"}}
{"timestamp":"2025-10-01T00:12:28.099Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
{"timestamp":"2025-10-01T00:12:28.099Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.099Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.099Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.101Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.101Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.101Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.101Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.101Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.101Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:28.101Z"}}
[Server STDOUT]: 6:12:28 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.103Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.103Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.103Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.119Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.119Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.119Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.129Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.15%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.130Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.130Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.16%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.162Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.162Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.162Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.164Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.164Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.164Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.165Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.165Z"}}
{"timestamp":"2025-10-01T00:12:28.165Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.196Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.196Z"}}
{"timestamp":"2025-10-01T00:12:28.197Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.199Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.199Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.199Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.240Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.240Z"}}
{"timestamp":"2025-10-01T00:12:28.240Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.244Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.244Z"}}
{"timestamp":"2025-10-01T00:12:28.244Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.245Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.245Z"}}
{"timestamp":"2025-10-01T00:12:28.245Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.260Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.260Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.260Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.261Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.261Z"}}
{"timestamp":"2025-10-01T00:12:28.262Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.283Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.283Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.283Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.293Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.293Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.293Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.301Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.301Z"}}
{"timestamp":"2025-10-01T00:12:28.301Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.305Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.305Z"}}
{"timestamp":"2025-10-01T00:12:28.305Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.336Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.336Z"}}
{"timestamp":"2025-10-01T00:12:28.336Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.336Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.336Z"}}
{"timestamp":"2025-10-01T00:12:28.336Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.355Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.355Z"}}
{"timestamp":"2025-10-01T00:12:28.355Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.399Z","level":"info","message":"Connection metrics","context":{"activeConnections":-4598,"totalConnections":4600,"timestamp":"2025-10-01T00:12:28.399Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.399Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.399Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.399Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.411Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.411Z"}}
{"timestamp":"2025-10-01T00:12:28.411Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.421Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.421Z"}}
{"timestamp":"2025-10-01T00:12:28.421Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.443Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.443Z"}}
{"timestamp":"2025-10-01T00:12:28.443Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.455Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.455Z"}}
{"timestamp":"2025-10-01T00:12:28.455Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.467Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.467Z"}}
{"timestamp":"2025-10-01T00:12:28.467Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.488Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.488Z"}}
{"timestamp":"2025-10-01T00:12:28.488Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.490Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.490Z"}}
{"timestamp":"2025-10-01T00:12:28.490Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.540Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.540Z"}}
{"timestamp":"2025-10-01T00:12:28.540Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.555Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.555Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.555Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.570Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.570Z"}}
{"timestamp":"2025-10-01T00:12:28.570Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.574Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.574Z"}}
{"timestamp":"2025-10-01T00:12:28.574Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.590Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.590Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.590Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.591Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.591Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.591Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.592Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.592Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.592Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.602Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.602Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.602Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.627Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.627Z"}}
{"timestamp":"2025-10-01T00:12:28.627Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.637Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.637Z"}}
{"timestamp":"2025-10-01T00:12:28.637Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.637Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.637Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.637Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:28.637Z"}}
[Server STDOUT]: 6:12:28 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.646Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.646Z"}}
{"timestamp":"2025-10-01T00:12:28.646Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.692Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.692Z"}}
{"timestamp":"2025-10-01T00:12:28.692Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.713Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.713Z"}}
{"timestamp":"2025-10-01T00:12:28.714Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.719Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.719Z"}}
{"timestamp":"2025-10-01T00:12:28.719Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/pos/sales 200 in 1ms :: []
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.735Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.735Z"}}
{"timestamp":"2025-10-01T00:12:28.735Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:28.735Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.735Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.735Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:28.735Z"}}
[Server STDOUT]: 6:12:28 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.736Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.736Z"}}
{"timestamp":"2025-10-01T00:12:28.736Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.744Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.744Z"}}
{"timestamp":"2025-10-01T00:12:28.744Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.770Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.770Z"}}
{"timestamp":"2025-10-01T00:12:28.770Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.781Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.781Z"}}
{"timestamp":"2025-10-01T00:12:28.781Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.791Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.791Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.792Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.796Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.796Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.796Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.809Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.809Z"}}
{"timestamp":"2025-10-01T00:12:28.809Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.814Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.814Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.814Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.828Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.828Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.828Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.847Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.847Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.847Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.854Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.854Z"}}
{"timestamp":"2025-10-01T00:12:28.854Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.893Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.893Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.893Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.911Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.911Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.911Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.962Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.962Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.962Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.970Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.970Z"}}
{"timestamp":"2025-10-01T00:12:28.971Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.975Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.975Z"}}
{"timestamp":"2025-10-01T00:12:28.975Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:28.978Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:28.978Z"}}
{"timestamp":"2025-10-01T00:12:28.978Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:28 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.048Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.048Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.048Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.056Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.056Z"}}
{"timestamp":"2025-10-01T00:12:29.056Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.056Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.056Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.056Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:29.056Z"}}
[Server STDOUT]: 6:12:29 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.064Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.064Z"}}
{"timestamp":"2025-10-01T00:12:29.064Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.080Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.080Z"}}
{"timestamp":"2025-10-01T00:12:29.080Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.083Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.083Z"}}
{"timestamp":"2025-10-01T00:12:29.083Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
{"timestamp":"2025-10-01T00:12:29.083Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.083Z"}}
{"timestamp":"2025-10-01T00:12:29.083Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.092Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.092Z"}}
{"timestamp":"2025-10-01T00:12:29.092Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.095Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.095Z"}}
{"timestamp":"2025-10-01T00:12:29.095Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:29.095Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.095Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.095Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:29.095Z"}}
[Server STDOUT]: 6:12:29 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.099Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.099Z"}}
{"timestamp":"2025-10-01T00:12:29.099Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.155Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.155Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.155Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.168Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.168Z"}}
{"timestamp":"2025-10-01T00:12:29.168Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.192Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.192Z"}}
{"timestamp":"2025-10-01T00:12:29.192Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.199Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.199Z"}}
{"timestamp":"2025-10-01T00:12:29.199Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.200Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.200Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.200Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.210Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.210Z"}}
{"timestamp":"2025-10-01T00:12:29.210Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.212Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.212Z"}}
{"timestamp":"2025-10-01T00:12:29.212Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.239Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.239Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.239Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.270Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.270Z"}}
{"timestamp":"2025-10-01T00:12:29.270Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.283Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.283Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.283Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.284Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.284Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.284Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.307Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.307Z"}}
{"timestamp":"2025-10-01T00:12:29.308Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:29 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.337Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.337Z"}}
{"timestamp":"2025-10-01T00:12:29.337Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.353Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.353Z"}}
{"timestamp":"2025-10-01T00:12:29.353Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.361Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.361Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.361Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.362Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.362Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.362Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.377Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.377Z"}}
{"timestamp":"2025-10-01T00:12:29.377Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.400Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.400Z"}}
{"timestamp":"2025-10-01T00:12:29.401Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.412Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.412Z"}}
{"timestamp":"2025-10-01T00:12:29.412Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.413Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.413Z"}}
{"timestamp":"2025-10-01T00:12:29.413Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.445Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.445Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.445Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.474Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.474Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.474Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.477Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.477Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.477Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.479Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.479Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.479Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.506Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.506Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.506Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.511Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.511Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.511Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.516Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.516Z"}}
{"timestamp":"2025-10-01T00:12:29.516Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.587Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.587Z"}}
{"timestamp":"2025-10-01T00:12:29.587Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.594Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.594Z"}}
{"timestamp":"2025-10-01T00:12:29.594Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.621Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.621Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.621Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.631Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.631Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.631Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.650Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.650Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.650Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.663Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.663Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.663Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.670Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.670Z"}}
{"timestamp":"2025-10-01T00:12:29.670Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.710Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.710Z"}}
{"timestamp":"2025-10-01T00:12:29.710Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.712Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.712Z"}}
{"timestamp":"2025-10-01T00:12:29.712Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.758Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.758Z"}}
{"timestamp":"2025-10-01T00:12:29.758Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.767Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.767Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.767Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.792Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.792Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.792Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.799Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.799Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.799Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.800Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.800Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.800Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.847Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.847Z"}}
{"timestamp":"2025-10-01T00:12:29.847Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.851Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.851Z"}}
{"timestamp":"2025-10-01T00:12:29.851Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.869Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.869Z"}}
{"timestamp":"2025-10-01T00:12:29.869Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.875Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.875Z"}}
{"timestamp":"2025-10-01T00:12:29.875Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.891Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.891Z"}}
{"timestamp":"2025-10-01T00:12:29.891Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.899Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.899Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.899Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.899Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.899Z"}}
{"timestamp":"2025-10-01T00:12:29.899Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.899Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.899Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.900Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:29.900Z"}}
[Server STDOUT]: 6:12:29 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.920Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.920Z"}}
{"timestamp":"2025-10-01T00:12:29.920Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.946Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.945Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.946Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.947Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.947Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.947Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.964Z","level":"info","message":"Connection metrics","context":{"activeConnections":-4698,"totalConnections":4700,"timestamp":"2025-10-01T00:12:29.964Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.964Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.964Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.964Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.965Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.965Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.965Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.976Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.976Z"}}
{"timestamp":"2025-10-01T00:12:29.976Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.989Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.989Z"}}
{"timestamp":"2025-10-01T00:12:29.989Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:29.994Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:29.994Z"}}
{"timestamp":"2025-10-01T00:12:29.994Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:29 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.020Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.020Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.020Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.020Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.020Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.020Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:30.020Z"}}
[Server STDOUT]: 6:12:30 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.050Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.050Z"}}
{"timestamp":"2025-10-01T00:12:30.050Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.094Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.094Z"}}
{"timestamp":"2025-10-01T00:12:30.094Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.094Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.094Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.094Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:30.094Z"}}
[Server STDOUT]: 6:12:30 PM [express] POST /api/pos/sales 400 in 1ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.103Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.103Z"}}
{"timestamp":"2025-10-01T00:12:30.103Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.124Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.124Z"}}
{"timestamp":"2025-10-01T00:12:30.124Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.132Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.132Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.132Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.163Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.163Z"}}
{"timestamp":"2025-10-01T00:12:30.163Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.191Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.191Z"}}
{"timestamp":"2025-10-01T00:12:30.191Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.233Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.233Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.233Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.253Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.253Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.253Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.257Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.257Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.257Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.261Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.261Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.261Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.297Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.297Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.297Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.298Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.298Z"}}
{"timestamp":"2025-10-01T00:12:30.298Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
{"timestamp":"2025-10-01T00:12:30.299Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.299Z"}}
{"timestamp":"2025-10-01T00:12:30.299Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.304Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.304Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.304Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.327Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.327Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.327Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:30.327Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.327Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:30.327Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:30.327Z"}}
[Server STDOUT]: 6:12:30 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.335Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.335Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.335Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.370Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.370Z"}}
{"timestamp":"2025-10-01T00:12:30.370Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.376Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.376Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.376Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.378Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.378Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.378Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.402Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.402Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.402Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.406Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.406Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.406Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.416Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.416Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.416Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.474Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.474Z"}}
{"timestamp":"2025-10-01T00:12:30.474Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.505Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.505Z"}}
{"timestamp":"2025-10-01T00:12:30.505Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.505Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.505Z"}}
{"timestamp":"2025-10-01T00:12:30.505Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.507Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.507Z"}}
{"timestamp":"2025-10-01T00:12:30.507Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.527Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.527Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.527Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.548Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.548Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.548Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:30.548Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.548Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:30.548Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:30.548Z"}}
[Server STDOUT]: 6:12:30 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.556Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.556Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.556Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.587Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.587Z"}}
{"timestamp":"2025-10-01T00:12:30.587Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.592Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.592Z"}}
{"timestamp":"2025-10-01T00:12:30.592Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.600Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.600Z"}}
{"timestamp":"2025-10-01T00:12:30.600Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.616Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.616Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.616Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.646Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.646Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.646Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.652Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.652Z"}}
{"timestamp":"2025-10-01T00:12:30.652Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.666Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.666Z"}}
{"timestamp":"2025-10-01T00:12:30.666Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.684Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.684Z"}}
{"timestamp":"2025-10-01T00:12:30.684Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.685Z"}}
{"timestamp":"2025-10-01T00:12:30.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.697Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.697Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.697Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.752Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.752Z"}}
{"timestamp":"2025-10-01T00:12:30.752Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.825Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.825Z"}}
{"timestamp":"2025-10-01T00:12:30.825Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.882Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.882Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.882Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.897Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.897Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.897Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.898Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.898Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.898Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.900Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.900Z"}}
{"timestamp":"2025-10-01T00:12:30.900Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.910Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.910Z"}}
{"timestamp":"2025-10-01T00:12:30.910Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.922Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.922Z"}}
{"timestamp":"2025-10-01T00:12:30.922Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.954Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.954Z"}}
{"timestamp":"2025-10-01T00:12:30.954Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.981Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.981Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.982Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:30.993Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:30.993Z"}}
{"timestamp":"2025-10-01T00:12:30.993Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:30 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.034Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.034Z"}}
{"timestamp":"2025-10-01T00:12:31.034Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.035Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.035Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.035Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.035Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.035Z"}}
{"timestamp":"2025-10-01T00:12:31.035Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.035Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.035Z"}}
{"timestamp":"2025-10-01T00:12:31.035Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.041Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.041Z"}}
{"timestamp":"2025-10-01T00:12:31.041Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.048Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.048Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.048Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.051Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.051Z"}}
{"timestamp":"2025-10-01T00:12:31.051Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.094Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.094Z"}}
{"timestamp":"2025-10-01T00:12:31.095Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.103Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.103Z"}}
{"timestamp":"2025-10-01T00:12:31.103Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.112Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.112Z"}}
{"timestamp":"2025-10-01T00:12:31.112Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.117Z","level":"info","message":"Starting performance optimization","context":{"aggressive":false}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.117Z","level":"info","message":"Starting memory optimization"}
{"timestamp":"2025-10-01T00:12:31.117Z","level":"info","message":"Starting memory optimization"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.117Z","level":"info","message":"Cache cleared","context":{"entriesRemoved":0,"approxBytesFreed":0}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.117Z","level":"info","message":"Memory optimization completed","context":{"memoryAfter":22}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.117Z","level":"info","message":"Cache cleared","context":{"entriesRemoved":0,"approxBytesFreed":0}}
{"timestamp":"2025-10-01T00:12:31.117Z","level":"info","message":"Memory optimization completed"}
{"timestamp":"2025-10-01T00:12:31.117Z","level":"info","message":"Connection cleanup completed"}
{"timestamp":"2025-10-01T00:12:31.117Z","level":"info","message":"Performance optimization completed","context":{"aggressive":false}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.119Z","level":"info","message":"High heap utilization detected","context":{"heapUtilization":"83.24","heapUsed":22,"heapTotal":27}}
{"timestamp":"2025-10-01T00:12:31.119Z","level":"info","message":"Potential memory leak detected","context":{"rssToHeapRatio":"3.59","rss":79,"heapUsed":22}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.119Z","level":"info","message":"Performance metrics collected","context":{"requests":{"total":25,"successful":24,"failed":1,"errorRate":4,"requestsPerSecond":0.4166666666666667},"responseTime":{"average":371,"p95":4},"system":{"memory":22,"heap":83}}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.131Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.33%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.131Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:12:31.131Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.34%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.158Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.158Z"}}
{"timestamp":"2025-10-01T00:12:31.158Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.198Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.198Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.198Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.213Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.213Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.213Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.247Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.247Z"}}
{"timestamp":"2025-10-01T00:12:31.247Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.250Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.250Z"}}
{"timestamp":"2025-10-01T00:12:31.250Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/profile 200 in 7ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.268Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.268Z"}}
{"timestamp":"2025-10-01T00:12:31.268Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.278Z","level":"info","message":"Load balancer metrics","context":{"totalInstances":0,"healthyInstances":0,"totalConnections":0,"totalRequests":0,"averageResponseTime":0,"errorRate":0,"currentLoad":0,"scalingEvents":0}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.279Z","level":"info","message":"Auto-scaler status","context":{"currentInstances":1,"activePolicies":5,"recentScaleUps":0,"recentScaleDowns":0,"failedEvents":0,"metricsDataPoints":0}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.284Z","level":"info","message":"High database pool utilization detected","context":{"utilization":100,"activeConnections":1,"totalConnections":1,"waitingClients":0}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.288Z","level":"info","message":"Database health check failed","context":{"error":"role \"testuser\" does not exist","totalErrors":2}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.319Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.319Z"}}
{"timestamp":"2025-10-01T00:12:31.319Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.341Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.341Z"}}
{"timestamp":"2025-10-01T00:12:31.341Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.342Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.342Z"}}
{"timestamp":"2025-10-01T00:12:31.342Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.342Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.342Z"}}
{"timestamp":"2025-10-01T00:12:31.342Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.345Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.345Z"}}
{"timestamp":"2025-10-01T00:12:31.345Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.346Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.346Z"}}
{"timestamp":"2025-10-01T00:12:31.346Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.366Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.366Z"}}
{"timestamp":"2025-10-01T00:12:31.367Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.386Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.386Z"}}
{"timestamp":"2025-10-01T00:12:31.387Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.402Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.402Z"}}
{"timestamp":"2025-10-01T00:12:31.402Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.412Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.412Z"}}
{"timestamp":"2025-10-01T00:12:31.412Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.442Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.442Z"}}
{"timestamp":"2025-10-01T00:12:31.442Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.442Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.442Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.442Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:31.442Z"}}
[Server STDOUT]: 6:12:31 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.473Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.473Z"}}
{"timestamp":"2025-10-01T00:12:31.473Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.487Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.487Z"}}
{"timestamp":"2025-10-01T00:12:31.487Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.498Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.498Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.498Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.506Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.506Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.506Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.523Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.523Z"}}
{"timestamp":"2025-10-01T00:12:31.523Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.526Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.526Z"}}
{"timestamp":"2025-10-01T00:12:31.526Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.526Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.526Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.526Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:31.526Z"}}
[Server STDOUT]: 6:12:31 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.542Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.542Z"}}
{"timestamp":"2025-10-01T00:12:31.542Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.550Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.550Z"}}
{"timestamp":"2025-10-01T00:12:31.550Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.572Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.572Z"}}
{"timestamp":"2025-10-01T00:12:31.572Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.582Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.582Z"}}
{"timestamp":"2025-10-01T00:12:31.582Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/marketing/campaigns 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.613Z"}}
{"timestamp":"2025-10-01T00:12:31.613Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.637Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.637Z"}}
{"timestamp":"2025-10-01T00:12:31.637Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.648Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.648Z"}}
{"timestamp":"2025-10-01T00:12:31.648Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.648Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.648Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.648Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.653Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.653Z"}}
{"timestamp":"2025-10-01T00:12:31.653Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.669Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.669Z"}}
{"timestamp":"2025-10-01T00:12:31.669Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.679Z","level":"info","message":"Connection metrics","context":{"activeConnections":-4798,"totalConnections":4800,"timestamp":"2025-10-01T00:12:31.679Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.679Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.679Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.679Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.693Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.693Z"}}
{"timestamp":"2025-10-01T00:12:31.693Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.729Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.729Z"}}
{"timestamp":"2025-10-01T00:12:31.729Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.753Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.753Z"}}
{"timestamp":"2025-10-01T00:12:31.753Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.769Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.769Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.769Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.836Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.836Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.836Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.891Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.891Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.891Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.911Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.911Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.911Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.949Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.949Z"}}
{"timestamp":"2025-10-01T00:12:31.949Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:31.949Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.949Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:31.949Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:31.949Z"}}
[Server STDOUT]: 6:12:31 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.950Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.950Z"}}
{"timestamp":"2025-10-01T00:12:31.950Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.979Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.979Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.979Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.992Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.992Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.992Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:31.999Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:31.999Z"}}
{"timestamp":"2025-10-01T00:12:31.999Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:31 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.000Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.000Z"}}
{"timestamp":"2025-10-01T00:12:32.000Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.007Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.007Z"}}
{"timestamp":"2025-10-01T00:12:32.007Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.012Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.012Z"}}
{"timestamp":"2025-10-01T00:12:32.012Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.035Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.035Z"}}
{"timestamp":"2025-10-01T00:12:32.035Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.036Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.036Z"}}
{"timestamp":"2025-10-01T00:12:32.036Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.091Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.091Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.092Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.119Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.119Z"}}
{"timestamp":"2025-10-01T00:12:32.119Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.129Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.129Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.129Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.181Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.181Z"}}
{"timestamp":"2025-10-01T00:12:32.181Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.216Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.216Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.216Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.291Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.291Z"}}
{"timestamp":"2025-10-01T00:12:32.291Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.294Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.294Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.294Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.298Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.298Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.298Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.298Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.298Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.298Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.303Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.303Z"}}
{"timestamp":"2025-10-01T00:12:32.303Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.339Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.339Z"}}
{"timestamp":"2025-10-01T00:12:32.339Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.351Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.351Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.351Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.379Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.379Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.379Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.396Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.396Z"}}
{"timestamp":"2025-10-01T00:12:32.397Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.419Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.419Z"}}
{"timestamp":"2025-10-01T00:12:32.419Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.433Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.433Z"}}
{"timestamp":"2025-10-01T00:12:32.433Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.443Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.443Z"}}
{"timestamp":"2025-10-01T00:12:32.443Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.456Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.456Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.456Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.487Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.487Z"}}
{"timestamp":"2025-10-01T00:12:32.487Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.491Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.491Z"}}
{"timestamp":"2025-10-01T00:12:32.491Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.571Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.571Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.571Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.616Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.616Z"}}
{"timestamp":"2025-10-01T00:12:32.616Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.620Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.620Z"}}
{"timestamp":"2025-10-01T00:12:32.620Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.626Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.626Z"}}
{"timestamp":"2025-10-01T00:12:32.626Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.629Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.629Z"}}
{"timestamp":"2025-10-01T00:12:32.629Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.637Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.637Z"}}
{"timestamp":"2025-10-01T00:12:32.637Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.654Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.654Z"}}
{"timestamp":"2025-10-01T00:12:32.654Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.685Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.685Z"}}
{"timestamp":"2025-10-01T00:12:32.685Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.700Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.700Z"}}
{"timestamp":"2025-10-01T00:12:32.701Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.745Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.745Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.745Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
{"timestamp":"2025-10-01T00:12:32.746Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.746Z"}}
{"timestamp":"2025-10-01T00:12:32.747Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.759Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.759Z"}}
{"timestamp":"2025-10-01T00:12:32.759Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.769Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.769Z"}}
{"timestamp":"2025-10-01T00:12:32.769Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.786Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.786Z"}}
{"timestamp":"2025-10-01T00:12:32.786Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.791Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.791Z"}}
{"timestamp":"2025-10-01T00:12:32.791Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.802Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.802Z"}}
{"timestamp":"2025-10-01T00:12:32.802Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.805Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.805Z"}}
{"timestamp":"2025-10-01T00:12:32.805Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.809Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.809Z"}}
{"timestamp":"2025-10-01T00:12:32.809Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.809Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.809Z"}}
{"timestamp":"2025-10-01T00:12:32.809Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.900Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.900Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.900Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.973Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.973Z"}}
{"timestamp":"2025-10-01T00:12:32.973Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.994Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:32.994Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:32.994Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:32 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.015Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.015Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.015Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.022Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.022Z"}}
{"timestamp":"2025-10-01T00:12:33.022Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.034Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.034Z"}}
{"timestamp":"2025-10-01T00:12:33.034Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.035Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.035Z"}}
{"timestamp":"2025-10-01T00:12:33.035Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.051Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.051Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.051Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:33.051Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.051Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.051Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:33.051Z"}}
[Server STDOUT]: 6:12:33 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.098Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.098Z"}}
{"timestamp":"2025-10-01T00:12:33.098Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.115Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.115Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.115Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.168Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.168Z"}}
{"timestamp":"2025-10-01T00:12:33.168Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.171Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.171Z"}}
{"timestamp":"2025-10-01T00:12:33.171Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.194Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.194Z"}}
{"timestamp":"2025-10-01T00:12:33.194Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.195Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.195Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.195Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.253Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.253Z"}}
{"timestamp":"2025-10-01T00:12:33.253Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.270Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.270Z"}}
{"timestamp":"2025-10-01T00:12:33.270Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.282Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.282Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.282Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.334Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.334Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.334Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.350Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.350Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.350Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.371Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.371Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.371Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.375Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.375Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.375Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.387Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.387Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.387Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.444Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.444Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.444Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.453Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.453Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.453Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.457Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.457Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.457Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.465Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.465Z"}}
{"timestamp":"2025-10-01T00:12:33.465Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.492Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.492Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.492Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.549Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.549Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.549Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.571Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.571Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.571Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.612Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.612Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.612Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.640Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.640Z"}}
{"timestamp":"2025-10-01T00:12:33.640Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.660Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.660Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.660Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.661Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.661Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.661Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.677Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.677Z"}}
{"timestamp":"2025-10-01T00:12:33.677Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.697Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.697Z"}}
{"timestamp":"2025-10-01T00:12:33.697Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.755Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.755Z"}}
{"timestamp":"2025-10-01T00:12:33.755Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.771Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.771Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.771Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.811Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.811Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.811Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.872Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.872Z"}}
{"timestamp":"2025-10-01T00:12:33.872Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.910Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.910Z"}}
{"timestamp":"2025-10-01T00:12:33.910Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.928Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.928Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.928Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.930Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:33.930Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:33.931Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:33 PM [express] GET /api/health 200 in 2ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.002Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.002Z"}}
{"timestamp":"2025-10-01T00:12:34.002Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/customers 200 in 1ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.025Z","level":"info","message":"Connection metrics","context":{"activeConnections":-4898,"totalConnections":4900,"timestamp":"2025-10-01T00:12:34.025Z"}}
{"timestamp":"2025-10-01T00:12:34.025Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.025Z"}}
{"timestamp":"2025-10-01T00:12:34.025Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
6:12:34 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.027Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.027Z"}}
{"timestamp":"2025-10-01T00:12:34.027Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.127Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.127Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.127Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.131Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.54%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.131Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:12:34.131Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.56%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.148Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.148Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.148Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.149Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.149Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.149Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.180Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.180Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.180Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.218Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.218Z"}}
{"timestamp":"2025-10-01T00:12:34.218Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:34.218Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.218Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.218Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:34.218Z"}}
[Server STDOUT]: 6:12:34 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.255Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.255Z"}}
{"timestamp":"2025-10-01T00:12:34.255Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.280Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.280Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.280Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/services 200 in 2ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.313Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.313Z"}}
{"timestamp":"2025-10-01T00:12:34.313Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.326Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.326Z"}}
{"timestamp":"2025-10-01T00:12:34.326Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.339Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.339Z"}}
{"timestamp":"2025-10-01T00:12:34.339Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.376Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.376Z"}}
{"timestamp":"2025-10-01T00:12:34.376Z","level":"info","message":"Optional authentication successful","context":{"path":"/customers","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/customers 200 in 0ms :: [{"id":"baf27cad-903d-427a-8e60-9813ae7210f0",â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.482Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.482Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.482Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.505Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.505Z"}}
{"timestamp":"2025-10-01T00:12:34.505Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.505Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.505Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.505Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:34.505Z"}}
[Server STDOUT]: 6:12:34 PM [express] POST /api/marketing/campaigns 400 in 0ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.510Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.510Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.510Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.532Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.532Z"}}
{"timestamp":"2025-10-01T00:12:34.532Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.554Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.554Z"}}
{"timestamp":"2025-10-01T00:12:34.554Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.580Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.580Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.580Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.589Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.589Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.589Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.613Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.613Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.613Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.632Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.632Z"}}
{"timestamp":"2025-10-01T00:12:34.632Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.656Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.656Z"}}
{"timestamp":"2025-10-01T00:12:34.656Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.684Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.684Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.684Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.700Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.700Z"}}
{"timestamp":"2025-10-01T00:12:34.701Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.762Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.762Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.762Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.767Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.767Z"}}
{"timestamp":"2025-10-01T00:12:34.767Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.829Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.829Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.829Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[TestHttpClient] Sending POST to /api/marketing/campaigns with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.858Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.858Z"}}
{"timestamp":"2025-10-01T00:12:34.859Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/marketing/campaigns (hashed: 2aec8242), ADMIN_TOKEN set: true
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.859Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.859Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/marketing/campaigns
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.859Z","level":"info","message":"Authentication successful","context":{"path":"/api/marketing/campaigns","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:34.859Z"}}
[Server STDOUT]: 6:12:34 PM [express] POST /api/marketing/campaigns 400 in 1ms :: {"message":"Type is required"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.878Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.878Z"}}
{"timestamp":"2025-10-01T00:12:34.878Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.902Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.902Z"}}
{"timestamp":"2025-10-01T00:12:34.902Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.942Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.942Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.942Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.952Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.952Z"}}
{"timestamp":"2025-10-01T00:12:34.952Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.965Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.965Z"}}
{"timestamp":"2025-10-01T00:12:34.965Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:34.991Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:34.991Z"}}
{"timestamp":"2025-10-01T00:12:34.991Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:34 PM [express] GET /api/analytics 200 in 0ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.045Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.045Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.045Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.072Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.072Z"}}
{"timestamp":"2025-10-01T00:12:35.072Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.084Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.084Z"}}
{"timestamp":"2025-10-01T00:12:35.084Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.100Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.100Z"}}
{"timestamp":"2025-10-01T00:12:35.100Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.107Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.107Z"}}
{"timestamp":"2025-10-01T00:12:35.107Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.194Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.194Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.194Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.195Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.195Z"}}
{"timestamp":"2025-10-01T00:12:35.195Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.219Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.219Z"}}
{"timestamp":"2025-10-01T00:12:35.219Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.284Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.284Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.284Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.323Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.323Z"}}
{"timestamp":"2025-10-01T00:12:35.323Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.326Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.326Z"}}
{"timestamp":"2025-10-01T00:12:35.326Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.334Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.334Z"}}
{"timestamp":"2025-10-01T00:12:35.334Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.395Z"}}
{"timestamp":"2025-10-01T00:12:35.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/analytics","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/analytics 200 in 1ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReveâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.448Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.448Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.448Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.553Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.553Z"}}
{"timestamp":"2025-10-01T00:12:35.553Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.560Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.560Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.560Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.567Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.567Z"}}
{"timestamp":"2025-10-01T00:12:35.567Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.667Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.667Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.667Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.680Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.680Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.680Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.755Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.755Z"}}
{"timestamp":"2025-10-01T00:12:35.755Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.788Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.788Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.788Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.826Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.826Z"}}
{"timestamp":"2025-10-01T00:12:35.826Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/profile 200 in 0ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.830Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.830Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.830Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.847Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.847Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.847Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.893Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.893Z"}}
{"timestamp":"2025-10-01T00:12:35.893Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:35.933Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:35.933Z"}}
{"timestamp":"2025-10-01T00:12:35.933Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:35 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.050Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.050Z"}}
{"timestamp":"2025-10-01T00:12:36.050Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.112Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.111Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.112Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/marketing/performance 200 in 1ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.115Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.115Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.115Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.199Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.199Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.199Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.201Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.201Z"}}
{"timestamp":"2025-10-01T00:12:36.201Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/performance","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/marketing/performance 200 in 0ms :: {"summary":{"impressions":0,"clickâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.214Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.214Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.214Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.242Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.242Z"}}
{"timestamp":"2025-10-01T00:12:36.242Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/pos/sales 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.302Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.302Z"}}
{"timestamp":"2025-10-01T00:12:36.302Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.384Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.384Z"}}
{"timestamp":"2025-10-01T00:12:36.384Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.551Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.551Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.551Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.556Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.556Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.556Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:36.556Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.556Z"}}
[AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.556Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:36.556Z"}}
[Server STDOUT]: 6:12:36 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.604Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.604Z"}}
{"timestamp":"2025-10-01T00:12:36.604Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.606Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.606Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.606Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.675Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.675Z"}}
{"timestamp":"2025-10-01T00:12:36.675Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.763Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.763Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.763Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.854Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.854Z"}}
{"timestamp":"2025-10-01T00:12:36.854Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.917Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.917Z"}}
{"timestamp":"2025-10-01T00:12:36.917Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/health 200 in 0ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:36.985Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:36.985Z"}}
{"timestamp":"2025-10-01T00:12:36.985Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:36 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.017Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:37.017Z"}}
{"timestamp":"2025-10-01T00:12:37.017Z","level":"info","message":"Optional authentication successful","context":{"path":"/marketing/campaigns","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:37 PM [express] GET /api/marketing/campaigns 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.089Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:37.089Z"}}
{"timestamp":"2025-10-01T00:12:37.089Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:37 PM [express] GET /api/pos/sales 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.133Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.58%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.133Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:12:37.133Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.59%","reduction":"0.00%"}}
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.173Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:37.173Z"}}
{"timestamp":"2025-10-01T00:12:37.173Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:37.173Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:37.173Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
{"timestamp":"2025-10-01T00:12:37.173Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:37.173Z"}}
[Server STDOUT]: 6:12:37 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.203Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:37.203Z"}}
{"timestamp":"2025-10-01T00:12:37.203Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:37 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.361Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:37.361Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.361Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:37 PM [express] GET /api/inventory 200 in 0ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.395Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:37.395Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.395Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:37 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.397Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:37.397Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.397Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:37 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.735Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:37.735Z"}}
{"timestamp":"2025-10-01T00:12:37.735Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:37 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.788Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:37.788Z"}}
{"timestamp":"2025-10-01T00:12:37.788Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:37 PM [express] GET /api/loyalty/entries 200 in 0ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:37.870Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:37.870Z"}}
{"timestamp":"2025-10-01T00:12:37.870Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:37 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
  Progress: 48% | RPS: 11 | Avg RT: 1ms | Errors: 9.1%
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.005Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:38.005Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.005Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:38 PM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.008Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:38.008Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.008Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:38 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.054Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:38.054Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.054Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:38 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.126Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:38.126Z"}}
{"timestamp":"2025-10-01T00:12:38.126Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:38 PM [express] GET /api/staff 200 in 0ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.131Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:38.131Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.131Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:38 PM [express] GET /api/health 200 in 1ms :: {"status":"ok","env":"test","timestamp":"2025-10-â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.508Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:38.508Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.508Z","level":"info","message":"Optional authentication successful","context":{"path":"/appointments","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:38 PM [express] GET /api/appointments 200 in 0ms :: [{"customerId":"baf27cad-903d-427a-8e60-981â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.537Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:38.537Z"}}
{"timestamp":"2025-10-01T00:12:38.537Z","level":"info","message":"Optional authentication successful","context":{"path":"/profile","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:38 PM [express] GET /api/profile 200 in 1ms :: {"name":"Andreas For Men","description":"Calgaryâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.563Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:38.563Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.563Z","level":"info","message":"Optional authentication successful","context":{"path":"/inventory","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:38 PM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.762Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:38.762Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.762Z","level":"info","message":"Optional authentication successful","context":{"path":"/loyalty/entries","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:38 PM [express] GET /api/loyalty/entries 200 in 1ms :: []
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.791Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:38.791Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:38.791Z","level":"info","message":"Optional authentication successful","context":{"path":"/staff","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:38 PM [express] GET /api/staff 200 in 1ms :: [{"name":"Andreas Kowalski","email":"andreas@andreâ€¦
[TestHttpClient] Sending POST to /api/pos/sales with Authorization: Bearer test-admin-to...
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:39.000Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:39.000Z"}}
{"timestamp":"2025-10-01T00:12:39.000Z","level":"info","message":"Optional authentication successful","context":{"path":"/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: [AuthMiddleware] Received token for /api/pos/sales (hashed: 2aec8242), ADMIN_TOKEN set: true
{"timestamp":"2025-10-01T00:12:39.000Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:39.000Z"}}
[Server STDOUT]: [AuthMiddleware] Token validation SUCCEEDED for /api/pos/sales
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:39.000Z","level":"info","message":"Authentication successful","context":{"path":"/api/pos/sales","method":"POST","userId":"admin-1","ip":"127.0.0.1","userAgent":"node","timestamp":"2025-10-01T00:12:39.000Z"}}
[Server STDOUT]: 6:12:39 PM [express] POST /api/pos/sales 400 in 0ms :: {"message":"No line items provided"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:39.005Z","level":"info","message":"Connection metrics","context":{"activeConnections":-4998,"totalConnections":5000,"timestamp":"2025-10-01T00:12:39.005Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:39.005Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:39.005Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:39.005Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:39 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:39.037Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:39.037Z"}}
{"timestamp":"2025-10-01T00:12:39.038Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:39 PM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:39.356Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:39.356Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:39.356Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:39 PM [express] GET /api/health 200 in 0ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:39.570Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:39.570Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:39.570Z","level":"info","message":"Optional authentication successful","context":{"path":"/services","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:39 PM [express] GET /api/services 200 in 0ms :: [{"name":"Executive Cut","description":"Precisiâ€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:40.057Z","level":"info","message":"Admin token validation","context":{"valid":true,"tokenLength":29,"expectedLength":29,"timestamp":"2025-10-01T00:12:40.057Z"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:40.057Z","level":"info","message":"Optional authentication successful","context":{"path":"/health","method":"GET","userId":"admin-1","ip":"127.0.0.1"}}
[Server STDOUT]: 6:12:40 PM [express] GET /api/health 200 in 1ms :: {"status":"degraded","env":"test","timestamp":"20â€¦
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:40.134Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.61%"}}
{"timestamp":"2025-10-01T00:12:40.134Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:40.134Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.62%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"Starting performance optimization","context":{"aggressive":false}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"Starting memory optimization"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"Starting memory optimization"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"Cache cleared","context":{"entriesRemoved":0,"approxBytesFreed":0}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"Memory optimization completed","context":{"memoryAfter":21}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"Cache cleared","context":{"entriesRemoved":0,"approxBytesFreed":0}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"Memory optimization completed"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"Connection cleanup completed"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"Performance optimization completed","context":{"aggressive":false}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"High heap utilization detected, forcing garbage collection","context":{"heapUtilization":"89.71","heapUsed":21,"heapTotal":24}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"High heap utilization detected","context":{"heapUtilization":"89.72","heapUsed":21,"heapTotal":24}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.761Z","level":"info","message":"Potential memory leak detected","context":{"rssToHeapRatio":"4.14","rss":87,"heapUsed":21}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.766Z","level":"info","message":"Performance metrics collected","context":{"requests":{"total":5004,"successful":4794,"failed":210,"errorRate":4.1966426858513195,"requestsPerSecond":83.4},"responseTime":{"average":0,"p95":1},"system":{"memory":22,"heap":82}}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.766Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"84.11%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.766Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.766Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"84.12%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.905Z","level":"info","message":"Load balancer metrics","context":{"totalInstances":0,"healthyInstances":0,"totalConnections":0,"totalRequests":0,"averageResponseTime":0,"errorRate":0,"currentLoad":0,"scalingEvents":0}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.906Z","level":"info","message":"Auto-scaler status","context":{"currentInstances":1,"activePolicies":5,"recentScaleUps":0,"recentScaleDowns":0,"failedEvents":0,"metricsDataPoints":0}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:41.912Z","level":"info","message":"Database health check failed","context":{"error":"role \"testuser\" does not exist","totalErrors":2}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:43.136Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.64%"}}
{"timestamp":"2025-10-01T00:12:43.136Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:43.136Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.66%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:44.767Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"84.40%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:44.767Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:12:44.767Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"84.41%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:46.119Z","level":"info","message":"High heap utilization detected","context":{"heapUtilization":"83.70","heapUsed":22,"heapTotal":27}}
{"timestamp":"2025-10-01T00:12:46.119Z","level":"info","message":"Potential memory leak detected","context":{"rssToHeapRatio":"3.59","rss":79,"heapUsed":22}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:46.136Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.75%"}}
{"timestamp":"2025-10-01T00:12:46.136Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:46.136Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.77%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:47.769Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"84.43%"}}
{"timestamp":"2025-10-01T00:12:47.769Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:47.769Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"84.44%","reduction":"0.00%"}}
  Progress: 65% | RPS: 0 | Avg RT: 0ms | Errors: 0.0%
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:49.137Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.78%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:49.137Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:12:49.137Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.80%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:50.770Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"84.46%"}}
{"timestamp":"2025-10-01T00:12:50.770Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:50.770Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"84.47%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:52.139Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.82%"}}
{"timestamp":"2025-10-01T00:12:52.139Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:52.139Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.83%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:53.771Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"84.49%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:53.771Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:12:53.771Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"84.50%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:55.139Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.85%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:55.139Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:12:55.139Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.87%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:56.762Z","level":"info","message":"High heap utilization detected","context":{"heapUtilization":"84.51","heapUsed":23,"heapTotal":27}}
{"timestamp":"2025-10-01T00:12:56.762Z","level":"info","message":"Potential memory leak detected","context":{"rssToHeapRatio":"3.57","rss":82,"heapUsed":23}}
[Server STDERR]: {"timestamp":"2025-10-01T00:12:56.766Z","level":"warn","message":"Performance alert: Heap utilization (86%) exceeds threshold","context":{"severity":"high","metric":"heap_utilization","value":86.43502208674066,"threshold":85}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:56.772Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"91.27%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:56.773Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:12:56.773Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"91.28%","reduction":"0.00%"}}
  Progress: 82% | RPS: 0 | Avg RT: 0ms | Errors: 0.0%
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:58.140Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.89%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:58.141Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:12:58.141Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.90%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:12:59.774Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"91.30%"}}
{"timestamp":"2025-10-01T00:12:59.774Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:12:59.774Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"91.31%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:01.120Z","level":"info","message":"High heap utilization detected","context":{"heapUtilization":"83.92","heapUsed":22,"heapTotal":27}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:01.120Z","level":"info","message":"Potential memory leak detected","context":{"rssToHeapRatio":"3.59","rss":79,"heapUsed":22}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:01.142Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"83.97%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:01.142Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:13:01.142Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"83.98%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:01.283Z","level":"info","message":"Database health check failed","context":{"error":"role \"testuser\" does not exist","totalErrors":3}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:02.775Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"91.33%"}}
{"timestamp":"2025-10-01T00:13:02.775Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:02.775Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"91.35%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:04.143Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"84.15%"}}
{"timestamp":"2025-10-01T00:13:04.143Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:04.143Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"84.16%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:05.776Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"91.37%"}}
{"timestamp":"2025-10-01T00:13:05.776Z","level":"info","message":"Cleared global caches (ESM mode)"}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:05.776Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"91.38%","reduction":"0.00%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:07.145Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"84.18%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:07.145Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:13:07.145Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"84.20%","reduction":"0.00%"}}
  Progress: 98% | RPS: 0 | Avg RT: 0ms | Errors: 0.0%
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:08.777Z","level":"info","message":"Starting aggressive memory optimization","context":{"heapUtilization":"91.40%"}}
[Server STDOUT]: {"timestamp":"2025-10-01T00:13:08.777Z","level":"info","message":"Cleared global caches (ESM mode)"}
{"timestamp":"2025-10-01T00:13:08.777Z","level":"info","message":"Aggressive memory optimization completed","context":{"heapUtilization":"91.41%","reduction":"0.00%"}}
âœ… Sustained load phase complete
ðŸ“‰ Ramp-down phase starting...
  Active users: 40
